<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>åŸºäºVerceléƒ¨ç½²macé£æ ¼ç½‘æ˜“äº‘éŸ³ä¹</title>
      <link href="posts/dff3835f/"/>
      <url>posts/dff3835f/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ˜¨å¤©åœ¨Githubä¸Šå‘ç°äº†ä¸€ä¸ªç½‘æ˜“äº‘éŸ³ä¹çš„é¡¹ç›®ï¼Œ<a href="https://github.com/sl1673495/vue-netease-music">vue-netease-music</a>å®ƒæ˜¯åŸºäº Vue2ã€Vue-CLI3 çš„é«˜ä»¿ç½‘æ˜“äº‘ mac å®¢æˆ·ç«¯æ’­æ”¾å™¨ï¼Œå·²ç»æœ‰1.5kçš„starã€‚æ ¹æ®ä»–ç»™çš„æ¼”ç¤ºåœ°å€å‘ç°å‡ ä¹å®ç°äº†æ‰€æœ‰çš„ç½‘æ˜“äº‘åŠŸèƒ½(ä¸åŒ…æ‹¬éœ€è¦VIPçš„éƒ¨åˆ†)ã€‚ä½†æ˜¯ä»–çš„READMEå†™çš„å¾ˆç®€é™‹ï¼Œå¾ˆå¤šå°ç™½ä¸çŸ¥é“å¦‚ä½•æ­å»ºï¼Œæ‹…å¿ƒéœ€ä¸éœ€è¦åŸŸåå’ŒæœåŠ¡å™¨ã€‚ã€‚æœ¬æ•™ç¨‹çš„éƒ¨ç½²æ–¹æ³•æ˜¯ä¸éœ€è¦åŸŸåå’ŒæœåŠ¡å™¨çš„ï¼Œåªéœ€è¦ç®€å•çš„å‡ æ­¥å°±å¯ä»¥éƒ¨ç½²æˆåŠŸã€‚è¯·æå‰å‡†å¤‡å¥½Githubè´¦å·ã€‚</p><a class="btn-beautify button--animated pink larger" href="https://music.imgyh.com/"   title="æ¼”ç¤ºåœ°å€"><i class="far fa-hand-point-right fa-fw"></i><span>æ¼”ç¤ºåœ°å€</span></a><h1 id="éƒ¨ç½²æ–¹æ³•"><a href="#éƒ¨ç½²æ–¹æ³•" class="headerlink" title="éƒ¨ç½²æ–¹æ³•"></a>éƒ¨ç½²æ–¹æ³•</h1><ol><li>é¦–å…ˆforké¡¹ç›®åˆ°è‡ªå·±çš„Githubä»“åº“ï¼š<a href="https://github.com/sl1673495/vue-netease-music">https://github.com/sl1673495/vue-netease-music</a></li><li>è¿›å…¥<a href="https://vercel.com/">Vercel</a>é€‰æ‹©Githubç™»å½•ï¼Œç‚¹å‡» <code>New Project</code>ã€‚</li><li>åœ¨æœç´¢æ¡†å†…æœç´¢é¡¹ç›®åç§°ï¼Œå¹¶ç‚¹å‡»<code>import</code>å¯¼å…¥é¡¹ç›®ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210223133506.webp" alt="å¯¼å…¥é¡¹ç›®"></li><li>ä¹‹åé€‰æ‹©é¡¹ç›®æ‰€æœ‰è€…ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210223134246.webp" alt="é€‰æ‹©æ‰€æœ‰è€…"></li><li>æ¥ä¸‹æ¥è¿›è¡Œéƒ¨ç½²çš„è®¾ç½®ï¼Œ<code>PROJECT NAME</code>éšä¾¿èµ·ä¸€ä¸ªï¼Œ<code>FRAMEWORK PRESET</code>è‡ªåŠ¨è¯†åˆ«çš„ä¸ç”¨ç®¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯<code>Build and Output Settings</code>ï¼Œå‹¾é€‰<code>OUTPUT DIRECTORY</code>åçš„æŒ‰é’®ï¼Œå¹¶å°†<code>dist</code>æ”¹ä¸º<code>music</code>ï¼Œè¿™æ˜¯ç¼–è¯‘åçš„è¾“å‡ºç›®å½•ï¼Œå› ä¸ºç¼–è¯‘å¥½åçš„æ–‡ä»¶è¾“å‡ºåœ¨<code>music</code>ç›®å½•ä¸‹ï¼Œä¸æ˜¯<code>dist</code>æ‰€ä»¥éœ€è¦ä¿®æ”¹ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210223134827.webp" alt="éƒ¨ç½²è®¾ç½®"></li><li>æœ€åç‚¹å‡»ä¸‹é¢çš„<code>Deploy</code>ç­‰å¾…3åˆ†é’Ÿå·¦å³å°±ä¼šå‡ºç°çƒŸèŠ±çš„æ™¯è±¡ï¼Œä»£è¡¨éƒ¨ç½²æˆåŠŸã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210223135821.webp" alt="éƒ¨ç½²æˆåŠŸ"></li><li>ç‚¹å‡»<code>visit</code>å³å¯æŸ¥çœ‹ï¼Œç‚¹å‡»<code>open dashbord</code>å¯è¿›è¡Œç›¸åº”è®¾ç½®ã€‚ç‚¹å‡»<code>setting</code>-&gt;<code>domains</code>å¯ä»¥æ·»åŠ è‡ªå®šä¹‰åŸŸåã€‚</li></ol><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://blog.imzjw.cn/posts/vue-netease-music/">æ— éœ€æœåŠ¡å™¨å’ŒåŸŸåå¿«é€Ÿæ­å»ºéƒ¨ç½²Vueä»¿ç½‘æ˜“äº‘</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vercel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨workbox-buildå’Œgulpä¸ºHexoåšå®¢å¼€å¯PWA</title>
      <link href="posts/74ba30cc/"/>
      <url>posts/74ba30cc/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä»¥å‰æˆ‘ä¹Ÿä½¿ç”¨hexo-pwaæ’ä»¶å¼€å¯pwaï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨è€ç‰ˆæœ¬çš„hexoï¼Œå¾ˆä¸æ–¹ä¾¿ï¼Œä»Šå¤©å‡çº§ä¸»é¢˜ï¼Œæ­£å¥½æ¢ä¸€ç§æ–¹æ³•æ¥å®‰è£…PWA</p><p>PWAçš„ç›¸å…³ä»‹ç»åœ¨ä»¥å‰çš„æ–‡ç« ä»‹ç»å¾ˆè¯¦ç»†äº†ã€‚<a href="/posts/805d5d89/" title="hexoåšå®¢å¼€å¯pwa">hexoåšå®¢å¼€å¯pwa</a></p><div class="note info flat"><p>æœ¬æ–‡çš„ç¯å¢ƒæ˜¯hexo5.3.0å’Œbutterfly3.6.2ï¼Œå¦‚æœä½ æ˜¯å…¶ä»–ä¸»é¢˜å¯èƒ½æœ‰å‡ºå…¥</p></div><h1 id="ç”Ÿæˆç½‘ç«™å›¾æ ‡ç´ æ"><a href="#ç”Ÿæˆç½‘ç«™å›¾æ ‡ç´ æ" class="headerlink" title="ç”Ÿæˆç½‘ç«™å›¾æ ‡ç´ æ"></a>ç”Ÿæˆç½‘ç«™å›¾æ ‡ç´ æ</h1><p>å› ä¸ºæˆ‘ä»¬æœ€ç»ˆç›®çš„æ˜¯è¦åˆ¶ä½œä¸€ä¸ªå…¨å¹³å°çš„ WEB APPï¼Œæ‰€ä»¥å¯¹äºå›¾æ ‡çš„å¤§å°ã€ç±»å‹é€‚é…æ˜¾å¾—æ ¼å¤–é‡è¦ã€‚å¯ä»¥è®¿é—® <a href="https://realfavicongenerator.net/">realfavicongenerator</a> è¿›è¡Œå›¾æ ‡åˆ¶ä½œåŠ manifest çš„ç”Ÿæˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214223809.png" alt="é€‰æ‹©å›¾ç‰‡"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214223925.png" alt="åˆ›å»ºæ‰€æœ‰å›¾ç‰‡"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214224105.png" alt="è°ƒæ•´windowsç£è´´é¢œè‰²"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214224213.png" alt="è®¾ç½®è·¯å¾„"></p><p>æ­¤å¤„è®¾ç½®çš„æ˜¯ <code>/pwa</code>,ç”Ÿæˆçš„<code>manifest.json</code>å¦‚ä¸‹ä¸€æ­¥æ‰€ç¤ºï¼Œå°±æ˜¯å›¾æ ‡çš„ç›¸å¯¹è·¯å¾„</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214224420.png" alt="è®¾ç½®ç½‘ç«™åå­—"></p><p>ä¹‹åç‚¹å‡»ç”Ÿæˆ <code>Generate your Favicons and HTML code</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214224536.png" alt="ä¸‹è½½"></p><p>æœ€åè§£å‹æ–‡ä»¶ï¼Œé‡å‘½åä¸ºpwaï¼Œå¹¶å¤åˆ¶åˆ°Hexoåšå®¢ä¸‹çš„<code>source</code>æ–‡ä»¶å¤¹å†…</p><h1 id="å¼€å¯è®¾ç½®å’Œé…ç½®manifest-json"><a href="#å¼€å¯è®¾ç½®å’Œé…ç½®manifest-json" class="headerlink" title="å¼€å¯è®¾ç½®å’Œé…ç½®manifest.json"></a>å¼€å¯è®¾ç½®å’Œé…ç½®manifest.json</h1><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ä¸­å¼€å¯ <code>pwa</code> é€‰é¡¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pwa:</span><br><span class="line">  enable: true</span><br><span class="line">  manifest: &#x2F;pwa&#x2F;manifest.json</span><br><span class="line">  apple_touch_icon: &#x2F;pwa&#x2F;apple-touch-icon.png</span><br><span class="line">  favicon_32_32: &#x2F;pwa&#x2F;favicon-32x32.png</span><br><span class="line">  favicon_16_16: &#x2F;pwa&#x2F;favicon-16x16.png</span><br><span class="line">  mask_icon: &#x2F;pwa&#x2F;safari-pinned-tab.svg</span><br></pre></td></tr></table></figure><p>åœ¨Hexoçš„<code>source/pwa/</code>ç›®å½•ä¸‹åˆ›å»º<code>/pwa/manifest.json</code>æ–‡ä»¶ã€‚å’Œä¸»é¢˜çš„<code>/pwa/manifest.json</code>ä¿æŒä¸€è‡´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;GYH&#39;s Blog&quot;,</span><br><span class="line">    &quot;short_name&quot;: &quot;GYH&#39;s Blog&quot;,</span><br><span class="line">    &quot;icons&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-36x36.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;36x36&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-48x48.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;48x48&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-72x72.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;72x72&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-96x96.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;96x96&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-144x144.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;144x144&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-192x192.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;192x192&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-256x256.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;256x256&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-384x384.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;384x384&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;src&quot;: &quot;&#x2F;pwa&#x2F;android-chrome-512x512.png&quot;,</span><br><span class="line">            &quot;sizes&quot;: &quot;512x512&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;theme_color&quot;: &quot;#ffffff&quot;,</span><br><span class="line">    &quot;background_color&quot;: &quot;#ffffff&quot;,</span><br><span class="line">    &quot;display&quot;: &quot;standalone&quot;,</span><br><span class="line">    &quot;splash_pages&quot;: null,</span><br><span class="line">    &quot;scope&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">    &quot;start_url&quot;: &quot;&#x2F;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <a href="https://app-manifest.firebaseapp.com/">Web App Manifest</a>å¿«é€Ÿåˆ›å»º<code>manifest.json</code>ã€‚ï¼ˆWeb App Manifest è¦æ±‚è‡³å°‘åŒ…å«ä¸€ä¸ª 512*512 åƒç´ çš„å›¾æ ‡ï¼‰</p><h1 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h1><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¾“å…¥å‘½ä»¤å®‰è£…æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install workbox-build gulp --save-dev</span><br></pre></td></tr></table></figure><p>æˆ‘å®‰è£…çš„ç‰ˆæœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;gulp&quot;: &quot;^4.0.2&quot;,</span><br><span class="line">&quot;workbox-build&quot;: &quot;^6.1.0&quot;</span><br></pre></td></tr></table></figure><h1 id="åˆ›å»ºgulpfile-js-æ–‡ä»¶"><a href="#åˆ›å»ºgulpfile-js-æ–‡ä»¶" class="headerlink" title="åˆ›å»ºgulpfile.js æ–‡ä»¶"></a>åˆ›å»ºgulpfile.js æ–‡ä»¶</h1><p>åœ¨Hexoçš„æ ¹ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª <code>gulpfile.js</code>æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const gulp &#x3D; require(&quot;gulp&quot;);</span><br><span class="line">const workbox &#x3D; require(&quot;workbox-build&quot;);</span><br><span class="line"></span><br><span class="line">gulp.task(&#39;generate-service-worker&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">    return workbox.injectManifest(&#123;</span><br><span class="line">        swSrc: &#39;.&#x2F;sw-template.js&#39;,</span><br><span class="line">        swDest: &#39;.&#x2F;public&#x2F;sw.js&#39;,</span><br><span class="line">        globDirectory: &#39;.&#x2F;public&#39;,</span><br><span class="line">        globPatterns: [</span><br><span class="line">            &quot;**&#x2F;*.&#123;html,css,js,json,woff2&#125;&quot;</span><br><span class="line">        ],</span><br><span class="line">        modifyURLPrefix: &#123;</span><br><span class="line">            &quot;&quot;: &quot;.&#x2F;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;build&quot;, gulp.series(&quot;generate-service-worker&quot;));</span><br></pre></td></tr></table></figure><h1 id="åˆ›å»º-sw-template-js-æ–‡ä»¶"><a href="#åˆ›å»º-sw-template-js-æ–‡ä»¶" class="headerlink" title="åˆ›å»º sw-template.js æ–‡ä»¶"></a>åˆ›å»º sw-template.js æ–‡ä»¶</h1><p>åœ¨Hexoçš„æ ¹ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª<code>sw-template.js</code>æ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œçš„ <code>const workboxVersion = &#39;6.1.0&#39;;</code> å¯èƒ½éœ€è¦æ ¹æ®ä½ çš„å®‰è£…ç‰ˆæœ¬æ¥ä¿®æ”¹ï¼Œæˆ‘æ˜¯ä¿®æ”¹äº†çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">const workboxVersion &#x3D; &#39;6.1.0&#39;;</span><br><span class="line"></span><br><span class="line">importScripts(&#96;https:&#x2F;&#x2F;storage.googleapis.com&#x2F;workbox-cdn&#x2F;releases&#x2F;$&#123;workboxVersion&#125;&#x2F;workbox-sw.js&#96;);</span><br><span class="line"></span><br><span class="line">workbox.core.setCacheNameDetails(&#123;</span><br><span class="line">    prefix: &quot;Your Name&quot;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workbox.core.skipWaiting();</span><br><span class="line"></span><br><span class="line">workbox.core.clientsClaim();</span><br><span class="line"></span><br><span class="line">workbox.precaching.precacheAndRoute(self.__WB_MANIFEST,&#123;</span><br><span class="line">    directoryIndex: null</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workbox.precaching.cleanupOutdatedCaches();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Images</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    &#x2F;\.(?:png|jpg|jpeg|gif|bmp|webp|svg|ico)$&#x2F;,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: &quot;images&quot;,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Fonts</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    &#x2F;\.(?:eot|ttf|woff|woff2)$&#x2F;,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: &quot;fonts&quot;,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Google Fonts</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    &#x2F;^https:\&#x2F;\&#x2F;fonts\.googleapis\.com&#x2F;,</span><br><span class="line">    new workbox.strategies.StaleWhileRevalidate(&#123;</span><br><span class="line">        cacheName: &quot;google-fonts-stylesheets&quot;</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    &#x2F;^https:\&#x2F;\&#x2F;fonts\.gstatic\.com&#x2F;,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: &#39;google-fonts-webfonts&#39;,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Static Libraries</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    &#x2F;^https:\&#x2F;\&#x2F;cdn\.jsdelivr\.net&#x2F;,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: &quot;static-libs&quot;,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">workbox.googleAnalytics.initialize();</span><br></pre></td></tr></table></figure><p>æŠŠ<code>prefix</code> ä¿®æ”¹ä¸ºä½ åšå®¢çš„åå­—ï¼ˆè‹±æ–‡ï¼‰ï¼Œå¦‚æœä½ æƒ³ç”¨å…¶å®ƒç¼“å­˜ç­–ç•¥ï¼Œè¯·è‡ªè¡ŒæŸ¥çœ‹<a href="https://developers.google.com/web/tools/workbox/modules/workbox-strategies">ç›¸å…³æ–‡æ¡£</a></p><h1 id="æ·»åŠ csså’Œjsè¿›ä¸»é¢˜"><a href="#æ·»åŠ csså’Œjsè¿›ä¸»é¢˜" class="headerlink" title="æ·»åŠ csså’Œjsè¿›ä¸»é¢˜"></a>æ·»åŠ csså’Œjsè¿›ä¸»é¢˜</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &#39;&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;.app-refresh&#123;position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease&#125;.app-refresh-wrap&#123;display:flex;color:#fff;height:100%;align-items:center;justify-content:center&#125;.app-refresh-wrap a&#123;color:#fff;text-decoration:underline;cursor:pointer&#125;&lt;&#x2F;style&gt;&#39;</span><br><span class="line">  bottom:</span><br><span class="line">    - &#39;&lt;div class&#x3D;&quot;app-refresh&quot; id&#x3D;&quot;app-refresh&quot;&gt; &lt;div class&#x3D;&quot;app-refresh-wrap&quot;&gt; &lt;label&gt;âœ¨ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ‘‰&lt;&#x2F;label&gt; &lt;a href&#x3D;&quot;javascript:void(0)&quot; onclick&#x3D;&quot;location.reload()&quot;&gt;ç‚¹å‡»åˆ·æ–°&lt;&#x2F;a&gt; &lt;&#x2F;div&gt;&lt;&#x2F;div&gt;&lt;script&gt;function showNotification()&#123;if(GLOBAL_CONFIG.Snackbar)&#123;var t&#x3D;&quot;light&quot;&#x3D;&#x3D;&#x3D;document.documentElement.getAttribute(&quot;data-theme&quot;)?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e&#x3D;GLOBAL_CONFIG.Snackbar.position;Snackbar.show(&#123;text:&quot;å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬&quot;,backgroundColor:t,duration:5e5,pos:e,actionText:&quot;ç‚¹å‡»åˆ·æ–°&quot;,actionTextColor:&quot;#fff&quot;,onActionClick:function(t)&#123;location.reload()&#125;&#125;)&#125;else&#123;var o&#x3D;&#96;top: 0; background: $&#123;&quot;light&quot;&#x3D;&#x3D;&#x3D;document.documentElement.getAttribute(&quot;data-theme&quot;)?&quot;#49b1f5&quot;:&quot;#1f1f1f&quot;&#125;;&#96;;document.getElementById(&quot;app-refresh&quot;).style.cssText&#x3D;o&#125;&#125;&quot;serviceWorker&quot;in navigator&amp;&amp;(navigator.serviceWorker.controller&amp;&amp;navigator.serviceWorker.addEventListener(&quot;controllerchange&quot;,function()&#123;showNotification()&#125;),window.addEventListener(&quot;load&quot;,function()&#123;navigator.serviceWorker.register(&quot;&#x2F;sw.js&quot;)&#125;));&lt;&#x2F;script&gt;&#39;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ˜¯å‹ç¼©è¿‡çš„ï¼Œå…·ä½“ç›¸å…³ä»£ç å¦‚ä¸‹ï¼Œå¯ä¾›ç†è§£ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;app-refresh&quot; id&#x3D;&quot;app-refresh&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;app-refresh-wrap&quot;&gt;</span><br><span class="line">    &lt;label&gt;âœ¨ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ‘‰&lt;&#x2F;label&gt;</span><br><span class="line">    &lt;a href&#x3D;&quot;javascript:void(0)&quot; onclick&#x3D;&quot;location.reload()&quot;&gt;ç‚¹å‡»åˆ·æ–°&lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  if (&#39;serviceWorker&#39; in navigator) &#123;</span><br><span class="line">    if (navigator.serviceWorker.controller) &#123;</span><br><span class="line">      navigator.serviceWorker.addEventListener(&#39;controllerchange&#39;, function () &#123;</span><br><span class="line">        showNotification()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    window.addEventListener(&#39;load&#39;, function () &#123;</span><br><span class="line">      navigator.serviceWorker.register(&#39;&#x2F;sw.js&#39;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function showNotification() &#123;</span><br><span class="line">    if (GLOBAL_CONFIG.Snackbar) &#123;</span><br><span class="line">      var snackbarBg &#x3D;</span><br><span class="line">        document.documentElement.getAttribute(&#39;data-theme&#39;) &#x3D;&#x3D;&#x3D; &#39;light&#39;</span><br><span class="line">          ? GLOBAL_CONFIG.Snackbar.bgLight</span><br><span class="line">          : GLOBAL_CONFIG.Snackbar.bgDark</span><br><span class="line">      var snackbarPos &#x3D; GLOBAL_CONFIG.Snackbar.position</span><br><span class="line">      Snackbar.show(&#123;</span><br><span class="line">        text: &#39;å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬&#39;,</span><br><span class="line">        backgroundColor: snackbarBg,</span><br><span class="line">        duration: 500000,</span><br><span class="line">        pos: snackbarPos,</span><br><span class="line">        actionText: &#39;ç‚¹å‡»åˆ·æ–°&#39;,</span><br><span class="line">        actionTextColor: &#39;#fff&#39;,</span><br><span class="line">        onActionClick: function (e) &#123;</span><br><span class="line">          location.reload()</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      var showBg &#x3D;</span><br><span class="line">        document.documentElement.getAttribute(&#39;data-theme&#39;) &#x3D;&#x3D;&#x3D; &#39;light&#39;</span><br><span class="line">          ? &#39;#49b1f5&#39;</span><br><span class="line">          : &#39;#1f1f1f&#39;</span><br><span class="line">      var cssText &#x3D; &#96;top: 0; background: $&#123;showBg&#125;;&#96;</span><br><span class="line">      document.getElementById(&#39;app-refresh&#39;).style.cssText &#x3D; cssText</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">  .app-refresh &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: -2.2rem;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    z-index: 99999;</span><br><span class="line">    padding: 0 1rem;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">    height: 2.2rem;</span><br><span class="line">    transition: all 0.3s ease;</span><br><span class="line">  &#125;</span><br><span class="line">  .app-refresh-wrap &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    color: #fff;</span><br><span class="line">    height: 100%;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .app-refresh-wrap span &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    text-decoration: underline;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨å‘½ä»¤"><a href="#ä½¿ç”¨å‘½ä»¤" class="headerlink" title="ä½¿ç”¨å‘½ä»¤"></a>ä½¿ç”¨å‘½ä»¤</h1><p>åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€å¥å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">.&#x2F;node_modules&#x2F;gulp&#x2F;bin&#x2F;gulp.js build   #ç”Ÿæˆsw.js</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://butterfly.js.org/posts/4073eda/#PWA">butterflyæ–‡æ¡£</a><br><a href="https://io-oi.me/tech/pwa-via-workbox/">åˆ©ç”¨ Workbox å®ç°åšå®¢çš„ PWA</a><br><a href="https://akilar.top/posts/8f31c3d0/">åŸºäº Butterfly ä¸»é¢˜çš„ PWA å®ç°æ–¹æ¡ˆ</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> PWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®šæ—¶è‡ªåŠ¨æäº¤åšå®¢ç½‘å€ç»™ç™¾åº¦</title>
      <link href="posts/7db32d68/"/>
      <url>posts/7db32d68/</url>
      
        <content type="html"><![CDATA[<h1 id="é¡¹ç›®è¯´æ˜"><a href="#é¡¹ç›®è¯´æ˜" class="headerlink" title="é¡¹ç›®è¯´æ˜"></a>é¡¹ç›®è¯´æ˜</h1><p>æœ¬é¡¹ç›®æ˜¯åŸºäº GitHub Action æ¯å¤©å®šæ—¶æäº¤åšå®¢ç½‘å€ç»™ç™¾åº¦ï¼Œå®ç°å¿«é€Ÿæ”¶å½•ã€‚ç™¾åº¦çš„èµ„æºæäº¤æœ‰ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯APIæ¨é€ï¼Œsitemapæäº¤ä»¥åŠæ‰‹åŠ¨æäº¤ã€‚æ ¹æ®ç™¾åº¦å®˜æ–¹çš„ä¸‰ç§æäº¤æ–¹å¼ä¸­APIæ¨é€æœ€ä¸ºå¿«é€Ÿï¼Œæ•…æœ¬æ–‡å°†åŸºäº GitHub Action å®ç°APIæ¨é€ã€‚ä»¥ä¸‹æ˜¯ç™¾åº¦å®˜æ–¹è¯´æ˜</p><ul><li><p>APIæ¨é€ï¼šæœ€ä¸ºå¿«é€Ÿçš„æäº¤æ–¹å¼ï¼Œå»ºè®®æ‚¨å°†ç«™ç‚¹å½“å¤©æ–°äº§å‡ºé“¾æ¥ç«‹å³é€šè¿‡æ­¤æ–¹å¼æ¨é€ç»™ç™¾åº¦ï¼Œä»¥ä¿è¯æ–°é“¾æ¥å¯ä»¥åŠæ—¶è¢«ç™¾åº¦æ”¶å½•ã€‚</p></li><li><p>sitemapï¼šæ‚¨å¯ä»¥å®šæœŸå°†ç½‘ç«™é“¾æ¥æ”¾åˆ°Sitemapä¸­ï¼Œç„¶åå°†Sitemapæäº¤ç»™ç™¾åº¦ã€‚ç™¾åº¦ä¼šå‘¨æœŸæ€§çš„æŠ“å–æ£€æŸ¥æ‚¨æäº¤çš„Sitemapï¼Œå¯¹å…¶ä¸­çš„é“¾æ¥è¿›è¡Œå¤„ç†ï¼Œä½†æ”¶å½•é€Ÿåº¦æ…¢äºAPIæ¨é€ã€‚</p></li><li><p>æ‰‹åŠ¨æäº¤ï¼šå¦‚æœæ‚¨ä¸æƒ³é€šè¿‡ç¨‹åºæäº¤ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨æ­¤ç§æ–¹å¼ï¼Œæ‰‹åŠ¨å°†é“¾æ¥æäº¤ç»™ç™¾åº¦ã€‚</p></li><li><p>è‡ªåŠ¨æ¨é€ï¼šè½»é‡çº§é“¾æ¥æäº¤ç»„ä»¶ï¼Œå°†è‡ªåŠ¨æ¨é€çš„JSä»£ç æ”¾ç½®åœ¨ç«™ç‚¹æ¯ä¸€ä¸ªé¡µé¢æºä»£ç ä¸­ï¼Œå½“é¡µé¢è¢«è®¿é—®æ—¶ï¼Œé¡µé¢é“¾æ¥ä¼šè‡ªåŠ¨æ¨é€ç»™ç™¾åº¦ï¼Œæœ‰åˆ©äºæ–°é¡µé¢æ›´å¿«è¢«ç™¾åº¦å‘ç°ã€‚</p></li></ul><h1 id="å®‰è£…Sitemapæ’ä»¶"><a href="#å®‰è£…Sitemapæ’ä»¶" class="headerlink" title="å®‰è£…Sitemapæ’ä»¶"></a>å®‰è£…Sitemapæ’ä»¶</h1><div class="note info flat"><p>å¦‚æœä»¥å‰å·²ç»å®‰è£…äº† <code>hexo-generator-sitemap</code> å’Œ <code>hexo-generator-baidu-sitemap</code> ä¸¤ä¸ªæ’ä»¶çš„åŒå­¦å¯ä»¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚</p></div><p>é¦–å…ˆæœ¬é¡¹ç›®æ˜¯åŸºäºsitemapçš„ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰sitemapæ–‡ä»¶å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹æ³•æ“ä½œ</p><p>å®‰è£…åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£…ä¸¤ä¸ªæ’ä»¶,åˆ†åˆ«æ˜¯<a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a>å’Œ<a href="https://github.com/coneycode/hexo-generator-baidu-sitemap">hexo-generator-baidu-sitemap</a>ï¼Œçœ‹ä¸¤ä¸ªçš„åå­—å°±çŸ¥é“åé¢ä¸€ä¸ªçš„æ˜¯ä¸“é—¨ä¸ºç™¾åº¦ç”Ÿæˆsitemapçš„æ’ä»¶ï¼Œå‰ä¸€ä¸ªæ˜¯ç»™åˆ«çš„æœç´¢å¼•æ“ä½¿ç”¨çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save     </span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹åšå®¢ <code>_config.yml</code>,æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œä¸‹é¢çš„æ˜¯é’ˆå¯¹äº <code>hexo-generator-sitemap</code> æ’ä»¶çš„é…ç½®ï¼Œ<code>hexo-generator-baidu-sitemap</code> å¯ä»¥ä¸ç”¨é…ç½®ï¼Œå®‰è£…å¥½åå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">  template: .&#x2F;sitemap_template.xml</span><br><span class="line">  rel: false</span><br><span class="line">  tags: true</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure><h1 id="é…ç½®Github-Action"><a href="#é…ç½®Github-Action" class="headerlink" title="é…ç½®Github Action"></a>é…ç½®Github Action</h1><p>é¦–å…ˆéœ€è¦forkæˆ‘çš„GitHubä»“åº“ï¼š<a href="https://github.com/imgyh/script">https://github.com/imgyh/script</a></p><p>åœ¨GitHub ä»“åº“ä¸­æœ‰å¦‚ä¸‹æ–‡ä»¶ï¼Œåˆ°æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶åªæœ‰è¿™äº›æ–‡ä»¶ï¼Œå¯èƒ½ä»¥åæœ‰å…¶ä»–é¡¹ç›®è¿˜ä¼šåŠ è¿›å»ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œå…¶ä¸­ <code>.github/workflows</code> å’Œ <code>baidu_submit</code> ä¸¤ä¸ªæ–‡ä»¶å¤¹æ˜¯æœ¬æ¬¡é¡¹ç›®æ‰€éœ€è¦çš„ã€‚<code>valine_wake_up</code> æ˜¯å¦ä¸€ä¸ªé¡¹ç›®çš„æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³äº†è§£ <code>Valine</code> é˜²æ­¢Leancloudæµæ§æ— æ³•å”¤é†’ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ <a href="/posts/ef89201e/" title="è§£å†³Leancloudæµæ§å¯¼è‡´æ— æ³•å”¤é†’é—®é¢˜">è§£å†³Leancloudæµæ§å¯¼è‡´æ— æ³•å”¤é†’é—®é¢˜</a></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214213154.png" alt="Githubä»“åº“ç»“æ„"></p><p>ç„¶åæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸¤ä¸ª <code>secrets</code>ã€‚åœ¨ä½ forkçš„ä»“åº“ä¸‹çš„ <code>settings</code> -&gt; <code>Secrets</code> -&gt; <code>New repository secret</code> æ·»åŠ å¦‚ä¸‹ä¸¤ä¸ª<code>Secrets</code></p><table><thead><tr><th align="left">Name</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">BAIDU_SUBMIT_API</td><td align="left">ç™¾åº¦çš„APIæäº¤urlå¦‚ä¸‹å›¾</td></tr><tr><td align="left">BAIDU_SITEMAP_URL</td><td align="left">ä½ è‡ªå·±åšå®¢çš„ç™¾åº¦sitemapåœ°å€ ç¤ºä¾‹ï¼š</td></tr></tbody></table><p>BAIDU_SUBMIT_API ç¤ºä¾‹ï¼š<a href="http://data.zz.baidu.com/urls?site=https://www.imgyh.com&amp;token=XXXX">http://data.zz.baidu.com/urls?site=https://www.imgyh.com&amp;token=XXXX</a><br>BAIDU_SITEMAP_URL ç¤ºä¾‹ï¼š<a href="https://www.imgyh.com/baidusitemap.xml">https://www.imgyh.com/baidusitemap.xml</a></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210214214716.png" alt="ç™¾åº¦æ¨é€API"></p><p>ä¹‹åä¼šåœ¨æ¯å¤©çš„ 8, 12, 16, 20ç‚¹å‘ç™¾åº¦å®šæ—¶æäº¤ä½ åšå®¢çš„urlã€‚å½“ç„¶å½“ä½ å‘ä»“åº“pushæ—¶ä¹Ÿå¯è§¦å‘æ¨é€ã€‚è°ƒç”¨æˆåŠŸä¼šæ‰“å°æ‰€æœ‰çš„urlå¹¶æ‰“å° <code>&#123;&quot;remain&quot;:2816,&quot;success&quot;:46&#125;</code>ç±»ä¼¼çš„è¯­å¥ï¼Œ<code>remain</code>è¡¨ç¤ºå½“å¤©å‰©ä½™çš„å¯æ¨é€urlæ¡æ•°ï¼Œ<code>success</code>è¡¨ç¤ºæˆåŠŸæ¨é€çš„urlæ¡æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>requestsè¯¦è§£</title>
      <link href="posts/9b8ebfa5/"/>
      <url>posts/9b8ebfa5/</url>
      
        <content type="html"><![CDATA[<h1 id="å‘é€è¯·æ±‚"><a href="#å‘é€è¯·æ±‚" class="headerlink" title="å‘é€è¯·æ±‚"></a>å‘é€è¯·æ±‚</h1><p>HTTPè¯·æ±‚ç±»å‹æœ‰è¿™ä¹ˆå‡ ç§ï¼šGETï¼ŒPOSTï¼ŒPUTï¼ŒDELETEï¼ŒHEAD ä»¥åŠ OPTIONSï¼Œä¸‹é¢åˆ†åˆ«è¿›è¡Œä»‹ç»</p><h2 id="request"><a href="#request" class="headerlink" title="request"></a>request</h2><p>requestæ˜¯requestsä¸­çš„ä¸€ä¸ªé‡è¦æ–¹æ³•ï¼Œæ‰€æœ‰çš„HTTPè¯·æ±‚éƒ½æ˜¯åŸºäºè¿™ä¸ªæ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request(method, url, **kwargs)</span><br></pre></td></tr></table></figure><ul><li>methodï¼šè¯·æ±‚æ–¹å¼<code>OPTIONS</code>, <code>HEAD</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, or <code>DELETE</code></li><li>urlï¼šè¯·æ±‚çš„ç½‘å€</li></ul><p>**kwargsï¼šå…¶ä»–å¯é€‰å‚æ•°</p><ul><li><p>paramsï¼šå­—å…¸æˆ–å­—èŠ‚åºåˆ—ï¼Œä½œä¸ºå‚æ•°å¢åŠ åˆ°urlä¸­</p></li><li><p>dataï¼šå­—å…¸ã€å­—èŠ‚åºåˆ—æˆ–æ–‡ä»¶å¯¹è±¡ï¼Œä½œä¸ºRequestçš„å†…å®¹</p></li><li><p>jsonï¼šJSONæ ¼å¼çš„æ•°æ®ï¼Œä½œä¸ºRequestçš„å†…å®¹ã€‚</p></li><li><p>headersï¼šå­—å…¸ï¼ŒHTTPå®šåˆ¶è¯·æ±‚å¤´</p></li><li><p>cookiesï¼šå­—å…¸æˆ–CookieJarï¼ŒRequestä¸­çš„cookie</p></li><li><p>filesï¼šå­—å…¸ï¼Œç”¨äºä¼ è¾“æ–‡ä»¶</p></li><li><p>authï¼šå…ƒç»„ï¼Œæ”¯æŒHTTPçš„è®¤è¯åŠŸèƒ½</p></li><li><p>timeoutï¼šè®¾å®šè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</p></li><li><p>allow_redirectsï¼šå¸ƒå°”ï¼Œé‡å®šå‘å¼€å…³ã€‚é»˜è®¤True</p></li><li><p>proxiesï¼šå­—å…¸ï¼Œè®¾å®šä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥å¢åŠ ç™»å½•è®¤è¯</p></li><li><p>verifyï¼šå¸ƒå°”ï¼Œè®¤è¯SSLè¯ä¹¦çš„å¼€å…³ã€‚é»˜è®¤True</p></li><li><p>streamï¼šå¸ƒå°”ï¼Œè·å–å†…å®¹ç«‹å³ä¸‹è½½å¼€å…³ã€‚é»˜è®¤True</p></li><li><p>certï¼šæœ¬åœ°SSLè¯ä¹¦è·¯å¾„</p></li><li><p>streamï¼šå¸ƒå°”ï¼Œè·å–å†…å®¹ç«‹å³ä¸‹è½½å¼€å…³ã€‚é»˜è®¤True</p></li></ul><h2 id="GETè¯·æ±‚"><a href="#GETè¯·æ±‚" class="headerlink" title="GETè¯·æ±‚"></a>GETè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get(url, params&#x3D;None, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;api.github.com&#x2F;events&#39;)</span><br></pre></td></tr></table></figure><h2 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post(url, data&#x3D;None, json&#x3D;None, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.post(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;post&#39;, data &#x3D; &#123;&#39;key&#39;:&#39;value&#39;&#125;)</span><br></pre></td></tr></table></figure><h2 id="PUTè¯·æ±‚"><a href="#PUTè¯·æ±‚" class="headerlink" title="PUTè¯·æ±‚"></a>PUTè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put(url, data&#x3D;None, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.put(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;put&#39;, data &#x3D; &#123;&#39;key&#39;:&#39;value&#39;&#125;)</span><br></pre></td></tr></table></figure><h2 id="DELETEè¯·æ±‚"><a href="#DELETEè¯·æ±‚" class="headerlink" title="DELETEè¯·æ±‚"></a>DELETEè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete(url, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.delete(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;delete&#39;)</span><br></pre></td></tr></table></figure><h2 id="HEADè¯·æ±‚"><a href="#HEADè¯·æ±‚" class="headerlink" title="HEADè¯·æ±‚"></a>HEADè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head(url, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.head(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;)</span><br></pre></td></tr></table></figure><h2 id="OPTIONSè¯·æ±‚"><a href="#OPTIONSè¯·æ±‚" class="headerlink" title="OPTIONSè¯·æ±‚"></a>OPTIONSè¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">options(url, **kwargs)</span><br></pre></td></tr></table></figure><p>å‚æ•°ä¸ä¸Šé¢çš„requestä¸€è‡´ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.options(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;)</span><br></pre></td></tr></table></figure><h1 id="å‘urlä¼ é€’å‚æ•°"><a href="#å‘urlä¼ é€’å‚æ•°" class="headerlink" title="å‘urlä¼ é€’å‚æ•°"></a>å‘urlä¼ é€’å‚æ•°</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url_params &#x3D; &#123;&#39;key&#39;:&#39;value&#39;&#125;       #    å­—å…¸ä¼ é€’å‚æ•°ï¼Œå¦‚æœå€¼ä¸ºNoneçš„é”®ä¸ä¼šè¢«æ·»åŠ åˆ°urlä¸­</span><br><span class="line">r &#x3D; requests.get(&#39;your url&#39;,params &#x3D; url_params)</span><br><span class="line">print(r.url)    # æ‰“å°å†…å®¹your url?key&#x3D;value</span><br></pre></td></tr></table></figure><h1 id="å“åº”å†…å®¹"><a href="#å“åº”å†…å®¹" class="headerlink" title="å“åº”å†…å®¹"></a>å“åº”å†…å®¹</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">r.encoding                       #è·å–å½“å‰çš„ç¼–ç </span><br><span class="line">r.encoding &#x3D; &#39;utf-8&#39;             #è®¾ç½®ç¼–ç </span><br><span class="line">r.text                           #ä»¥encodingè§£æè¿”å›å†…å®¹ã€‚å­—ç¬¦ä¸²æ–¹å¼çš„å“åº”ä½“ï¼Œä¼šè‡ªåŠ¨æ ¹æ®å“åº”å¤´éƒ¨çš„å­—ç¬¦ç¼–ç è¿›è¡Œè§£ç ã€‚</span><br><span class="line">r.content                        #ä»¥å­—èŠ‚å½¢å¼ï¼ˆäºŒè¿›åˆ¶ï¼‰è¿”å›ã€‚å­—èŠ‚æ–¹å¼çš„å“åº”ä½“ï¼Œä¼šè‡ªåŠ¨ä¸ºä½ è§£ç  gzip å’Œ deflate å‹ç¼©ã€‚</span><br><span class="line"></span><br><span class="line">r.request.headers                #è·å–è¯·æ±‚å¤´</span><br><span class="line">r.headers                        #ä»¥å­—å…¸å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨å“åº”å¤´ï¼Œä½†æ˜¯è¿™ä¸ªå­—å…¸æ¯”è¾ƒç‰¹æ®Šï¼Œå­—å…¸é”®ä¸åŒºåˆ†å¤§å°å†™ï¼Œè‹¥é”®ä¸å­˜åœ¨åˆ™è¿”å›None</span><br><span class="line">r.headers[&#39;Content-Type&#39;]        #è®¿é—®headersçš„Content-Typeå†…å®¹</span><br><span class="line">r.headers.get(&#39;Content-Type&#39;)    #è®¿é—®å“åº”å¤´éƒ¨åˆ†å†…å®¹çš„ä¸¤ç§æ–¹å¼</span><br><span class="line"></span><br><span class="line">r.request._cookies               #è·å–è¯·æ±‚çš„cookie</span><br><span class="line">r.cookies                        #è·å–å“åº”çš„cookie</span><br><span class="line">r.cookies[&#39;example_cookie_name&#39;]    #è¯»å–cookies</span><br><span class="line"></span><br><span class="line">r.history                        #è¿”å›é‡å®šå‘ä¿¡æ¯,å½“ç„¶å¯ä»¥åœ¨è¯·æ±‚æ˜¯åŠ ä¸Šallow_redirects &#x3D; false é˜»æ­¢é‡å®šå‘</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r.status_code                     #å“åº”çŠ¶æ€ç </span><br><span class="line">r.raw                             #è¿”å›åŸå§‹å“åº”ä½“ï¼Œä¹Ÿå°±æ˜¯ urllib çš„ response å¯¹è±¡ï¼Œä½¿ç”¨ r.raw.read()   </span><br><span class="line">r.ok                              # æŸ¥çœ‹r.okçš„å¸ƒå°”å€¼ä¾¿å¯ä»¥çŸ¥é“æ˜¯å¦ç™»é™†æˆåŠŸ</span><br><span class="line"></span><br><span class="line"> #*ç‰¹æ®Šæ–¹æ³•*#</span><br><span class="line">r.json()                         #Requestsä¸­å†…ç½®çš„JSONè§£ç å™¨ï¼Œä»¥jsonå½¢å¼è¿”å›,å‰æè¿”å›çš„å†…å®¹ç¡®ä¿æ˜¯jsonæ ¼å¼çš„ï¼Œä¸ç„¶è§£æå‡ºé”™ä¼šæŠ›å¼‚å¸¸</span><br><span class="line">r.raise_for_status()             #å¤±è´¥è¯·æ±‚(é200å“åº”)æŠ›å‡ºå¼‚å¸¸</span><br></pre></td></tr></table></figure><h1 id="å®šåˆ¶è¯·æ±‚å¤´"><a href="#å®šåˆ¶è¯·æ±‚å¤´" class="headerlink" title="å®šåˆ¶è¯·æ±‚å¤´"></a>å®šåˆ¶è¯·æ±‚å¤´</h1><p>å¦‚æœä½ æƒ³ä¸ºè¯·æ±‚æ·»åŠ  HTTP å¤´éƒ¨ï¼Œåªè¦ç®€å•åœ°ä¼ é€’ä¸€ä¸ª dict ç»™ headers å‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url &#x3D; &#39;http:&#x2F;&#x2F;www.baidu.com&#x2F;&#39;</span><br><span class="line">headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;json&#39;,</span><br><span class="line">           &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Linux; Android 6.0; Nexus 5 Build&#x2F;MRA58N) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Mobile Safari&#x2F;537.36&#39;&#125;</span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(url, headers&#x3D;headers)</span><br></pre></td></tr></table></figure><h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">header &#x3D; &#123;&#39;user-agent&#39;: &#39;my-app&#x2F;0.0.1&#39;&#39;&#125;</span><br><span class="line">cookie &#x3D; &#123;&#39;key&#39;:&#39;value&#39;&#125;</span><br><span class="line">r &#x3D; requests.get&#x2F;post(&#39;your url&#39;,headers&#x3D;header,cookies&#x3D;cookie) </span><br></pre></td></tr></table></figure><h1 id="å‘é€postè¯·æ±‚"><a href="#å‘é€postè¯·æ±‚" class="headerlink" title="å‘é€postè¯·æ±‚"></a>å‘é€postè¯·æ±‚</h1><p>é€šå¸¸ï¼Œä½ æƒ³è¦å‘é€ä¸€äº›ç¼–ç ä¸ºè¡¨å•å½¢å¼çš„æ•°æ®â€”â€”éå¸¸åƒä¸€ä¸ª HTML è¡¨å•ã€‚è¦å®ç°è¿™ä¸ªï¼Œåªéœ€ç®€å•åœ°ä¼ é€’ä¸€ä¸ªå­—å…¸ç»™ data å‚æ•°ã€‚ä½ çš„æ•°æ®å­—å…¸åœ¨å‘å‡ºè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨ç¼–ç ä¸ºè¡¨å•å½¢å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">payload &#x3D; &#123;&#39;key1&#39;: &#39;value1&#39;, &#39;key2&#39;: &#39;value2&#39;&#125;</span><br><span class="line"></span><br><span class="line">r &#x3D; requests.post(&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;, data&#x3D;payload)</span><br><span class="line">print(r.text)</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;form&quot;: &#123;</span><br><span class="line">    &quot;key2&quot;: &quot;value2&quot;,</span><br><span class="line">    &quot;key1&quot;: &quot;value1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>postå‘é€jsonè¯·æ±‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line">payload &#x3D; &#123;&#39;some&#39;: &#39;data&#39;&#125;</span><br><span class="line">r &#x3D; requests.post(&#39;https:&#x2F;&#x2F;api.github.com&#x2F;some&#x2F;endpoint&#39;, data&#x3D;json.dumps(&#123;&#39;some&#39;: &#39;data&#39;&#125;))    </span><br><span class="line">#å¦‚æœä¼ é€’çš„payloadæ˜¯stringè€Œä¸æ˜¯dictï¼Œéœ€è¦å…ˆè°ƒç”¨dumpsæ–¹æ³•æ ¼å¼åŒ–ä¸€ä¸‹</span><br><span class="line"># r &#x3D; requests.post(url, json&#x3D;payload)      #è¿™ä¸­ä¸ç”¨è½¬jsonè¾ƒæ–¹ä¾¿</span><br><span class="line">print(r.json())</span><br></pre></td></tr></table></figure><h1 id="postå¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶"><a href="#postå¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶" class="headerlink" title="postå¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶"></a>postå¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶</h1><p>Requests ä½¿å¾—ä¸Šä¼ å¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶å˜å¾—å¾ˆç®€å•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url &#x3D; &#39;http:&#x2F;&#x2F;httpbin.org&#x2F;post&#39;</span><br><span class="line">files &#x3D; &#123;&#39;file&#39;: open(&#39;report.xls&#39;, &#39;rb&#39;)&#125;</span><br><span class="line">r &#x3D; requests.post(url, files&#x3D;files)</span><br></pre></td></tr></table></figure><h1 id="è¶…æ—¶"><a href="#è¶…æ—¶" class="headerlink" title="è¶…æ—¶"></a>è¶…æ—¶</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.get(&#39;url&#39;,timeout&#x3D;1)           #è®¾ç½®ç§’æ•°è¶…æ—¶ï¼Œä»…å¯¹äºè¿æ¥æœ‰æ•ˆ</span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®è®¿é—®ä»£ç†"><a href="#è®¾ç½®è®¿é—®ä»£ç†" class="headerlink" title="è®¾ç½®è®¿é—®ä»£ç†"></a>è®¾ç½®è®¿é—®ä»£ç†</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">proxies &#x3D; &#123;</span><br><span class="line">           &quot;http&quot;: &quot;http:&#x2F;&#x2F;10.10.1.10:3128&quot;,</span><br><span class="line">           &quot;https&quot;: &quot;http:&#x2F;&#x2F;10.10.1.100:4444&quot;,</span><br><span class="line">          &#125;</span><br><span class="line">r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;m.ctrip.com&#39;, proxies&#x3D;proxies)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#å¦‚æœä»£ç†éœ€è¦ç”¨æˆ·åå’Œå¯†ç ï¼Œåˆ™éœ€è¦è¿™æ ·ï¼š</span><br><span class="line">proxies &#x3D; &#123;</span><br><span class="line">    &quot;http&quot;: &quot;http:&#x2F;&#x2F;user:pass@10.10.1.10:3128&#x2F;&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¼šè¯å¯¹è±¡"><a href="#ä¼šè¯å¯¹è±¡" class="headerlink" title="ä¼šè¯å¯¹è±¡"></a>ä¼šè¯å¯¹è±¡</h1><p>ä¼šè¯å¯¹è±¡è®©ä½ èƒ½å¤Ÿè·¨è¯·æ±‚ä¿æŒæŸäº›å‚æ•°ã€‚å®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ª Session å®ä¾‹å‘å‡ºçš„æ‰€æœ‰è¯·æ±‚ä¹‹é—´ä¿æŒ cookie</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># è¯·æ±‚æ•°æ®url</span><br><span class="line">member_url &#x3D; &#39;https:&#x2F;&#x2F;www.yaozh.com&#x2F;member&#x2F;&#39;</span><br><span class="line"></span><br><span class="line">headers &#x3D; &#123;</span><br><span class="line">    &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;70.0.3538.67 Safari&#x2F;537.36&#39;</span><br><span class="line">&#125;</span><br><span class="line"># session ç±» å¯ä»¥è‡ªåŠ¨ä¿å­˜cookies &#x3D;&#x3D;&#x3D; cookiesJar</span><br><span class="line">session &#x3D; requests.session()</span><br><span class="line"># 1.ä»£ç ç™»å½•</span><br><span class="line">login_url &#x3D; &#39;https:&#x2F;&#x2F;www.yaozh.com&#x2F;login&#39;</span><br><span class="line">login_form_data &#x3D; &#123;</span><br><span class="line">    &#39;username&#39;:&#39;xiaomaoera12&#39;,</span><br><span class="line">    &#39;pwd&#39;: &#39;lina081012&#39;,</span><br><span class="line">    &#39;formhash&#39;: &#39;54AC1EE419&#39;,</span><br><span class="line">    &#39;backurl&#39;: &#39;https%3A%2F%2Fwww.yaozh.com%2F&#39;,</span><br><span class="line">&#125;</span><br><span class="line">login_response &#x3D; session.post(login_url,data&#x3D;login_form_data,headers&#x3D;headers)</span><br><span class="line">print(login_response.content.decode())</span><br><span class="line"># 2.ç™»å½•æˆåŠŸä¹‹å å¸¦ç€ æœ‰æ•ˆçš„cookies è®¿é—® è¯·æ±‚ç›®æ ‡æ•°æ®</span><br><span class="line">data &#x3D; session.get(member_url,headers&#x3D;headers).content.decode()</span><br></pre></td></tr></table></figure><h1 id="SSL-è¯ä¹¦éªŒè¯"><a href="#SSL-è¯ä¹¦éªŒè¯" class="headerlink" title="SSL è¯ä¹¦éªŒè¯"></a>SSL è¯ä¹¦éªŒè¯</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url &#x3D; &#39;https:&#x2F;&#x2F;www.12306.cn&#x2F;mormhweb&#x2F;&#39;</span><br><span class="line">headers &#x3D; &#123;</span><br><span class="line">    &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;70.0.3538.67 Safari&#x2F;537.36&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># å› ä¸ºhhtps  æ˜¯æœ‰ç¬¬ä¸‰æ–¹ CA è¯ä¹¦è®¤è¯çš„</span><br><span class="line"># ä½†æ˜¯ 12306  è™½ç„¶æ˜¯https ä½†æ˜¯ å®ƒä¸æ˜¯ CAè¯ä¹¦, ä»–æ˜¯è‡ªå·± é¢å¸ƒçš„è¯ä¹¦</span><br><span class="line"># è§£å†³æ–¹æ³• æ˜¯: å‘Šè¯‰ web å¿½ç•¥è¯ä¹¦ è®¿é—®</span><br><span class="line">response &#x3D; requests.get(url&#x3D;url, headers&#x3D;headers, verify&#x3D;False)</span><br><span class="line">data &#x3D; response.content.deco</span><br></pre></td></tr></table></figure><h1 id="å®¢æˆ·ç«¯è¯ä¹¦"><a href="#å®¢æˆ·ç«¯è¯ä¹¦" class="headerlink" title="å®¢æˆ·ç«¯è¯ä¹¦"></a>å®¢æˆ·ç«¯è¯ä¹¦</h1><p>ä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæœ¬åœ°è¯ä¹¦ç”¨ä½œå®¢æˆ·ç«¯è¯ä¹¦ï¼Œå¯ä»¥æ˜¯å•ä¸ªæ–‡ä»¶ï¼ˆåŒ…å«å¯†é’¥å’Œè¯ä¹¦ï¼‰æˆ–ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„çš„å…ƒç»„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">requests.get(&#39;https:&#x2F;&#x2F;kennethreitz.org&#39;, cert&#x3D;(&#39;&#x2F;path&#x2F;client.cert&#39;, &#39;&#x2F;path&#x2F;client.key&#39;))</span><br><span class="line">&lt;Response [200]&gt;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä¿æŒåœ¨ä¼šè¯ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s &#x3D; requests.Session()</span><br><span class="line">s.cert &#x3D; &#39;&#x2F;path&#x2F;client.cert&#39;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Requests </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BeautifulSoupè¯¦è§£</title>
      <link href="posts/e74af289/"/>
      <url>posts/e74af289/</url>
      
        <content type="html"><![CDATA[<h1 id="BeautifulSoup4ç®€ä»‹"><a href="#BeautifulSoup4ç®€ä»‹" class="headerlink" title="BeautifulSoup4ç®€ä»‹"></a>BeautifulSoup4ç®€ä»‹</h1><p>å‚è€ƒï¼š <a href="http://www.jsphp.net/python/show-24-214-1.html">http://www.jsphp.net/python/show-24-214-1.html</a></p><p>BeautifulSoup4æ˜¯çˆ¬è™«å¿…å­¦çš„æŠ€èƒ½ã€‚BeautifulSoupæœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯ä»ç½‘é¡µæŠ“å–æ•°æ®ï¼ŒBeautiful Soupè‡ªåŠ¨å°†è¾“å…¥æ–‡æ¡£è½¬æ¢ä¸ºUnicodeç¼–ç ï¼Œè¾“å‡ºæ–‡æ¡£è½¬æ¢ä¸ºutf-8ç¼–ç ã€‚BeautifulSoupæ”¯æŒPythonæ ‡å‡†åº“ä¸­çš„HTMLè§£æå™¨,è¿˜æ”¯æŒä¸€äº›ç¬¬ä¸‰æ–¹çš„è§£æå™¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸å®‰è£…å®ƒï¼Œåˆ™ Python ä¼šä½¿ç”¨ Pythoné»˜è®¤çš„è§£æå™¨ï¼Œlxml è§£æå™¨æ›´åŠ å¼ºå¤§ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œæ¨èä½¿ç”¨lxml è§£æå™¨ã€‚</p><p>BeautifulSoup4å’Œ lxml ä¸€æ ·ï¼ŒBeautiful Soup ä¹Ÿæ˜¯ä¸€ä¸ªHTML/XMLçš„è§£æå™¨ï¼Œä¸»è¦çš„åŠŸèƒ½ä¹Ÿæ˜¯å¦‚ä½•è§£æå’Œæå– HTML/XML æ•°æ®ã€‚</p><p>BeautifulSoupæ”¯æŒPythonæ ‡å‡†åº“ä¸­çš„HTMLè§£æå™¨,è¿˜æ”¯æŒä¸€äº›ç¬¬ä¸‰æ–¹çš„è§£æå™¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸å®‰è£…å®ƒï¼Œåˆ™ Python ä¼šä½¿ç”¨ Pythoné»˜è®¤çš„è§£æå™¨ï¼Œlxml è§£æå™¨æ›´åŠ å¼ºå¤§ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œæ¨èä½¿ç”¨lxml è§£æå™¨ã€‚</p><p>Beautiful Soupè‡ªåŠ¨å°†è¾“å…¥æ–‡æ¡£è½¬æ¢ä¸ºUnicodeç¼–ç ï¼Œè¾“å‡ºæ–‡æ¡£è½¬æ¢ä¸ºutf-8ç¼–ç ã€‚ä½ ä¸éœ€è¦è€ƒè™‘ç¼–ç æ–¹å¼ï¼Œé™¤éæ–‡æ¡£æ²¡æœ‰æŒ‡å®šä¸€ä¸ªç¼–ç æ–¹å¼ï¼Œè¿™æ—¶ï¼ŒBeautiful Soupå°±ä¸èƒ½è‡ªåŠ¨è¯†åˆ«ç¼–ç æ–¹å¼äº†ã€‚ç„¶åï¼Œä½ ä»…ä»…éœ€è¦è¯´æ˜ä¸€ä¸‹åŸå§‹ç¼–ç æ–¹å¼å°±å¯ä»¥äº†ã€‚</p><h1 id="BeautifulSoup4ä¸»è¦è§£æå™¨ï¼Œä»¥åŠä¼˜ç¼ºç‚¹"><a href="#BeautifulSoup4ä¸»è¦è§£æå™¨ï¼Œä»¥åŠä¼˜ç¼ºç‚¹" class="headerlink" title="BeautifulSoup4ä¸»è¦è§£æå™¨ï¼Œä»¥åŠä¼˜ç¼ºç‚¹"></a>BeautifulSoup4ä¸»è¦è§£æå™¨ï¼Œä»¥åŠä¼˜ç¼ºç‚¹</h1><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210126142604.png"></p><h1 id="BeautifulSoup4ç®€å•ä½¿ç”¨"><a href="#BeautifulSoup4ç®€å•ä½¿ç”¨" class="headerlink" title="BeautifulSoup4ç®€å•ä½¿ç”¨"></a>BeautifulSoup4ç®€å•ä½¿ç”¨</h1><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªHtmlï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta content&#x3D;&quot;text&#x2F;html;charset&#x3D;utf-8&quot; http-equiv&#x3D;&quot;content-type&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta content&#x3D;&quot;IE&#x3D;Edge&quot; http-equiv&#x3D;&quot;X-UA-Compatible&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta content&#x3D;&quot;always&quot; name&#x3D;&quot;referrer&quot; &#x2F;&gt;</span><br><span class="line">    &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;ss1.bdstatic.com&#x2F;5eN1bjq8AAUYm2zgoY3K&#x2F;r&#x2F;www&#x2F;cache&#x2F;bdorz&#x2F;baidu.min.css&quot; rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“ &lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body link&#x3D;&quot;#0000cc&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;head&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;head_wrapper&quot;&gt;</span><br><span class="line">          &lt;div id&#x3D;&quot;u1&quot;&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;http:&#x2F;&#x2F;news.baidu.com&quot; name&#x3D;&quot;tj_trnews&quot;&gt;æ–°é—» &lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.hao123.com&quot; name&#x3D;&quot;tj_trhao123&quot;&gt;hao123 &lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;http:&#x2F;&#x2F;map.baidu.com&quot; name&#x3D;&quot;tj_trmap&quot;&gt;åœ°å›¾ &lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;http:&#x2F;&#x2F;v.baidu.com&quot; name&#x3D;&quot;tj_trvideo&quot;&gt;è§†é¢‘ &lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;http:&#x2F;&#x2F;tieba.baidu.com&quot; name&#x3D;&quot;tj_trtieba&quot;&gt;è´´å§ &lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a class&#x3D;&quot;bri&quot; href&#x3D;&quot;&#x2F;&#x2F;www.baidu.com&#x2F;more&#x2F;&quot; name&#x3D;&quot;tj_briicon&quot; style&#x3D;&quot;display: block;&quot;&gt;æ›´å¤šäº§å“ &lt;&#x2F;a&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) # ç¼©è¿›æ ¼å¼</span><br><span class="line">print(bs.prettify()) # æ ¼å¼åŒ–htmlç»“æ„</span><br><span class="line">print(bs.title) # è·å–titleæ ‡ç­¾çš„åç§°</span><br><span class="line">print(bs.title.name) # è·å–titleçš„name</span><br><span class="line">print(bs.title.string) # è·å–headæ ‡ç­¾çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">print(bs.head) </span><br><span class="line">print(bs.div)  # è·å–ç¬¬ä¸€ä¸ªdivæ ‡ç­¾ä¸­çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">print(bs.div[&quot;id&quot;]) # è·å–ç¬¬ä¸€ä¸ªdivæ ‡ç­¾çš„idçš„å€¼</span><br><span class="line">print(bs.a) </span><br><span class="line">print(bs.find_all(&quot;a&quot;)) # è·å–æ‰€æœ‰çš„aæ ‡ç­¾</span><br><span class="line">print(bs.find(id&#x3D;&quot;u1&quot;)) # è·å–id&#x3D;&quot;u1&quot;</span><br><span class="line">for item in bs.find_all(&quot;a&quot;): </span><br><span class="line">    print(item.get(&quot;href&quot;)) # è·å–æ‰€æœ‰çš„aæ ‡ç­¾ï¼Œå¹¶éå†æ‰“å°aæ ‡ç­¾ä¸­çš„hrefçš„å€¼</span><br><span class="line">for item in bs.find_all(&quot;a&quot;): </span><br><span class="line">    print(item.get_text())  # è·å–æ‰€æœ‰çš„aæ ‡ç­¾ï¼Œå¹¶éå†æ‰“å°aæ ‡ç­¾ä¸­çš„å†…å®¹</span><br></pre></td></tr></table></figure><h1 id="BeautifulSoup4å››å¤§å¯¹è±¡ç§ç±»"><a href="#BeautifulSoup4å››å¤§å¯¹è±¡ç§ç±»" class="headerlink" title="BeautifulSoup4å››å¤§å¯¹è±¡ç§ç±»"></a>BeautifulSoup4å››å¤§å¯¹è±¡ç§ç±»</h1><p>BeautifulSoup4å°†å¤æ‚HTMLæ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„,æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯Pythonå¯¹è±¡,æ‰€æœ‰å¯¹è±¡å¯ä»¥å½’çº³ä¸º4ç§:</p><ul><li>Tag</li><li>NavigableString</li><li>BeautifulSoup</li><li>Comment</li></ul><h2 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h2><p>Tagé€šä¿—ç‚¹è®²å°±æ˜¯HTMLä¸­çš„ä¸€ä¸ªä¸ªæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line"># è·å–titleæ ‡ç­¾çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">print(bs.title) </span><br><span class="line"># è·å–headæ ‡ç­¾çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">print(bs.head) </span><br><span class="line"># è·å–ç¬¬ä¸€ä¸ªaæ ‡ç­¾çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">print(bs.a) </span><br><span class="line"># ç±»å‹</span><br><span class="line">print(type(bs.a))</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ soup åŠ æ ‡ç­¾åè½»æ¾åœ°è·å–è¿™äº›æ ‡ç­¾çš„å†…å®¹ï¼Œè¿™äº›å¯¹è±¡çš„ç±»å‹æ˜¯bs4.element.Tagã€‚ä½†æ˜¯æ³¨æ„ï¼Œå®ƒæŸ¥æ‰¾çš„æ˜¯åœ¨æ‰€æœ‰å†…å®¹ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ ‡ç­¾ã€‚</p><p>å¯¹äº Tagï¼Œå®ƒæœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼Œæ˜¯ name å’Œ attrs:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line"># [document] #bs å¯¹è±¡æœ¬èº«æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„ name å³ä¸º [document]</span><br><span class="line">print(bs.name) </span><br><span class="line"># head #å¯¹äºå…¶ä»–å†…éƒ¨æ ‡ç­¾ï¼Œè¾“å‡ºçš„å€¼ä¾¿ä¸ºæ ‡ç­¾æœ¬èº«çš„åç§°</span><br><span class="line">print(bs.head.name) </span><br><span class="line"># åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠ a æ ‡ç­¾çš„æ‰€æœ‰å±æ€§æ‰“å°è¾“å‡ºäº†å‡ºæ¥ï¼Œå¾—åˆ°çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—å…¸ã€‚</span><br><span class="line">print(bs.a.attrs) </span><br><span class="line">#è¿˜å¯ä»¥åˆ©ç”¨getæ–¹æ³•ï¼Œä¼ å…¥å±æ€§çš„åç§°ï¼ŒäºŒè€…æ˜¯ç­‰ä»·çš„</span><br><span class="line">print(bs.a[&#39;class&#39;]) # ç­‰ä»· bs.a.get(&#39;class&#39;)</span><br><span class="line"># å¯ä»¥å¯¹è¿™äº›å±æ€§å’Œå†…å®¹ç­‰ç­‰è¿›è¡Œä¿®æ”¹</span><br><span class="line">bs.a[&#39;class&#39;] &#x3D; &quot;newClass&quot;</span><br><span class="line">print(bs.a) </span><br><span class="line"># è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è¿›è¡Œåˆ é™¤</span><br><span class="line">del bs.a[&#39;class&#39;] </span><br><span class="line">print(bs.a)</span><br></pre></td></tr></table></figure><h2 id="NavigableString"><a href="#NavigableString" class="headerlink" title="NavigableString"></a>NavigableString</h2><p>æ—¢ç„¶æˆ‘ä»¬å·²ç»å¾—åˆ°äº†æ ‡ç­¾çš„å†…å®¹ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬è¦æƒ³è·å–æ ‡ç­¾å†…éƒ¨çš„æ–‡å­—æ€ä¹ˆåŠå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œç”¨ .string å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;)</span><br><span class="line"> </span><br><span class="line">print(bs.title.string) </span><br><span class="line">print(type(bs.title.string))</span><br></pre></td></tr></table></figure><h2 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h2><p>BeautifulSoupå¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ–‡æ¡£çš„å†…å®¹ã€‚å¤§éƒ¨åˆ†æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ƒå½“ä½œ Tag å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Tagï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«è·å–å®ƒçš„ç±»å‹ï¼Œåç§°ï¼Œä»¥åŠå±æ€§ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read()</span><br><span class="line"> </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line">print(type(bs.name)) </span><br><span class="line">print(bs.name) </span><br><span class="line">print(bs.attrs)</span><br></pre></td></tr></table></figure><h2 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h2><p>Comment å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„ NavigableString å¯¹è±¡ï¼Œå…¶è¾“å‡ºçš„å†…å®¹ä¸åŒ…æ‹¬æ³¨é‡Šç¬¦å·ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line">print(bs.a)</span><br><span class="line"># æ­¤æ—¶ä¸èƒ½å‡ºç°ç©ºæ ¼å’Œæ¢è¡Œç¬¦ï¼Œaæ ‡ç­¾å¦‚ä¸‹ï¼š</span><br><span class="line"># &lt;a class&#x3D;&quot;mnav&quot; href&#x3D;&quot;http:&#x2F;&#x2F;news.baidu.com&quot; name&#x3D;&quot;tj_trnews&quot;&gt;&lt;!--æ–°é—»--&gt;&lt;&#x2F;a&gt;</span><br><span class="line">print(bs.a.string) # æ–°é—»</span><br><span class="line">print(type(bs.a.string)) # &lt;class &#39;bs4.element.Comment&#39;&gt;</span><br></pre></td></tr></table></figure><h1 id="éå†æ–‡æ¡£æ ‘"><a href="#éå†æ–‡æ¡£æ ‘" class="headerlink" title="éå†æ–‡æ¡£æ ‘"></a>éå†æ–‡æ¡£æ ‘</h1><ol><li>.contentsï¼šè·å–Tagçš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªlist</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># tagçš„.content å±æ€§å¯ä»¥å°†tagçš„å­èŠ‚ç‚¹ä»¥åˆ—è¡¨çš„æ–¹å¼è¾“å‡º</span><br><span class="line">print(bs.head.contents)</span><br><span class="line"># ç”¨åˆ—è¡¨ç´¢å¼•æ¥è·å–å®ƒçš„æŸä¸€ä¸ªå…ƒç´ </span><br><span class="line">print(bs.head.contents[1])</span><br></pre></td></tr></table></figure><ol start="2"><li>.childrenï¼šè·å–Tagçš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for child in  bs.body.children:</span><br><span class="line">    print(child)</span><br></pre></td></tr></table></figure><ol start="3"><li><p>.descendantsï¼šè·å–Tagçš„æ‰€æœ‰å­å­™èŠ‚ç‚¹</p></li><li><p>.stringsï¼šå¦‚æœTagåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå³åœ¨å­å­™èŠ‚ç‚¹ä¸­æœ‰å†…å®¹ï¼Œå¯ä»¥ç”¨æ­¤è·å–ï¼Œè€Œåè¿›è¡Œéå†</p></li><li><p>.stripped_stringsï¼šä¸stringsç”¨æ³•ä¸€è‡´ï¼Œåªä¸è¿‡å¯ä»¥å»é™¤æ‰é‚£äº›å¤šä½™çš„ç©ºç™½å†…å®¹</p></li><li><p>.parentï¼šè·å–Tagçš„çˆ¶èŠ‚ç‚¹</p></li><li><p>.parentsï¼šé€’å½’å¾—åˆ°çˆ¶è¾ˆå…ƒç´ çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨</p></li><li><p>.previous_siblingï¼šè·å–å½“å‰Tagçš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå±æ€§é€šå¸¸æ˜¯å­—ç¬¦ä¸²æˆ–ç©ºç™½ï¼ŒçœŸå®ç»“æœæ˜¯å½“å‰æ ‡ç­¾ä¸ä¸Šä¸€ä¸ªæ ‡ç­¾ä¹‹é—´çš„é¡¿å·å’Œæ¢è¡Œç¬¦</p></li><li><p>.next_siblingï¼šè·å–å½“å‰Tagçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå±æ€§é€šå¸¸æ˜¯å­—ç¬¦ä¸²æˆ–ç©ºç™½ï¼ŒçœŸæ˜¯ç»“æœæ˜¯å½“å‰æ ‡ç­¾ä¸ä¸‹ä¸€ä¸ªæ ‡ç­¾ä¹‹é—´çš„é¡¿å·ä¸æ¢è¡Œç¬¦</p></li><li><p>.previous_siblingsï¼šè·å–å½“å‰Tagçš„ä¸Šé¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨</p></li><li><p>.next_siblingsï¼šè·å–å½“å‰Tagçš„ä¸‹é¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨</p></li><li><p>.previous_elementï¼šè·å–è§£æè¿‡ç¨‹ä¸­ä¸Šä¸€ä¸ªè¢«è§£æçš„å¯¹è±¡(å­—ç¬¦ä¸²æˆ–tag)ï¼Œå¯èƒ½ä¸previous_siblingç›¸åŒï¼Œä½†é€šå¸¸æ˜¯ä¸ä¸€æ ·çš„</p></li><li><p>.next_elementï¼šè·å–è§£æè¿‡ç¨‹ä¸­ä¸‹ä¸€ä¸ªè¢«è§£æçš„å¯¹è±¡(å­—ç¬¦ä¸²æˆ–tag)ï¼Œå¯èƒ½ä¸next_siblingç›¸åŒï¼Œä½†é€šå¸¸æ˜¯ä¸ä¸€æ ·çš„</p></li><li><p>.previous_elementsï¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¯ä»¥å‘å‰è®¿é—®æ–‡æ¡£çš„è§£æå†…å®¹</p></li><li><p>.next_elementsï¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¯ä»¥å‘åè®¿é—®æ–‡æ¡£çš„è§£æå†…å®¹</p></li><li><p>.has_attrï¼šåˆ¤æ–­Tagæ˜¯å¦åŒ…å«å±æ€§</p></li></ol><h1 id="æœç´¢æ–‡æ¡£æ ‘"><a href="#æœç´¢æ–‡æ¡£æ ‘" class="headerlink" title="æœç´¢æ–‡æ¡£æ ‘"></a>æœç´¢æ–‡æ¡£æ ‘</h1><p>find_all(name, attrs, recursive, text, **kwargs)</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ç®€å•ä»‹ç»äº†find_allçš„ä½¿ç”¨ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹find_allçš„æ›´å¤šç”¨æ³•-è¿‡æ»¤å™¨ã€‚è¿™äº›è¿‡æ»¤å™¨è´¯ç©¿æ•´ä¸ªæœç´¢APIï¼Œè¿‡æ»¤å™¨å¯ä»¥è¢«ç”¨åœ¨tagçš„nameä¸­ï¼ŒèŠ‚ç‚¹çš„å±æ€§ç­‰ã€‚</p><h2 id="nameå‚æ•°ï¼š"><a href="#nameå‚æ•°ï¼š" class="headerlink" title="nameå‚æ•°ï¼š"></a>nameå‚æ•°ï¼š</h2><p>å­—ç¬¦ä¸²è¿‡æ»¤ï¼šä¼šæŸ¥æ‰¾ä¸å­—ç¬¦ä¸²å®Œå…¨åŒ¹é…çš„å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a_list &#x3D; bs.find_all(&quot;a&quot;)</span><br><span class="line">print(a_list)</span><br></pre></td></tr></table></figure><p>æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ï¼šå¦‚æœä¼ å…¥çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆBeautifulSoup4ä¼šé€šè¿‡search()æ¥åŒ¹é…å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line">t_list &#x3D; bs.find_all(re.compile(&quot;a&quot;)) </span><br><span class="line">for item in t_list: </span><br><span class="line">   print(item)</span><br></pre></td></tr></table></figure><p>åˆ—è¡¨ï¼šå¦‚æœä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ï¼ŒBeautifulSoup4å°†ä¼šä¸åˆ—è¡¨ä¸­çš„ä»»ä¸€å…ƒç´ åŒ¹é…åˆ°çš„èŠ‚ç‚¹è¿”å›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.find_all([&quot;meta&quot;,&quot;link&quot;])</span><br><span class="line">for item in t_list:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ï¼šä¼ å…¥ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®æ–¹æ³•æ¥åŒ¹é…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line">def name_is_exists(tag): </span><br><span class="line">    return tag.has_attr(&quot;name&quot;) </span><br><span class="line">t_list &#x3D; bs.find_all(name_is_exists) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h2 id="kwargså‚æ•°ï¼š"><a href="#kwargså‚æ•°ï¼š" class="headerlink" title="kwargså‚æ•°ï¼š"></a>kwargså‚æ•°ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html,&quot;html.parser&quot;) </span><br><span class="line"># æŸ¥è¯¢id&#x3D;headçš„Tag</span><br><span class="line">t_list &#x3D; bs.find_all(id&#x3D;&quot;head&quot;)</span><br><span class="line">print(t_list) </span><br><span class="line"># æŸ¥è¯¢hrefå±æ€§åŒ…å«http:&#x2F;&#x2F;news.baidu.comçš„Tag</span><br><span class="line">t_list &#x3D; bs.find_all(href&#x3D;re.compile(&quot;http:&#x2F;&#x2F;news.baidu.com&quot;)) </span><br><span class="line">print(t_list) </span><br><span class="line"># æŸ¥è¯¢æ‰€æœ‰åŒ…å«classçš„Tag(æ³¨æ„ï¼šclassåœ¨Pythonä¸­å±äºå…³é”®å­—ï¼Œæ‰€ä»¥åŠ _ä»¥ç¤ºåŒºåˆ«)</span><br><span class="line">t_list &#x3D; bs.find_all(class_&#x3D;True) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h2 id="attrså‚æ•°ï¼š"><a href="#attrså‚æ•°ï¼š" class="headerlink" title="attrså‚æ•°ï¼š"></a>attrså‚æ•°ï¼š</h2><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„å±æ€§éƒ½å¯ä»¥ä½¿ç”¨ä¸Šé¢è¿™ç§æ–¹å¼è¿›è¡Œæœç´¢ï¼Œæ¯”å¦‚HTMLçš„data-*å±æ€§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.find_all(data-foo&#x3D;&quot;value&quot;)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰§è¡Œè¿™æ®µä»£ç ï¼Œå°†ä¼šæŠ¥é”™ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨attrså‚æ•°ï¼Œå®šä¹‰ä¸€ä¸ªå­—å…¸æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tagï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.find_all(attrs&#x3D;&#123;&quot;data-foo&quot;:&quot;value&quot;&#125;)</span><br><span class="line">for item in t_list:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h2 id="textå‚æ•°ï¼š"><a href="#textå‚æ•°ï¼š" class="headerlink" title="textå‚æ•°ï¼š"></a>textå‚æ•°ï¼š</h2><p>é€šè¿‡textå‚æ•°å¯ä»¥æœç´¢æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œä¸nameå‚æ•°çš„å¯é€‰å€¼ä¸€æ ·ï¼Œtextå‚æ•°æ¥å— å­—ç¬¦ä¸²ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ—è¡¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html, &quot;html.parser&quot;) </span><br><span class="line"></span><br><span class="line">t_list &#x3D; bs.find_all(text&#x3D;&quot;hao123&quot;) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item) </span><br><span class="line">t_list &#x3D; bs.find_all(text&#x3D;[&quot;hao123&quot;, &quot;åœ°å›¾&quot;, &quot;è´´å§&quot;]) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item) </span><br><span class="line">t_list &#x3D; bs.find_all(text&#x3D;re.compile(&quot;\d&quot;)) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬æœç´¢textä¸­çš„ä¸€äº›ç‰¹æ®Šå±æ€§æ—¶ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ–¹æ³•æ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def length_is_two(text):</span><br><span class="line">    return text and len(text) &#x3D;&#x3D; 2</span><br><span class="line">t_list &#x3D; bs.find_all(text&#x3D;length_is_two)</span><br><span class="line">for item in t_list:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h2 id="limitå‚æ•°ï¼š"><a href="#limitå‚æ•°ï¼š" class="headerlink" title="limitå‚æ•°ï¼š"></a>limitå‚æ•°ï¼š</h2><p>å¯ä»¥ä¼ å…¥ä¸€ä¸ªlimitå‚æ•°æ¥é™åˆ¶è¿”å›çš„æ•°é‡ï¼Œå½“æœç´¢å‡ºçš„æ•°æ®é‡ä¸º5ï¼Œè€Œè®¾ç½®äº†limit=2æ—¶ï¼Œæ­¤æ—¶åªä¼šè¿”å›å‰2ä¸ªæ•°æ®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html, &quot;html.parser&quot;) </span><br><span class="line">t_list &#x3D; bs.find_all(&quot;a&quot;,limit&#x3D;2) </span><br><span class="line">for item in t_list: </span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><p>find_allé™¤äº†ä¸Šé¢ä¸€äº›å¸¸è§„çš„å†™æ³•ï¼Œè¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œä¸€äº›ç®€å†™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># ä¸¤è€…æ˜¯ç›¸ç­‰çš„</span><br><span class="line"># t_list &#x3D; bs.find_all(&quot;a&quot;) &#x3D;&gt; t_list &#x3D; bs(&quot;a&quot;)</span><br><span class="line">t_list &#x3D; bs(&quot;a&quot;) # ä¸¤è€…æ˜¯ç›¸ç­‰çš„</span><br><span class="line"># t_list &#x3D; bs.a.find_all(text&#x3D;&quot;æ–°é—»&quot;) &#x3D;&gt; t_list &#x3D; bs.a(text&#x3D;&quot;æ–°é—»&quot;)</span><br><span class="line">t_list &#x3D; bs.a(text&#x3D;&quot;æ–°é—»&quot;)</span><br></pre></td></tr></table></figure><p>find()</p><p>find()å°†è¿”å›ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªTagï¼Œæœ‰æ—¶æˆ‘ä»¬åªéœ€è¦æˆ–ä¸€ä¸ªTagæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°find()æ–¹æ³•äº†ã€‚å½“ç„¶äº†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨find_all()æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªlimit=1ï¼Œç„¶åå†å–å‡ºç¬¬ä¸€ä¸ªå€¼ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡æœªå…ç¹çã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re </span><br><span class="line">file &#x3D; open(&#39;.&#x2F;aa.html&#39;, &#39;rb&#39;) </span><br><span class="line">html &#x3D; file.read() </span><br><span class="line">bs &#x3D; BeautifulSoup(html, &quot;html.parser&quot;) </span><br><span class="line"># è¿”å›åªæœ‰ä¸€ä¸ªç»“æœçš„åˆ—è¡¨</span><br><span class="line">t_list &#x3D; bs.find_all(&quot;title&quot;,limit&#x3D;1) </span><br><span class="line">print(t_list) </span><br><span class="line"># è¿”å›å”¯ä¸€å€¼</span><br><span class="line">t &#x3D; bs.find(&quot;title&quot;) </span><br><span class="line">print(t) </span><br><span class="line"># å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›None</span><br><span class="line">t &#x3D; bs.find(&quot;abc&quot;) print(t)</span><br></pre></td></tr></table></figure><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºfind_allï¼Œå°½ç®¡ä¼ å…¥äº†limit=1ï¼Œä½†æ˜¯è¿”å›å€¼ä»ç„¶ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œå½“æˆ‘ä»¬åªéœ€è¦å–ä¸€ä¸ªå€¼æ—¶ï¼Œè¿œä¸å¦‚findæ–¹æ³•æ–¹ä¾¿ã€‚ä½†æ˜¯å¦‚æœæœªæœç´¢åˆ°å€¼æ—¶ï¼Œå°†è¿”å›ä¸€ä¸ªNone</p><p>åœ¨ä¸Šé¢ä»‹ç»BeautifulSoup4çš„æ—¶å€™ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥é€šè¿‡bs.divæ¥è·å–ç¬¬ä¸€ä¸ªdivæ ‡ç­¾ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è·å–ç¬¬ä¸€ä¸ªdivä¸‹çš„ç¬¬ä¸€ä¸ªdivï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t &#x3D; bs.div.div</span><br><span class="line"># ç­‰ä»·äº</span><br><span class="line">t &#x3D; bs.find(&quot;div&quot;).find(&quot;div&quot;)</span><br></pre></td></tr></table></figure><h1 id="CSSé€‰æ‹©å™¨"><a href="#CSSé€‰æ‹©å™¨" class="headerlink" title="CSSé€‰æ‹©å™¨"></a>CSSé€‰æ‹©å™¨</h1><p>BeautifulSoupæ”¯æŒå‘éƒ¨åˆ†çš„CSSé€‰æ‹©å™¨ï¼Œåœ¨Tagè·å–BeautifulSoupå¯¹è±¡çš„.select()æ–¹æ³•ä¸­ä¼ å…¥å­—ç¬¦ä¸²å‚æ•°ï¼Œå³å¯ä½¿ç”¨CSSé€‰æ‹©å™¨çš„è¯­æ³•æ‰¾åˆ°Tag:</p><h2 id="é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾"><a href="#é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾" class="headerlink" title="é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾"></a>é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(bs.select(&#39;title&#39;))</span><br><span class="line">print(bs.select(&#39;a&#39;))</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡ç±»åæŸ¥æ‰¾"><a href="#é€šè¿‡ç±»åæŸ¥æ‰¾" class="headerlink" title="é€šè¿‡ç±»åæŸ¥æ‰¾"></a>é€šè¿‡ç±»åæŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(bs.select(&#39;.mnav&#39;))</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡idæŸ¥æ‰¾"><a href="#é€šè¿‡idæŸ¥æ‰¾" class="headerlink" title="é€šè¿‡idæŸ¥æ‰¾"></a>é€šè¿‡idæŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(bs.select(&#39;#u1&#39;))</span><br></pre></td></tr></table></figure><h2 id="ç»„åˆæŸ¥æ‰¾"><a href="#ç»„åˆæŸ¥æ‰¾" class="headerlink" title="ç»„åˆæŸ¥æ‰¾"></a>ç»„åˆæŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(bs.select(&#39;div .bri&#39;))</span><br></pre></td></tr></table></figure><h2 id="å±æ€§æŸ¥æ‰¾"><a href="#å±æ€§æŸ¥æ‰¾" class="headerlink" title="å±æ€§æŸ¥æ‰¾"></a>å±æ€§æŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(bs.select(&#39;a[class&#x3D;&quot;bri&quot;]&#39;))</span><br><span class="line">print(bs.select(&#39;a[href&#x3D;&quot;http:&#x2F;&#x2F;tieba.baidu.com&quot;]&#39;))</span><br></pre></td></tr></table></figure><h2 id="ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾"><a href="#ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾" class="headerlink" title="ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾"></a>ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.select(&quot;head &gt; title&quot;)</span><br><span class="line">print(t_list)</span><br></pre></td></tr></table></figure><h2 id="å…„å¼ŸèŠ‚ç‚¹æ ‡ç­¾æŸ¥æ‰¾"><a href="#å…„å¼ŸèŠ‚ç‚¹æ ‡ç­¾æŸ¥æ‰¾" class="headerlink" title="å…„å¼ŸèŠ‚ç‚¹æ ‡ç­¾æŸ¥æ‰¾"></a>å…„å¼ŸèŠ‚ç‚¹æ ‡ç­¾æŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.select(&quot;.mnav ~ .bri&quot;)</span><br><span class="line">print(t_list)</span><br></pre></td></tr></table></figure><h2 id="è·å–å†…å®¹"><a href="#è·å–å†…å®¹" class="headerlink" title="è·å–å†…å®¹"></a>è·å–å†…å®¹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t_list &#x3D; bs.select(&quot;title&quot;)</span><br><span class="line">print(bs.select(&#39;title&#39;)[0].get_text())</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> BeautifulSoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ•°æ®å¯è§†åŒ–</title>
      <link href="posts/da913900/"/>
      <url>posts/da913900/</url>
      
        <content type="html"><![CDATA[<h1 id="Flask"><a href="#Flask" class="headerlink" title="Flask"></a>Flask</h1><h2 id="Flaskç®€ä»‹"><a href="#Flaskç®€ä»‹" class="headerlink" title="Flaskç®€ä»‹"></a>Flaskç®€ä»‹</h2><p>Flaskä½œä¸ºWebæ¡†æ¶ï¼Œå®ƒçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†å¼€å‘Webåº”ç”¨ç¨‹åºã€‚é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆæ¥äº†è§£ä¸‹Webåº”ç”¨ç¨‹åºã€‚Webåº”ç”¨ç¨‹åº (World Wide Web)è¯ç”Ÿæœ€åˆçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†åˆ©ç”¨äº’è”ç½‘äº¤æµå·¥ä½œæ–‡æ¡£ã€‚</p><p>ä¸€åˆ‡ä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚å¼€å§‹ã€‚<br>æ‰€æœ‰Flaskç¨‹åºéƒ½å¿…é¡»åˆ›å»ºä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚<br>å½“å®¢æˆ·ç«¯æƒ³è¦è·å–èµ„æºæ—¶ï¼Œä¸€èˆ¬ä¼šé€šè¿‡æµè§ˆå™¨å‘èµ·HTTPè¯·æ±‚ã€‚<br>æ­¤æ—¶ï¼ŒWebæœåŠ¡å™¨ä½¿ç”¨ä¸€ç§åä¸ºWEBæœåŠ¡å™¨ç½‘å…³æ¥å£çš„WSGIï¼ˆWeb Server Gateway Interfaceï¼‰åè®®ï¼ŒæŠŠæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚éƒ½äº¤ç»™Flaskç¨‹åºå®ä¾‹ã€‚<br>Flaskä½¿ç”¨Werkzeugæ¥åšè·¯ç”±åˆ†å‘ï¼ˆURLè¯·æ±‚å’Œè§†å›¾å‡½æ•°ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼‰ã€‚æ ¹æ®æ¯ä¸ªURLè¯·æ±‚ï¼Œæ‰¾åˆ°å…·ä½“çš„è§†å›¾å‡½æ•°ã€‚<br>åœ¨Flaskç¨‹åºä¸­ï¼Œè·¯ç”±ä¸€èˆ¬æ˜¯é€šè¿‡ç¨‹åºå®ä¾‹çš„è£…é¥°å™¨å®ç°ã€‚é€šè¿‡è°ƒç”¨è§†å›¾å‡½æ•°ï¼Œè·å–åˆ°æ•°æ®åï¼ŒæŠŠæ•°æ®ä¼ å…¥HTMLæ¨¡æ¿æ–‡ä»¶ä¸­ï¼Œæ¨¡æ¿å¼•æ“è´Ÿè´£æ¸²æŸ“HTTPå“åº”æ•°æ®ï¼Œç„¶åç”±Flaskè¿”å›å“åº”æ•°æ®ç»™æµè§ˆå™¨ï¼Œæœ€åæµè§ˆå™¨æ˜¾ç¤ºè¿”å›çš„ç»“æœã€‚</p><p>Flaskè¯ç”Ÿäº2010å¹´ï¼Œæ˜¯Armin ronacherï¼ˆäººåï¼‰ç”¨Pythonè¯­è¨€åŸºäºWerkzeugå·¥å…·ç®±ç¼–å†™çš„è½»é‡çº§Webå¼€å‘æ¡†æ¶ã€‚å®ƒä¸»è¦é¢å‘éœ€æ±‚ç®€å•çš„å°åº”ç”¨ã€‚<br>Flaskæœ¬èº«ç›¸å½“äºä¸€ä¸ªå†…æ ¸ï¼Œå…¶ä»–å‡ ä¹æ‰€æœ‰çš„åŠŸèƒ½éƒ½è¦ç”¨åˆ°æ‰©å±•ï¼ˆé‚®ä»¶æ‰©å±•Flask-Mailï¼Œç”¨æˆ·è®¤è¯FlaskLoginï¼‰ï¼Œéƒ½éœ€è¦ç”¨ç¬¬ä¸‰æ–¹çš„æ‰©å±•æ¥å®ç°ã€‚æ¯”å¦‚å¯ä»¥ç”¨Flask-extensionåŠ å…¥ORMã€çª—ä½“éªŒè¯å·¥å…·ï¼Œæ–‡ä»¶ä¸Šä¼ ã€èº«ä»½éªŒè¯ç­‰ã€‚Flaskæ²¡æœ‰é»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“ï¼Œä½ å¯ä»¥é€‰æ‹©MySQLï¼Œä¹Ÿå¯ä»¥ç”¨NoSQLã€‚å…¶ WSGI å·¥å…·ç®±é‡‡ç”¨ Werkzeugï¼ˆè·¯ç”±æ¨¡å—ï¼‰ ï¼Œæ¨¡æ¿å¼•æ“åˆ™ä½¿ç”¨ Jinja2 ã€‚å¯ä»¥è¯´Flaskæ¡†æ¶çš„æ ¸å¿ƒå°±æ˜¯Werkzeugå’ŒJinja2ã€‚<br>Pythonæœ€å‡ºåçš„æ¡†æ¶è¦æ•°Djangoï¼Œæ­¤å¤–è¿˜æœ‰Flaskã€Tornadoç­‰æ¡†æ¶ã€‚è™½ç„¶Flaskä¸æ˜¯æœ€å‡ºåçš„æ¡†æ¶ï¼Œä½†<br>æ˜¯Flaskåº”è¯¥ç®—æ˜¯æœ€çµæ´»çš„æ¡†æ¶ä¹‹ä¸€ï¼Œè¿™ä¹Ÿæ˜¯Flaskå—åˆ°å¹¿å¤§å¼€å‘è€…å–œçˆ±çš„åŸå› ã€‚</p><p>Flaskæ‰©å±•åŒ…ï¼š</p><ul><li>Flask-SQLalchemyï¼šæ“ä½œæ•°æ®åº“ï¼›</li><li>Flask-migrateï¼šç®¡ç†è¿ç§»æ•°æ®åº“ï¼›</li><li>Flask-Mail:é‚®ä»¶ï¼›</li><li>Flask-WTFï¼šè¡¨å•ï¼›</li><li>Flask-scriptï¼šæ’å…¥è„šæœ¬ï¼›</li><li>Flask-Loginï¼šè®¤è¯ç”¨æˆ·çŠ¶æ€ï¼›</li><li>Flask-RESTfulï¼šå¼€å‘REST APIçš„å·¥å…·ï¼›</li><li>Flask-Bootstrapï¼šé›†æˆå‰ç«¯Twitter Bootstrapæ¡†æ¶ï¼›</li><li>Flask-Momentï¼šæœ¬åœ°åŒ–æ—¥æœŸå’Œæ—¶é—´ï¼›</li></ul><h2 id="FlaskåŸºæœ¬ä½¿ç”¨"><a href="#FlaskåŸºæœ¬ä½¿ç”¨" class="headerlink" title="FlaskåŸºæœ¬ä½¿ç”¨"></a>FlaskåŸºæœ¬ä½¿ç”¨</h2><h3 id="Hello-World-ç¨‹åº"><a href="#Hello-World-ç¨‹åº" class="headerlink" title="Hello World ç¨‹åº"></a>Hello World ç¨‹åº</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line"># Flaskç±»æ¥æ”¶ä¸€ä¸ªå‚æ•°__name__</span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line"># è·¯ç”±è§£æé€šè¿‡ç”¨æˆ·è®¿é—®çš„è·¯å¾„ï¼ŒåŒ¹é…ç›¸åº”çš„å‡½æ•°</span><br><span class="line"># è£…é¥°å™¨çš„ä½œç”¨æ˜¯å°†è·¯ç”±æ˜ å°„åˆ°è§†å›¾å‡½æ•°index</span><br><span class="line">@app.route(&quot;&#x2F;&quot;)</span><br><span class="line">def index():</span><br><span class="line">    return &quot;hello,world&quot;</span><br><span class="line"># Flaskåº”ç”¨ç¨‹åºå®ä¾‹çš„runæ–¹æ³•å¯åŠ¨WEBæœåŠ¡å™¨</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)   #   debug å¼€å¯è°ƒè¯•ï¼Œæ›´æ”¹ä»£ç å†…å®¹ï¼Œç•Œé¢ç›¸åº”æ”¹å˜ï¼›</span><br><span class="line">                                                    #   hostæ”¹æˆ0.0.0.0è®©å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®</span><br><span class="line">                                                    #   port&#x3D;3000ç«¯å£å·</span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±ä¼ å‚"><a href="#è·¯ç”±ä¼ å‚" class="headerlink" title="è·¯ç”±ä¼ å‚"></a>è·¯ç”±ä¼ å‚</h3><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†åŒä¸€ç±»URLæ˜ å°„åˆ°åŒä¸€ä¸ªè§†å›¾å‡½æ•°å¤„ç†ï¼Œæ¯”å¦‚ï¼šä½¿ç”¨åŒä¸€ä¸ªè§†å›¾å‡½æ•° æ¥æ˜¾ç¤ºä¸åŒç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚<br>é€šè¿‡å‘è§„åˆ™å‚æ•°æ·»åŠ å˜é‡éƒ¨åˆ†ï¼Œå¯ä»¥åŠ¨æ€æ„å»ºURLã€‚æ­¤å˜é‡éƒ¨åˆ†æ ‡è®°ä¸ºã€‚å®ƒä½œä¸ºå…³é”®å­—å‚æ•°ä¼ é€’ç»™ä¸è§„åˆ™ç›¸å…³è”çš„å‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;&#x2F;index&quot;)</span><br><span class="line">def index():</span><br><span class="line">    return &quot;hello,world&quot;</span><br><span class="line"></span><br><span class="line"># é€šè¿‡è®¿é—®è·¯å¾„è·å–ç”¨æˆ·çš„å­—ç¬¦ä¸²å‚æ•°</span><br><span class="line">@app.route(&quot;&#x2F;user&#x2F;&lt;name&gt;&quot;)  # &lt;name&gt;è¡¨ç¤ºnameå‚æ•°ï¼Œéœ€è¦å°†è·¯å¾„ä¸­çš„nameå‚æ•°ä¼ å…¥ä¸‹é¢çš„å‡½æ•°ä¸­</span><br><span class="line">def Wellcome(name):</span><br><span class="line">    return &quot;ä½ å¥½%s&quot;%name</span><br><span class="line"></span><br><span class="line"># é€šè¿‡è®¿é—®è·¯å¾„è·å–ç”¨æˆ·çš„æ•´å½¢å‚æ•°</span><br><span class="line"># è·¯ç”±ä¼ é€’çš„å‚æ•°é»˜è®¤å½“åšstringå¤„ç†ï¼Œè¿™é‡ŒæŒ‡å®šintï¼Œå°–æ‹¬å·ä¸­å†’å·åé¢çš„å†…å®¹æ˜¯åŠ¨æ€çš„</span><br><span class="line"># é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ float å‹</span><br><span class="line">@app.route(&quot;&#x2F;user&#x2F;&lt;int:id&gt;&quot;)</span><br><span class="line">def Wellcome1(id):</span><br><span class="line">    return &quot;ä½ å¥½%då·ä¼šå‘˜&quot;%id</span><br><span class="line"></span><br><span class="line"># è·¯ç”±çš„è·¯å¾„ä¸èƒ½é‡å¤ï¼Œç”¨æˆ·é€šè¿‡å”¯ä¸€è·¯å¾„è®¿é—®ç‰¹å®šå‡½æ•°</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-render-template-æ¸²æŸ“ç•Œé¢"><a href="#ä½¿ç”¨-render-template-æ¸²æŸ“ç•Œé¢" class="headerlink" title="ä½¿ç”¨ render_template æ¸²æŸ“ç•Œé¢"></a>ä½¿ç”¨ render_template æ¸²æŸ“ç•Œé¢</h3><p>ä¸Šé¢çš„å‡½æ•°ä¸­å¯ä»¥ return HTMLè¯­å¥ï¼Œè¾¾åˆ°æ¸²æŸ“ç•Œé¢çš„æ•ˆæœï¼Œä½†è¿™æ ·åšå¯¹äºä¸æ–¹ä¾¿å¯ä»¥ä½¿ç”¨ <code>render_template</code> ã€‚é¦–å…ˆä» <code>flask</code> ä¸­å¯¼å…¥ <code>render_template</code> ã€‚åœ¨ åŒçº§ç›®å½•ä¸‹å»ºç«‹ <code>templates</code> æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª <code>HTML</code> ç¨‹åºï¼Œå–å <code>index.html</code> ã€‚åœ¨ <code>index</code> å‡½æ•°ä¸­ä½¿ç”¨ <code>return render_template(&#39;index.html&#39;)</code> å°±å¯ä»¥å°†å†™å…¥ç›¸åº”çš„ <code>HTML</code> ç¨‹åºåœ¨ç•Œé¢ä¸­æ¸²æŸ“ã€‚</p><p>æºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask,render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;&#x2F;&quot;)</span><br><span class="line">def index():</span><br><span class="line">    return render_template(&quot;index.html&quot;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><p>HTMLç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="åˆ©ç”¨å¾ªç¯å’Œåˆ¤æ–­è¯­å¥æ§åˆ¶-template-æ¸²æŸ“"><a href="#åˆ©ç”¨å¾ªç¯å’Œåˆ¤æ–­è¯­å¥æ§åˆ¶-template-æ¸²æŸ“" class="headerlink" title="åˆ©ç”¨å¾ªç¯å’Œåˆ¤æ–­è¯­å¥æ§åˆ¶ template æ¸²æŸ“"></a>åˆ©ç”¨å¾ªç¯å’Œåˆ¤æ–­è¯­å¥æ§åˆ¶ template æ¸²æŸ“</h3><h4 id="ä½¿ç”¨-if-åˆ¤æ–­"><a href="#ä½¿ç”¨-if-åˆ¤æ–­" class="headerlink" title="ä½¿ç”¨ if åˆ¤æ–­"></a>ä½¿ç”¨ if åˆ¤æ–­</h4><p>åœ¨ <code>HTML</code> ç¨‹åºä¸­ä½¿ç”¨ <code>if</code> åˆ¤æ–­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶æ„ä¹‰æ˜¯å½“ä¼ å…¥äº† <code>title</code> å˜é‡å°±æ˜¯ç”¨ä¼ å…¥çš„ <code>title</code> å˜é‡ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤ï¼Œæ­¤å¤„é»˜è®¤è®¾ç½®çš„æ˜¯ <code>Flask App</code> ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if title %&#125;</span><br><span class="line">    &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt; &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">    &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å½“ä¸ä¼ å…¥å‚æ•°æ—¶ï¼Œç½‘é¡µåå­—å°±ä¼šå˜æˆ <code>Flask App</code> ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    return render_template(&#39;index.html&#39;)</span><br></pre></td></tr></table></figure><p>ä¼ å…¥å‚æ•°æ—¶ï¼Œç½‘é¡µåå­—ä¼šä½¿ç”¨ä¼ å…¥çš„åå­— <code>Home</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    return render_template(&#39;index.html&#39;, title&#x3D;&#39;Home&#39;)</span><br></pre></td></tr></table></figure><p>æºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    return render_template(&#39;index.html&#39;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)   #   debug å¼€å¯è°ƒè¯•ï¼Œæ›´æ”¹ä»£ç å†…å®¹ï¼Œç•Œé¢ç›¸åº”æ”¹å˜ï¼›</span><br><span class="line">                                                    #   hostæ”¹æˆ0.0.0.0è®©å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®</span><br><span class="line">                                                    #   port&#x3D;3000ç«¯å£å·</span><br></pre></td></tr></table></figure><p><code>HTML</code> ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &#123;% if title %&#125;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt; &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">        &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨å¾ªç¯"><a href="#ä½¿ç”¨å¾ªç¯" class="headerlink" title="ä½¿ç”¨å¾ªç¯"></a>ä½¿ç”¨å¾ªç¯</h4><p>å¾ªç¯çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼Œå…¶æ„ä¹‰æ˜¯å°† <code>data</code> å˜é‡ä¸­çš„å†…å®¹æ”¾åˆ°pæ ‡ç­¾ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for p in data %&#125;</span><br><span class="line">    &lt;p&gt; &#123;&#123;p&#125;&#125; &lt;&#x2F;p&gt;      </span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„éœ€è¦ä¼ å…¥ <code>data</code> å˜é‡å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    paragraph&#x3D;[</span><br><span class="line">        &#39;section 1&#39;,</span><br><span class="line">        &#39;section 2&#39;,</span><br><span class="line">        &#39;section 3&#39;</span><br><span class="line">    ]</span><br><span class="line">    return render_template(&#39;index.html&#39;,title&#x3D;&#39;Home&#39;,data&#x3D;paragraph)</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç»“æœæ•ˆæœå¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210120201314.png"></p><p>æºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    paragraph&#x3D;[</span><br><span class="line">        &#39;section 1&#39;,</span><br><span class="line">        &#39;section 2&#39;,</span><br><span class="line">        &#39;section 3&#39;</span><br><span class="line">    ]</span><br><span class="line">    return render_template(&#39;index.html&#39;,title&#x3D;&#39;Home&#39;,data&#x3D;paragraph)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)   #   debug å¼€å¯è°ƒè¯•ï¼Œæ›´æ”¹ä»£ç å†…å®¹ï¼Œç•Œé¢ç›¸åº”æ”¹å˜ï¼›</span><br><span class="line">                                                    #   hostæ”¹æˆ0.0.0.0è®©å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®</span><br><span class="line">                                                    #   port&#x3D;3000ç«¯å£å·</span><br></pre></td></tr></table></figure><p><code>HTML</code> ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &#123;% if title %&#125;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt; &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">        &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">        &#123;% for p in data %&#125;</span><br><span class="line">            &lt;p&gt; &#123;&#123;p&#125;&#125; &lt;&#x2F;p&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="å‘é¡µé¢ä¼ é€’ä¸€ä¸ªå˜é‡"><a href="#å‘é¡µé¢ä¼ é€’ä¸€ä¸ªå˜é‡" class="headerlink" title="å‘é¡µé¢ä¼ é€’ä¸€ä¸ªå˜é‡"></a>å‘é¡µé¢ä¼ é€’ä¸€ä¸ªå˜é‡</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å‘ <code>HTML</code> ä¸­ä¼ å…¥å˜é‡ã€‚åœ¨ <code>render_template</code> å‡½æ•°ä¸­è‡ªå®šä¹‰<code>title</code>å˜é‡ï¼Œå¦‚ï¼š<code>render_template(&#39;index.html&#39;,title=title)</code> ã€‚å‘ <code>render_template</code> å®šä¹‰ <code>title</code> å˜é‡åï¼Œéœ€è¦åœ¨ <code>HTML</code> ä¸­æ¥æ”¶è¯¥å˜é‡ã€‚ä½¿ç”¨ä¸¤ä¸ªå¤§æ‹¬å·ï¼Œåœ¨ä¸¤ä¸ªå¤§æ‹¬å·ä¸­é—´å†™å…¥ <code>title</code> å¦‚ <code>&#123;&#123;title&#125;&#125;</code> ï¼Œè¿™æ ·å°±å®ç°å‘ <code>HTML</code> ä¼ å…¥å˜é‡ã€‚</p><h4 id="ä¼ é€’æ™®é€šå˜é‡"><a href="#ä¼ é€’æ™®é€šå˜é‡" class="headerlink" title="ä¼ é€’æ™®é€šå˜é‡"></a>ä¼ é€’æ™®é€šå˜é‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask,render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;&#x2F;&quot;)</span><br><span class="line">def index():</span><br><span class="line">    title &#x3D; &quot;Flak App&quot;  #æ™®é€šå˜é‡</span><br><span class="line">    return render_template(&quot;index.html&quot;,title&#x3D;title)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><p>HTMLç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;    &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h4 id="ä¼ é€’åˆ—è¡¨"><a href="#ä¼ é€’åˆ—è¡¨" class="headerlink" title="ä¼ é€’åˆ—è¡¨"></a>ä¼ é€’åˆ—è¡¨</h4><p>ä¼ é€’åˆ—è¡¨å¦‚ä½•æ˜¾ç¤ºå‘¢ï¼Ÿå¯ä»¥ç”¨åˆ°ä¸Šé¢è®²çš„forå¾ªç¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask,render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;&#x2F;&quot;)</span><br><span class="line">def index():</span><br><span class="line">    title &#x3D; &quot;Flak App&quot;  #æ™®é€šå˜é‡</span><br><span class="line">    name &#x3D; [&quot;å°å¼ &quot;,&quot;å°èµµ&quot;,&quot;å°ç‹&quot;]   #åˆ—è¡¨</span><br><span class="line">    return render_template(&quot;index.html&quot;,title&#x3D;title,name&#x3D;name)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><p>HTMLç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;    &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">        ä»Šå¤©å€¼ç­çš„æœ‰ï¼š&lt;br&#x2F;&gt;</span><br><span class="line">        &#123;%for n in name%&#125;</span><br><span class="line">            &lt;li&gt;&#123;&#123;n&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &#123;%endfor%&#125;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h4 id="ä¼ é€’å­—å…¸"><a href="#ä¼ é€’å­—å…¸" class="headerlink" title="ä¼ é€’å­—å…¸"></a>ä¼ é€’å­—å…¸</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask,render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;&#x2F;&quot;)</span><br><span class="line">def index():</span><br><span class="line">    title &#x3D; &quot;Flak App&quot;  #æ™®é€šå˜é‡</span><br><span class="line">    name &#x3D; [&quot;å°å¼ &quot;,&quot;å°èµµ&quot;,&quot;å°ç‹&quot;]   #åˆ—è¡¨</span><br><span class="line">    task &#x3D; &#123;&quot;ä»»åŠ¡&quot;:&quot;æ‰“æ‰«å«ç”Ÿ&quot;,&quot;æ—¶é—´&quot;:&quot;3å°æ—¶&quot;&#125;</span><br><span class="line">    return render_template(&quot;index.html&quot;,title&#x3D;title,name&#x3D;name,task&#x3D;task)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><p>HTMLç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;    &lt;!-- &#123;&#123;title&#125;&#125;å˜é‡ä¼ å…¥æ­¤å¤„ --&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;hello world&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">        ä»Šå¤©å€¼ç­çš„æœ‰ï¼š&lt;br&#x2F;&gt;</span><br><span class="line">        &#123;%for n in name%&#125;</span><br><span class="line">            &lt;li&gt;&#123;&#123;n&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &#123;%endfor%&#125;</span><br><span class="line"></span><br><span class="line">        &lt;br&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">            &#123;% for key,value in task.items()%&#125;  &lt;!-- ä½¿ç”¨task.items()æ–¹æ³•ï¼Œå°†å­—å…¸å˜æˆ[( , ),( , ),( , )]å½¢å¼ --&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&#123;&#123;key&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td&gt;&#123;&#123;value&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">            &#123;%endfor%&#125;</span><br><span class="line">        &lt;&#x2F;table&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿çš„ç»§æ‰¿å’Œå¼•ç”¨"><a href="#æ¨¡æ¿çš„ç»§æ‰¿å’Œå¼•ç”¨" class="headerlink" title="æ¨¡æ¿çš„ç»§æ‰¿å’Œå¼•ç”¨"></a>æ¨¡æ¿çš„ç»§æ‰¿å’Œå¼•ç”¨</h3><h4 id="æ¨¡æ¿ç»§æ‰¿å’Œä¿®æ”¹"><a href="#æ¨¡æ¿ç»§æ‰¿å’Œä¿®æ”¹" class="headerlink" title="æ¨¡æ¿ç»§æ‰¿å’Œä¿®æ”¹"></a>æ¨¡æ¿ç»§æ‰¿å’Œä¿®æ”¹</h4><p>æ¨¡æ¿ä¸­æœ‰å¾ˆå¤šå…±ç”¨çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…±ç”¨çš„éƒ¨åˆ†å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ç®€åŒ–ä»£ç ã€‚<br>æ¨¡æ¿çš„ç»§æ‰¿ï¼Œé¦–å…ˆåˆ›å»º <code>base.html</code> å†™å…¥ä¸€äº›å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &#123;% if title %&#125;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">        &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h3&gt;&lt;a href&#x3D;&quot;&#x2F;&quot;&gt;Flask App&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>index.html</code> ä¸­ä½¿ç”¨å…³é”®å­— <code>extends</code> ç»§æ‰¿æ¨¡æ¿</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#39;base.html&#39; %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210120211950.png"></p><p>æœ‰æ—¶ä¼šå°†ç»§æ‰¿çš„æ¨¡æ¿é‡Œé¢çš„å†…å®¹è¿›è¡Œæ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>block</code> è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;h1&gt;parent template&lt;&#x2F;h1&gt; &lt;!-- å¯èƒ½è¦ä¿®æ”¹çš„å†…å®¹ --&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">content ä¸ºè¯¥blockçš„åå­—</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ <code>index.html</code> ä¸­åŒæ ·ä½¿ç”¨ä¸Šé¢çš„è¯­å¥ï¼Œå¯¹æ¨¡æ¿ä¸­çš„ <code>block</code> é‡Œé¢çš„å†…å®¹ä¿®æ”¹ï¼Œå¦‚æœä¸ä¿®æ”¹ï¼Œå°±æ˜¯åŸæ¥ <code>block</code> å—ä¸­çš„å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &#123;% for p in data %&#125;</span><br><span class="line">        &lt;p&gt;&#123;&#123;p&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210120213308.png"></p><p>æºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    paragraph&#x3D;[</span><br><span class="line">        &#39;section 1&#39;,</span><br><span class="line">        &#39;section 2&#39;,</span><br><span class="line">        &#39;section 3&#39;</span><br><span class="line">    ]</span><br><span class="line">    return render_template(&#39;index.html&#39;,title&#x3D;&#39;Home&#39;,data&#x3D;paragraph)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)   #   debug å¼€å¯è°ƒè¯•ï¼Œæ›´æ”¹ä»£ç å†…å®¹ï¼Œç•Œé¢ç›¸åº”æ”¹å˜ï¼›</span><br><span class="line">                                                    #   hostæ”¹æˆ0.0.0.0è®©å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®</span><br><span class="line">                                                    #   port&#x3D;3000ç«¯å£å·</span><br></pre></td></tr></table></figure><p><code>base.html</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &#123;% if title %&#125;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">        &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h3&gt;&lt;a href&#x3D;&quot;&#x2F;&quot;&gt;Flask App&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &#123;% block content %&#125;</span><br><span class="line">            &lt;h1&gt;parent template&lt;&#x2F;h1&gt;</span><br><span class="line">        &#123;% endblock %&#125;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p><code>index.html</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#39;base.html&#39; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &#123;% for p in data %&#125;</span><br><span class="line">        &lt;p&gt;&#123;&#123;p&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨¡æ¿çš„å¼•ç”¨"><a href="#æ¨¡æ¿çš„å¼•ç”¨" class="headerlink" title="æ¨¡æ¿çš„å¼•ç”¨"></a>æ¨¡æ¿çš„å¼•ç”¨</h4><p>æ¯”å¦‚ï¼Œå¯¹äºå¯¼èˆªæ ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä»–å†™åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ã€‚å‘½åä¸º <code>navbar.html</code> ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨é‡Œé¢å†™å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;&lt;a href&#x3D;&quot;&#x2F;&quot;&gt;Flask App&lt;&#x2F;a&gt;&lt;a href&#x3D;&quot;&#x2F;home&quot;&gt;Home&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;hr&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥å† <code>base.html</code> ä¸­å¼•ç”¨ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &#39;navbar.html&#39; %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20210120214437.png"></p><p>æºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, render_template</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;)</span><br><span class="line">def index():</span><br><span class="line">    paragraph&#x3D;[</span><br><span class="line">        &#39;section 1&#39;,</span><br><span class="line">        &#39;section 2&#39;,</span><br><span class="line">        &#39;section 3&#39;</span><br><span class="line">    ]</span><br><span class="line">    return render_template(&#39;index.html&#39;,title&#x3D;&#39;Home&#39;,data&#x3D;paragraph)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)   #   debug å¼€å¯è°ƒè¯•ï¼Œæ›´æ”¹ä»£ç å†…å®¹ï¼Œç•Œé¢ç›¸åº”æ”¹å˜ï¼›</span><br><span class="line">                                                    #   hostæ”¹æˆ0.0.0.0è®©å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®</span><br><span class="line">                                                    #   port&#x3D;3000ç«¯å£å·</span><br></pre></td></tr></table></figure><p><code>index.html</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#39;base.html&#39; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &#123;% for p in data %&#125;</span><br><span class="line">        &lt;p&gt;&#123;&#123;p&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p><code>base.html</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &#123;% if title %&#125;</span><br><span class="line">        &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">        &lt;title&gt;Flask App&lt;&#x2F;title&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &#123;% include &#39;navbar.html&#39; %&#125;</span><br><span class="line">        &#123;% block content %&#125;</span><br><span class="line">            &lt;h1&gt;parent template&lt;&#x2F;h1&gt;</span><br><span class="line">        &#123;% endblock %&#125;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p><code>navbar.html</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;&lt;a href&#x3D;&quot;&#x2F;&quot;&gt;Flask App&lt;&#x2F;a&gt;&lt;a href&#x3D;&quot;&#x2F;home&quot;&gt;Home&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;hr&gt;</span><br></pre></td></tr></table></figure><h3 id="è¡¨å•æäº¤"><a href="#è¡¨å•æäº¤" class="headerlink" title="è¡¨å•æäº¤"></a>è¡¨å•æäº¤</h3><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå¯ä»¥åœ¨URLè§„åˆ™ä¸­æŒ‡å®šhttpæ–¹æ³•ã€‚è§¦å‘å‡½æ•°æ¥æ”¶çš„Formæ•°æ®å¯ä»¥ä»¥å­—å…¸å¯¹è±¡çš„å½¢å¼æ”¶é›†å®ƒå¹¶å°†å…¶è½¬å‘åˆ°æ¨¡æ¿ä»¥åœ¨ç›¸åº”çš„ç½‘é¡µä¸Šå‘ˆç°å®ƒã€‚<br>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œâ€™/signâ€™ URLä¼šå‘ˆç°å…·æœ‰è¡¨å•çš„ç½‘é¡µï¼ˆsign.htmlï¼‰ã€‚å¡«å…¥çš„æ•°æ®ä¼šå‘å¸ƒåˆ°è§¦å‘ result()å‡½<br>æ•°çš„â€™/resultâ€™ URLã€‚<br>result()å‡½æ•°æ”¶é›†å­—å…¸å¯¹è±¡ä¸­çš„request.formä¸­å­˜åœ¨çš„è¡¨å•æ•°æ®ï¼Œå¹¶å°†å…¶å‘é€ç»™result.htmlã€‚è¯¥æ¨¡æ¿åŠ¨æ€å‘ˆç°è¡¨å•æ•°æ®çš„HTMLè¡¨æ ¼ã€‚</p><p>ä¸‹é¢ç»™å‡ºçš„æ˜¯åº”ç”¨ç¨‹åºçš„Pythonä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask,render_template,request</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line"># è¡¨å•æäº¤é¡µé¢</span><br><span class="line">@app.route(&quot;&#x2F;sign&quot;)</span><br><span class="line">def sign():</span><br><span class="line">    return render_template(&quot;sign.html&quot;)</span><br><span class="line"></span><br><span class="line"># è¡¨å•ç»“æœæ˜¾ç¤ºé¡µé¢</span><br><span class="line">@app.route(&quot;&#x2F;result&quot;,methods&#x3D;[&quot;POST&quot;,&quot;GET&quot;])    #é»˜è®¤ä¸ºgetï¼Œå…¶ä»–è¯·æ±‚éœ€è¦æŒ‡å®š</span><br><span class="line">def result():</span><br><span class="line">    if request.method&#x3D;&#x3D;&quot;POST&quot;:</span><br><span class="line">        result&#x3D;request.form</span><br><span class="line">    return render_template(&quot;result.html&quot;,result&#x3D;result)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    app.run(debug&#x3D;True, host&#x3D;&quot;0.0.0.0&quot;,port&#x3D;3000)</span><br></pre></td></tr></table></figure><p>sign.html ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;title&lt;&#x2F;title&gt;    </span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;form action&#x3D;&quot;&#123;&#123;url_for(&#39;result&#39;)&#125;&#125;&quot; method&#x3D;&quot;POST&quot;&gt;    &lt;!-- ä½¿ç”¨url_for(&quot;å‡½æ•°å&quot;) æŒ‡å®šæäº¤çš„åœ°å€--&gt;</span><br><span class="line">            &lt;p&gt;å§“åï¼š&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;å§“å&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;å¹´é¾„ï¼š&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;å¹´é¾„&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;p&gt;&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;æäº¤&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>result.htmlä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">            &#123;% for key,value in result.items()%&#125;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&#123;&#123;key&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td&gt;&#123;&#123;value&#125;&#125;&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">            &#123;%endfor%&#125;</span><br><span class="line">        &lt;&#x2F;table&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h1 id="Echartså…¥é—¨"><a href="#Echartså…¥é—¨" class="headerlink" title="Echartså…¥é—¨"></a>Echartså…¥é—¨</h1><p>å®˜æ–¹ä¸­æ–‡ç½‘å€ï¼š<a href="https://echarts.apache.org/zh/index.html">https://echarts.apache.org/zh/index.html</a><br>å®˜æ–¹å®ä¾‹ï¼š<a href="https://echarts.apache.org/examples/zh/index.html">https://echarts.apache.org/examples/zh/index.html</a><br>å®˜æ–¹æ•™ç¨‹ï¼š<a href="https://echarts.apache.org/zh/tutorial.html">https://echarts.apache.org/zh/tutorial.html</a></p><ul><li>å¼•å…¥Echarts </li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥ ECharts æ–‡ä»¶ --&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;echarts.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®æ˜¾ç¤ºåŒºåŸŸ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„ DOM --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width: 600px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><ul><li><p>åˆå§‹åŒ–Echarts</p></li><li><p>æŒ‡å®šé…ç½®é¡¹å’Œæ•°æ®</p></li><li><p>è®¾ç½®é…ç½®é¡¹æ˜¾ç¤ºå›¾è¡¨</p></li></ul><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;ECharts&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥ echarts.js --&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;echarts.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- ä¸ºEChartså‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„Dom --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;main&quot; style&#x3D;&quot;width: 600px;height:400px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">        &#x2F;&#x2F; åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span><br><span class="line">        var myChart &#x3D; echarts.init(document.getElementById(&#39;main&#39;));</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span><br><span class="line">        var option &#x3D; &#123;</span><br><span class="line">            title: &#123;</span><br><span class="line">                text: &#39;ECharts å…¥é—¨ç¤ºä¾‹&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip: &#123;&#125;,</span><br><span class="line">            legend: &#123;</span><br><span class="line">                data:[&#39;é”€é‡&#39;]</span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis: &#123;</span><br><span class="line">                data: [&quot;è¡¬è¡«&quot;,&quot;ç¾Šæ¯›è¡«&quot;,&quot;é›ªçººè¡«&quot;,&quot;è£¤å­&quot;,&quot;é«˜è·Ÿé‹&quot;,&quot;è¢œå­&quot;]</span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis: &#123;&#125;,</span><br><span class="line">            series: [&#123;</span><br><span class="line">                name: &#39;é”€é‡&#39;,</span><br><span class="line">                type: &#39;bar&#39;,</span><br><span class="line">                data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span><br><span class="line">        myChart.setOption(option);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h1 id="WordCloud"><a href="#WordCloud" class="headerlink" title="WordCloud"></a>WordCloud</h1><h2 id="WordCloudç¤ºä¾‹ç¨‹åº"><a href="#WordCloudç¤ºä¾‹ç¨‹åº" class="headerlink" title="WordCloudç¤ºä¾‹ç¨‹åº"></a>WordCloudç¤ºä¾‹ç¨‹åº</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># å¼•å…¥å¿…è¦çš„åº“</span><br><span class="line">import jieba        #åˆ†ä¸­æ–‡è¯</span><br><span class="line">import numpy as np  #çŸ©é˜µè¿ç®—</span><br><span class="line">import sqlite3      #æ•°æ®åº“</span><br><span class="line">from matplotlib import pyplot as plt    #ç»˜å›¾æ•°æ®å¯è§†åŒ–</span><br><span class="line">from wordcloud import WordCloud         #è¯äº‘</span><br><span class="line">from PIL import Image                   #å›¾ç‰‡å¤„ç†</span><br><span class="line"></span><br><span class="line"># å‡†å¤‡è¯äº‘æ‰€éœ€çš„è¯</span><br><span class="line">con&#x3D;sqlite3.connect(&quot;movies.db&quot;)</span><br><span class="line">cur&#x3D;con.cursor()</span><br><span class="line">sql&#x3D;&quot;select instroduction from movies250&quot;</span><br><span class="line">data &#x3D;cur.execute(sql)</span><br><span class="line">text&#x3D;&quot;&quot;</span><br><span class="line">for item in data:</span><br><span class="line">    text&#x3D;text+item[0]</span><br><span class="line">    # print(type(item))</span><br><span class="line">    </span><br><span class="line">cur.close()</span><br><span class="line">con.close()</span><br><span class="line"></span><br><span class="line"># åˆ†è¯</span><br><span class="line">cut &#x3D;jieba.cut(text)</span><br><span class="line">string &#x3D;&#39; &#39;.join(cut)   # æ­¤å¤„&#39; &#39;åŒå¼•å·ä¸­é—´æœ‰ç©ºæ ¼</span><br><span class="line">print(len(string))  #æ‰“å°åˆ†è¯æ•°é‡</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img &#x3D; Image.open(r&quot;.&#x2F;static&#x2F;assets&#x2F;img&#x2F;tree.jpg&quot;)   # æ‰“å¼€å›¾ç‰‡</span><br><span class="line">img_array &#x3D; np.array(img)   # å°†å›¾ç‰‡è½¬åŒ–æˆæ•°ç»„</span><br><span class="line">wc&#x3D;WordCloud(</span><br><span class="line">    background_color&#x3D;&#39;white&#39;,           # è®¾ç½®èƒŒæ™¯é¢œè‰²</span><br><span class="line">    mask&#x3D;img_array,                     # è®¾ç½®èƒŒæ™¯å›¾ç‰‡</span><br><span class="line">    font_path&#x3D;&#39;&#x2F;mnt&#x2F;c&#x2F;Windows&#x2F;Fonts&#x2F;msyhl.ttc&#39;)     #ä½¿ç”¨WSLå­ç³»ç»Ÿéœ€è¦æŒ‡å®šå®Œæ•´çš„å­—ä½“è·¯å¾„</span><br><span class="line">                                                    # è‹¥æ˜¯æœ‰ä¸­æ–‡çš„è¯ï¼Œå¿…é¡»æ·»åŠ ä¸­æ–‡å­—ä½“ï¼Œä¸ç„¶ä¼šå‡ºç°æ–¹æ¡†ï¼Œä¸å‡ºç°æ±‰å­—</span><br><span class="line"></span><br><span class="line">wc.generate_from_text(string)</span><br><span class="line"></span><br><span class="line"># ç»˜åˆ¶å›¾ç‰‡</span><br><span class="line">fig&#x3D;plt.figure(1)   #æ–°å»ºä¸€ä¸ªåå« Figure1çš„ç”»å›¾çª—å£</span><br><span class="line">plt.imshow(wc)      #æ˜¾ç¤ºå›¾ç‰‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºå…¶æ ¼å¼</span><br><span class="line">plt.axis(&#39;off&#39;) #æ˜¯å¦æ˜¾ç¤ºåæ ‡è½´</span><br><span class="line"></span><br><span class="line">plt.savefig(r&quot;.&#x2F;static&#x2F;assets&#x2F;img&#x2F;word.jpg&quot;,dpi&#x3D;400)    #ä¿å­˜åˆæˆå›¾ç‰‡ï¼Œdpiæ˜¯è®¾å®šåˆ†è¾¨ç‡ï¼Œé»˜è®¤ä¸º400</span><br></pre></td></tr></table></figure><h2 id="WordCloudé…ç½®"><a href="#WordCloudé…ç½®" class="headerlink" title="WordCloudé…ç½®"></a>WordCloudé…ç½®</h2><p>WordCloudä¸ªå‚æ•°çš„å«ä¹‰ï¼š</p><p>font_path : string #å­—ä½“è·¯å¾„ï¼Œéœ€è¦å±•ç°ä»€ä¹ˆå­—ä½“å°±æŠŠè¯¥å­—ä½“è·¯å¾„+åç¼€åå†™ä¸Šï¼Œå¦‚ï¼šfont_path = â€˜é»‘ä½“.ttfâ€™<br>width : int (default=400) #è¾“å‡ºçš„ç”»å¸ƒå®½åº¦ï¼Œé»˜è®¤ä¸º400åƒç´ <br>height : int (default=200) #è¾“å‡ºçš„ç”»å¸ƒé«˜åº¦ï¼Œé»˜è®¤ä¸º200åƒç´ <br>prefer_horizontal : float (default=0.90) #è¯è¯­æ°´å¹³æ–¹å‘æ’ç‰ˆå‡ºç°çš„é¢‘ç‡ï¼Œé»˜è®¤ 0.9 ï¼ˆæ‰€ä»¥è¯è¯­å‚ç›´æ–¹å‘æ’ç‰ˆå‡ºç°é¢‘ç‡ä¸º 0.1 ï¼‰<br>mask : nd-array or None (default=None) #å¦‚æœå‚æ•°ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨äºŒç»´é®ç½©ç»˜åˆ¶è¯äº‘ã€‚å¦‚æœmask éç©ºï¼Œè®¾ç½®çš„å®½é«˜å€¼å°†è¢«å¿½ç•¥ï¼Œé®ç½©å½¢çŠ¶è¢« mask å–ä»£ã€‚é™¤å…¨ç™½ï¼ˆ#FFFFFFï¼‰çš„éƒ¨åˆ†å°†ä¸ä¼šç»˜åˆ¶ï¼Œå…¶ä½™éƒ¨åˆ†ä¼šç”¨äºç»˜åˆ¶è¯äº‘ã€‚å¦‚ï¼šbg_pic = imread(â€˜è¯»å–ä¸€å¼ å›¾ç‰‡.pngâ€™)ï¼ŒèƒŒæ™¯å›¾ç‰‡çš„ç”»å¸ƒä¸€å®šè¦è®¾ç½®ä¸ºç™½è‰²ï¼ˆ#FFFFFFï¼‰ï¼Œç„¶åæ˜¾ç¤ºçš„å½¢çŠ¶ä¸ºä¸æ˜¯ç™½è‰²çš„å…¶ä»–é¢œè‰²ã€‚å¯ä»¥ç”¨pså·¥å…·å°†è‡ªå·±è¦æ˜¾ç¤ºçš„å½¢çŠ¶å¤åˆ¶åˆ°ä¸€ä¸ªçº¯ç™½è‰²çš„ç”»å¸ƒä¸Šå†ä¿å­˜ï¼Œå°±okäº†ã€‚<br>scale : float (default=1) #æŒ‰ç…§æ¯”ä¾‹è¿›è¡Œæ”¾å¤§ç”»å¸ƒï¼Œå¦‚è®¾ç½®ä¸º1.5ï¼Œåˆ™é•¿å’Œå®½éƒ½æ˜¯åŸæ¥ç”»å¸ƒçš„1.5å€<br>min_font_size : int (default=4) #æ˜¾ç¤ºçš„æœ€å°çš„å­—ä½“å¤§å°<br>font_step : int (default=1) #å­—ä½“æ­¥é•¿ï¼Œå¦‚æœæ­¥é•¿å¤§äº1ï¼Œä¼šåŠ å¿«è¿ç®—ä½†æ˜¯å¯èƒ½å¯¼è‡´ç»“æœå‡ºç°è¾ƒå¤§çš„è¯¯å·®<br>max_words : number (default=200) #è¦æ˜¾ç¤ºçš„è¯çš„æœ€å¤§ä¸ªæ•°<br>stopwords : set of strings or None #è®¾ç½®éœ€è¦å±è”½çš„è¯ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™ä½¿ç”¨å†…ç½®çš„STOPWORDS<br>background_color : color value (default=â€blackâ€) #èƒŒæ™¯é¢œè‰²ï¼Œå¦‚background_color=â€™whiteâ€™,èƒŒæ™¯é¢œè‰²ä¸ºç™½è‰²<br>max_font_size : int or None (default=None) #æ˜¾ç¤ºçš„æœ€å¤§çš„å­—ä½“å¤§å°<br>mode : string (default=â€RGBâ€) #å½“å‚æ•°ä¸ºâ€œRGBAâ€å¹¶ä¸”background_colorä¸ä¸ºç©ºæ—¶ï¼ŒèƒŒæ™¯ä¸ºé€æ˜<br>relative_scaling : float (default=.5) #è¯é¢‘å’Œå­—ä½“å¤§å°çš„å…³è”æ€§<br>color_func : callable, default=None #ç”Ÿæˆæ–°é¢œè‰²çš„å‡½æ•°ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™ä½¿ç”¨ self.color_func<br>regexp : string or None (optional) #ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”è¾“å…¥çš„æ–‡æœ¬<br>collocations : bool, default=True #æ˜¯å¦åŒ…æ‹¬ä¸¤ä¸ªè¯çš„æ­é…<br>colormap : string or matplotlib colormap, default=â€viridisâ€ #ç»™æ¯ä¸ªå•è¯éšæœºåˆ†é…é¢œè‰²ï¼Œè‹¥æŒ‡å®šcolor_funcï¼Œåˆ™å¿½ç•¥è¯¥æ–¹æ³•<br>random_state : int or None #ä¸ºæ¯ä¸ªå•è¯è¿”å›ä¸€ä¸ªPILé¢œè‰²<br>fit_words(frequencies) #æ ¹æ®è¯é¢‘ç”Ÿæˆè¯äº‘<br>generate(text) #æ ¹æ®æ–‡æœ¬ç”Ÿæˆè¯äº‘<br>generate_from_frequencies(frequencies[, â€¦]) #æ ¹æ®è¯é¢‘ç”Ÿæˆè¯äº‘<br>generate_from_text(text) #æ ¹æ®æ–‡æœ¬ç”Ÿæˆè¯äº‘<br>process_text(text) #å°†é•¿æ–‡æœ¬åˆ†è¯å¹¶å»é™¤å±è”½è¯ï¼ˆæ­¤å¤„æŒ‡è‹±è¯­ï¼Œä¸­æ–‡åˆ†è¯è¿˜æ˜¯éœ€è¦è‡ªå·±ç”¨åˆ«çš„åº“å…ˆè¡Œå®ç°ï¼Œä½¿ç”¨ä¸Šé¢çš„ fit_words(frequencies) ï¼‰<br>recolor([random_state, color_func, colormap]) #å¯¹ç°æœ‰è¾“å‡ºé‡æ–°ç€è‰²ã€‚é‡æ–°ä¸Šè‰²ä¼šæ¯”é‡æ–°ç”Ÿæˆæ•´ä¸ªè¯äº‘å¿«å¾ˆå¤š<br>to_array() #è½¬åŒ–ä¸º numpy array<br>to_file(filename) #è¾“å‡ºåˆ°æ–‡ä»¶</p><h1 id="è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™"><a href="#è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™" class="headerlink" title="è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™"></a>è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™</h1><p>Githubä»“åº“ï¼š<a href="https://github.com/imgyh/DouBan_Top250">https://github.com/imgyh/DouBan_Top250</a></p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> Echarts </tag>
            
            <tag> WordCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonç½‘ç»œçˆ¬è™«</title>
      <link href="posts/ee4f8e00/"/>
      <url>posts/ee4f8e00/</url>
      
        <content type="html"><![CDATA[<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>è¯¥ç¬”è®°å›´ç»•è±†ç“£TOP250é¡µé¢è¿›è¡Œå­¦ä¹ ï¼Œçˆ¬å–è±†ç“£TOP250å½±ç‰‡ä¿¡æ¯ã€‚ç½‘å€ä¸º <a href="https://movie.douban.com/top250?start=25">https://movie.douban.com/top250?start=25</a> å…¶ä¸­ <code>?start=25</code> è¡¨ç¤ºæ˜¾ç¤ºç¬¬25ä¸ªä»¥åçš„25ä¸ªå½±ç‰‡ä¿¡æ¯ï¼Œå¦‚æœä¸åŠ è¯¥å‚æ•°ï¼Œåˆ™ä»ç¬¬ä¸€ä¸ªå¼€å§‹æ˜¾ç¤ºã€‚</p><p>æˆ‘ä»¬éœ€è¦å®‰è£…ç›¸åº”çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup   #ç½‘é¡µè§£æè·å–æ•°æ®</span><br><span class="line">import re   #æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ–‡å­—åŒ¹é…</span><br><span class="line">import urllib.request , urllib.error , requests   #ç½‘é¡µè¯·æ±‚</span><br><span class="line">import xlwt #è¿›è¡ŒExcelæ“ä½œ</span><br><span class="line">import sqlite3  #è¿›è¡Œsqliteæ•°æ®åº“æ“ä½œ</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®æµç¨‹"><a href="#é¡¹ç›®æµç¨‹" class="headerlink" title="é¡¹ç›®æµç¨‹"></a>é¡¹ç›®æµç¨‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">def main():</span><br><span class="line">    baseurl &#x3D; &quot;https:&#x2F;&#x2F;movie.douban.com&#x2F;top250?start&#x3D;&quot;</span><br><span class="line">    # 1.çˆ¬å–ç½‘é¡µ</span><br><span class="line">    GetData(baseurl)</span><br><span class="line">    # 3.ä¿å­˜æ•°æ®</span><br><span class="line">    savepath &#x3D; &quot;.&#x2F;top250.xls&quot;</span><br><span class="line">    SaveData(savepath)</span><br><span class="line"></span><br><span class="line">def GetData(baseurl):</span><br><span class="line">    datalist&#x3D;[]</span><br><span class="line">    # 2.è¾¹çˆ¬å–è¾¹è§£ææ•°æ®</span><br><span class="line">    return datalist</span><br><span class="line"></span><br><span class="line">def SaveData(savepath):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="urllibåº“ä»‹ç»"><a href="#urllibåº“ä»‹ç»" class="headerlink" title="urllibåº“ä»‹ç»"></a>urllibåº“ä»‹ç»</h2><p>åŸºæœ¬çš„è¯·æ±‚ æ˜¯pythonå†…ç½®çš„ä¸€ä¸ªhttpè¯·æ±‚åº“ï¼Œä¸éœ€è¦é¢å¤–çš„å®‰è£…ã€‚åªéœ€è¦å…³æ³¨è¯·æ±‚çš„é“¾æ¥ï¼Œå‚æ•°ï¼Œæä¾›äº†å¼ºå¤§çš„ è§£æã€‚<br>urllb.request è¯·æ±‚æ¨¡å—<br>urllib.error  å¼‚å¸¸å¤„ç†æ¨¡å—<br>urllib.parse  è§£ææ¨¡å—</p><p>å‚è€ƒï¼š <a href="https://www.cnblogs.com/qikeyishu/p/10748497.html">https://www.cnblogs.com/qikeyishu/p/10748497.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"># getè¯·æ±‚</span><br><span class="line">import urllib.request , urllib.error</span><br><span class="line">response&#x3D;urllib.request.urlopen(&quot;http:&#x2F;&#x2F;www.baidu.com&quot;)</span><br><span class="line">print(response.read().decode(&quot;utf-8&quot;))  #å¯¹è¯»åˆ°çš„å“åº”è½¬ç æˆutf-8</span><br><span class="line">print(response.status)  # è·å–çŠ¶æ€ç </span><br><span class="line">print(response.getheaders())    #è·å–æ‰€æœ‰å“åº”å¤´ä¿¡æ¯</span><br><span class="line">print(response.getheader(&quot;Bdqid&quot;))    #è·å–æŸä¸ªå“åº”å¤´ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"># postè¯·æ±‚</span><br><span class="line">import urllib.request , urllib.error</span><br><span class="line">import urllib.parse</span><br><span class="line">data &#x3D; bytes(urllib.parse.urlencode(&#123;&quot;hello&quot;:&quot;world&quot;&#125;),encoding&#x3D;&quot;utf-8&quot;)    #ç”Ÿæˆæµ‹è¯•æ•°æ®</span><br><span class="line">res &#x3D; urllib.request.urlopen(&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;,data&#x3D;data)</span><br><span class="line">print(res.read().decode(&quot;utf-8&quot;))</span><br><span class="line"></span><br><span class="line"># è¶…æ—¶å¤„ç†</span><br><span class="line">import urllib.request , urllib.error</span><br><span class="line">try:</span><br><span class="line">    response&#x3D;urllib.request.urlopen(&quot;http:&#x2F;&#x2F;www.baidu.com&quot;,timeout&#x3D;0.01) # è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡0.01sæ²¡è¿”å›å°±æŠ¥é”™</span><br><span class="line">    print(response.read().decode(&quot;utf-8&quot;))</span><br><span class="line">except urllib.error.URLError as result:</span><br><span class="line">    print(&quot;Time Out!&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å°è£…è¯·æ±‚å¤´è®¿é—®</span><br><span class="line">import urllib.request , urllib.error</span><br><span class="line">import urllib.parse</span><br><span class="line">url&#x3D;&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;</span><br><span class="line">data &#x3D; bytes(urllib.parse.urlencode(&#123;&quot;hello&quot;:&quot;world&quot;&#125;),encoding&#x3D;&quot;utf-8&quot;)    #ç”Ÿæˆæµ‹è¯•æ•°æ®</span><br><span class="line">headers&#x3D;&#123;</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Safari&#x2F;537.36&quot;</span><br><span class="line">&#125;</span><br><span class="line">req &#x3D; urllib.request.Request(url&#x3D;url,data&#x3D;data,headers&#x3D;headers,method&#x3D;&quot;POST&quot;)   #å°è£…è¯·æ±‚å¯¹è±¡,ç”±äºurlopenæ— æ³•ä¼ å‚æ•°ï¼Œå£°æ˜ä¸€ä¸ªRequestå¯¹è±¡ </span><br><span class="line">res &#x3D; urllib.request.urlopen(req)</span><br><span class="line">print(res.read().decode(&quot;utf-8&quot;))</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®è§£æ"><a href="#æ•°æ®è§£æ" class="headerlink" title="æ•°æ®è§£æ"></a>æ•°æ®è§£æ</h1><h2 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h2><p>BeautifulSoupä½¿ç”¨è¯¦è§£å‚è§ï¼š</p><a href="/posts/e74af289/" title="BeautifulSoupè¯¦è§£">BeautifulSoupè¯¦è§£</a><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id="æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦"><a href="#æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦"></a>æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ“ä½œç¬¦</h3><table><thead><tr><th align="left">æ“ä½œç¬¦</th><th align="left">è¯´æ˜</th><th align="left">å®ä¾‹</th></tr></thead><tbody><tr><td align="left">.</td><td align="left">è¡¨ç¤ºä»»ä½•å•å­—ç¬¦</td><td align="left"></td></tr><tr><td align="left">[ ]</td><td align="left">å­—ç¬¦é›†å¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºå–å€¼èŒƒå›´</td><td align="left">[abc]è¡¨ç¤ºa,b,c [a-z]è¡¨ç¤ºa-zçš„å­—ç¬¦</td></tr><tr><td align="left">[^ ]</td><td align="left">éå­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºæ’é™¤èŒƒå›´</td><td align="left">[^abc]è¡¨ç¤ºéaæˆ–bæˆ–cçš„å•ä¸ªå­—ç¬¦</td></tr><tr><td align="left">*</td><td align="left">å‰é¢ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td align="left">abc*è¡¨ç¤ºab,abc,abccç­‰</td></tr><tr><td align="left">+</td><td align="left">å‰é¢ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td align="left">abc*è¡¨ç¤ºabc,abccç­‰</td></tr><tr><td align="left">?</td><td align="left">å‰é¢ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•</td><td align="left">abc?è¡¨ç¤ºab,abc</td></tr><tr><td align="left"></td><td align="left"></td><td align="left">å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª</td></tr><tr><td align="left">{m}</td><td align="left">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mæ¬¡</td><td align="left">ab{2}cè¡¨ç¤ºabbc</td></tr><tr><td align="left">{m,n}</td><td align="left">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡(åŒ…å«n)</td><td align="left">ab{1,2}cè¡¨ç¤ºabc,abbc</td></tr><tr><td align="left">^</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td><td align="left">^abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´</td></tr><tr><td align="left">$</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td><td align="left">abc$è¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ç»“å°¾</td></tr><tr><td align="left">( )</td><td align="left">åˆ†ç»„æ ‡è®°</td><td align="left">(abc)è¡¨ç¤ºabc</td></tr><tr><td align="left">\d</td><td align="left">æ•°å­—,é‚“å˜‰æ€¡[0-9]</td><td align="left"></td></tr><tr><td align="left">\w</td><td align="left">å•è¯å­—ç¬¦ï¼Œç­‰ä»·äº[a-zA-Z0-9_]</td><td align="left"></td></tr></tbody></table><h3 id="Reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°"><a href="#Reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°" class="headerlink" title="Reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°"></a>Reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°</h3><table><thead><tr><th align="left">å‡½æ•°</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">re.search()</td><td align="left">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å›matchå¯¹è±¡</td></tr><tr><td align="left">re.match()</td><td align="left">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›matchå¯¹è±¡</td></tr><tr><td align="left">re.findall()</td><td align="left">æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›å…¨éƒ¨åŒ¹é…åˆ°çš„å­ä¸²</td></tr><tr><td align="left">re.sub()</td><td align="left">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</td></tr><tr><td align="left">re.split()</td><td align="left">å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹</td></tr><tr><td align="left">re.finditer()</td><td align="left">æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯ä¸ªmatå¯¹è±¡</td></tr></tbody></table><h3 id="æ§åˆ¶åŒ¹é…çš„æ¨¡å¼"><a href="#æ§åˆ¶åŒ¹é…çš„æ¨¡å¼" class="headerlink" title="æ§åˆ¶åŒ¹é…çš„æ¨¡å¼"></a>æ§åˆ¶åŒ¹é…çš„æ¨¡å¼</h3><p>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒ…å«ä¸€äº›å¯é€‰æ ‡å¿—ä¿®é¥°ç¬¦æ¥æ§åˆ¶åŒ¹é…çš„æ¨¡å¼ã€‚ä¿®é¥°ç¬¦è¢«æŒ‡å®šä¸ºä¸€ä¸ªå¯é€‰çš„æ ‡å¿—ã€‚ å¤šä¸ªæ ‡å¿—å¯ä»¥é€šè¿‡æŒ‰ä½ OR(|) å®ƒä»¬æ¥æŒ‡å®šã€‚å¦‚ re.I | re.M è¢«è®¾ç½®æˆ I å’Œ M æ ‡å¿—ï¼š</p><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">re.l</td><td align="left">ä½¿åŒ¹é…å¯¹å¤§å°å†™ä¸æ•æ„Ÿ</td></tr><tr><td align="left">re.L</td><td align="left">åšæœ¬åœ°åŒ–è¯†åˆ«åŒ¹é…</td></tr><tr><td align="left">re.M</td><td align="left">å¤šè¡ŒåŒ¹é…å½±å“^å’Œ$</td></tr><tr><td align="left">re.S</td><td align="left">ä½¿.åŒ¹é…åŒ…æ‹¬æ¢è¡Œåœ¨å†…çš„æ‰€æœ‰å­—ç¬¦</td></tr><tr><td align="left">re.U</td><td align="left">æ ¹æ®Unicodeå­—ç¬¦é›†è§£æå­—ç¬¦ï¼Œå½±å“\b,\B\w,\W</td></tr><tr><td align="left">re.X</td><td align="left">è¯¥æ ‡å¿—é€šè¿‡ç»™äºˆä½ æ›´çµæ´»çš„æ ¼å¼ä»¥ä¾¿ä½ å°†æ­£åˆ™è¡¨è¾¾å¼å†™å¾—æ›´æ˜“äºç†è§£</td></tr></tbody></table><h3 id="Reæ¨¡å—ä¸‹çš„å‡½æ•°"><a href="#Reæ¨¡å—ä¸‹çš„å‡½æ•°" class="headerlink" title="Reæ¨¡å—ä¸‹çš„å‡½æ•°"></a>Reæ¨¡å—ä¸‹çš„å‡½æ•°</h3><p>compile(pattern)ï¼šåˆ›å»ºæ¨¡å¼å¯¹è±¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import re </span><br><span class="line">pat&#x3D;re.compile(&quot;A&quot;) </span><br><span class="line">#m&#x3D;pat.search(&quot;CBA&quot;) </span><br><span class="line"></span><br><span class="line">m&#x3D;pat.search(&quot;ABC&quot;) </span><br><span class="line">#ç­‰ä»·äº re.search( A , CBA ) </span><br><span class="line">print(m)</span><br><span class="line">#&lt;re.Match object; span&#x3D;(2, 3), match&#x3D;&#39;A&#39;&gt;  è¡¨ç¤ºåŒ¹é…åˆ°äº†</span><br><span class="line"></span><br><span class="line">m&#x3D;pat.search(&quot;CBD&quot;) </span><br><span class="line">print(m) Â  Â  Â  Â #None Â  è¡¨ç¤ºæ²¡åŒ¹é…åˆ°</span><br></pre></td></tr></table></figure><p>search(pattern,string)ï¼šåœ¨å­—ç¬¦ä¸²ä¸­å¯»æ‰¾æ¨¡å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re </span><br><span class="line">m &#x3D; re.search(&quot;asd&quot; , &quot;ASDasd&quot; ) </span><br><span class="line">print(m)</span><br><span class="line"># &lt;_sre.SRE_Match object at 0xb72cd6e8&gt;  #åŒ¹é…åˆ°äº†ï¼Œè¿”å›MatchObjectï¼ˆTrueï¼‰</span><br><span class="line"></span><br><span class="line">m &#x3D; re.search(&quot;asd&quot;  , &quot;ASDASD&quot; ) </span><br><span class="line">print(m) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  #æ²¡æœ‰åŒ¹é…åˆ°ï¼Œè¿”å›Noneï¼ˆFalseï¼‰</span><br></pre></td></tr></table></figure><p>match(pattern,string)ï¼šåœ¨å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æ¨¡å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># ç­‰ä»·äº</span><br><span class="line">pat&#x3D;re.compile( &quot;a&quot; )</span><br><span class="line">print(pat.match( &quot;Aasd&quot; ))</span><br><span class="line">#è¾“å‡ºNone</span><br><span class="line"></span><br><span class="line">print(pat.match(&quot;aASD&quot; ))</span><br><span class="line">#è¾“å‡º &lt;_sre.SRE_Match object at 0xb72cd6e8&gt;</span><br><span class="line"></span><br><span class="line"># ä¸Šé¢çš„å‡½æ•°è¿”å›éƒ½å¯ä»¥åœ¨ifæ¡ä»¶è¯­å¥ä¸­è¿›è¡Œåˆ¤æ–­ï¼š</span><br><span class="line">if pat.search(&quot;asd&quot;):</span><br><span class="line">    print (&quot;OK&quot;)   #OK Â  Â  Â   #æ‰¾åˆ°è¿”å›</span><br><span class="line">if re.search(&quot;a&quot;,&quot;ASD&quot; ):</span><br><span class="line">    print (&quot;OK&quot;)            #æ²¡æœ‰æ‰¾åˆ° </span><br></pre></td></tr></table></figure><p>split(pattern,string)ï¼šæ ¹æ®æ¨¡å¼åˆ†å‰²å­—ç¬¦ä¸²,è¿”å›åˆ—è¡¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">re.split( , , a,s,d,asd )</span><br><span class="line">[ a , s , d , asd ] Â  Â  Â  Â  Â #è¿”å›åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( , )</span><br><span class="line">pat.split( a,s,d,asd )</span><br><span class="line">[ a , s , d , asd ] Â  Â  Â  Â  Â #è¿”å›åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">re.split( [, ]+ , a , Â s  ,d Â  Â  ,,,,,asd ) Â  #æ­£åˆ™åŒ¹é…ï¼š[, ]+ï¼Œåé¢è¯´æ˜</span><br><span class="line">[ a , s , d , asd ]</span><br><span class="line"></span><br><span class="line">re.split( [, ]+ , a , Â s  ,d Â  Â  ,,,,,asd ,maxsplit&#x3D;2) # maxsplit å¤šåˆ†å‰²æ¬¡æ•°</span><br><span class="line">[ a , s , d Â  Â  ,,,,,asd ]</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( [, ]+ ) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  #æ­£åˆ™åŒ¹é…ï¼š[, ]+ï¼Œåé¢è¯´æ˜</span><br><span class="line">pat.split( a , Â s  ,d Â  Â  ,,,,,asd ,maxsplit&#x3D;2) Â  Â  Â  Â # maxsplit å¤šåˆ†å‰²æ¬¡æ•°</span><br><span class="line">[ a , s , d Â  Â  ,,,,,asd ]</span><br></pre></td></tr></table></figure><p>ï¬ndall(pattern,string)ï¼šåˆ—è¡¨å½¢å¼è¿”å›åŒ¹é…é¡¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">print(re.findall( &quot;a&quot; , &quot;ASDaDFGAa&quot; ))</span><br><span class="line">#[ a , a ] Â  Â  Â  Â  Â  Â  Â  Â  Â #åˆ—è¡¨å½¢å¼è¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( &quot;a&quot; )</span><br><span class="line">print(pat.findall( &quot;ASDaDFGAa&quot; ))</span><br><span class="line">#[ a , a ] Â  Â  Â  Â  #åˆ—è¡¨å½¢å¼è¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( &quot;[A-Z]+&quot; ) Â  Â #æ­£åˆ™åŒ¹é…ï¼š[A-Z]+</span><br><span class="line">print(pat.findall( &quot;ASDcDFGAa&quot; ))</span><br><span class="line">#[ ASD , DFGA ] Â  Â  Â  Â  Â  Â  Â  Â  #æ‰¾åˆ°åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( [A-Z] ) pat.findall( ASDcDFGAa ) #æ­£åˆ™åŒ¹é…ï¼š[A-Z]+</span><br><span class="line">#[ A , S , D , D , F , G , A ]  #æ‰¾åˆ°åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line">pat &#x3D; re.compile( [A-Za-z] ) Â  #æ­£åˆ™åŒ¹é…ï¼š[A-Za-z]+  åŒ¹é…æ‰€æœ‰å•è¯</span><br><span class="line">pat.findall( ASDcDFGAa )</span><br><span class="line">[ A , S , D , c , D , F , G , A , a ]</span><br></pre></td></tr></table></figure><p>sub(pat,repl,string) ï¼šç”¨replæ›¿æ¢ patåŒ¹é…é¡¹ (ç•™çš„æ˜¯ä¸­é—´çš„ï¼Œå› ä¸ºä¸­é—´åœ¨ä¸­å¿ƒ)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re.sub( a , A , abcasd ) Â  #æ‰¾åˆ°aç”¨Aæ›¿æ¢</span><br><span class="line">AbcAsd</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è§£æéƒ¨åˆ†ä»£ç "><a href="#è§£æéƒ¨åˆ†ä»£ç " class="headerlink" title="è§£æéƒ¨åˆ†ä»£ç "></a>è§£æéƒ¨åˆ†ä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup   #ç½‘é¡µè§£æè·å–æ•°æ®</span><br><span class="line">import re   #æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ–‡å­—åŒ¹é…</span><br><span class="line">import urllib.request , urllib.error , requests   #ç½‘é¡µè¯·æ±‚</span><br><span class="line">import xlwt #è¿›è¡ŒExcelæ“ä½œ</span><br><span class="line">import sqlite3  #è¿›è¡Œsqliteæ•°æ®åº“æ“ä½œ</span><br><span class="line"></span><br><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">def main():</span><br><span class="line">    baseurl &#x3D; &quot;https:&#x2F;&#x2F;movie.douban.com&#x2F;top250?start&#x3D;&quot;</span><br><span class="line">    # 1.çˆ¬å–ç½‘é¡µ</span><br><span class="line">    GetData(baseurl)</span><br><span class="line">    # 3.ä¿å­˜æ•°æ®</span><br><span class="line">    savepath &#x3D; &quot;.&#x2F;è±†ç“£TOP250.xls&quot;</span><br><span class="line">    SaveData(savepath)</span><br><span class="line"></span><br><span class="line">#è¯¦æƒ…é“¾æ¥</span><br><span class="line">findlink&#x3D;re.compile(r&#39;&lt;a href&#x3D;&quot;(.*?)&quot;&gt;&#39;)    #åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œè¡¨ç¤ºè§„åˆ™</span><br><span class="line">#å½±ç‰‡å›¾ç‰‡</span><br><span class="line">findsrc&#x3D;re.compile(r&#39;&lt;img.*src&#x3D;&quot;(.*?)&quot;&#39;,re.S)   #re.Sè®©æ¢è¡Œç¬¦åŒ…å«åœ¨.åŒ¹é…ç¬¦å…¶ä¸­</span><br><span class="line">#å½±ç‰‡åå­—</span><br><span class="line">findtitle&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;title&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)   </span><br><span class="line">#å½±ç‰‡è¯„åˆ†</span><br><span class="line">findrating&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;rating_num&quot; property&#x3D;&quot;v:average&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)    </span><br><span class="line">#å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">findjudge&#x3D;re.compile(r&#39;&lt;span&gt;(\d*?)äººè¯„ä»·&lt;&#x2F;span&gt;&#39;)  </span><br><span class="line">#å½±ç‰‡æ¦‚å†µ</span><br><span class="line">findinq&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;inq&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;) </span><br><span class="line">#å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">findbd&#x3D;re.compile(r&#39;&lt;p class&#x3D;&quot;&quot;&gt;(.*?)&lt;&#x2F;p&gt;&#39;,re.S)</span><br><span class="line"></span><br><span class="line">def GetData(baseurl):</span><br><span class="line">    datalist&#x3D;[]</span><br><span class="line">    for i in range(0,10):</span><br><span class="line">        url &#x3D; baseurl + str(i*25)   # è°ƒç”¨è·å–é¡µé¢ä¿¡æ¯å‡½æ•°10æ¬¡</span><br><span class="line">        html &#x3D;AskURL(url)</span><br><span class="line">        # 2.è¾¹çˆ¬å–è¾¹è§£ææ•°æ®</span><br><span class="line">        soup &#x3D; BeautifulSoup(html,&quot;html.parser&quot;)</span><br><span class="line">        for item in soup.find_all(&#39;div&#39;,class_&#x3D;&quot;item&quot;): #æŸ¥æ‰¾ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²å½¢æˆåˆ—è¡¨ï¼Œ</span><br><span class="line">            data &#x3D; []   #ä¿å­˜ä¸€éƒ¨å½±ç‰‡æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">            item&#x3D;str(item)</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯¦æƒ…é¡µé“¾æ¥</span><br><span class="line">            link&#x3D;re.findall(findlink,item)[0]   #ä½¿ç”¨reåº“æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²</span><br><span class="line">            data.append(link)                   #æ·»åŠ é“¾æ¥</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡å›¾ç‰‡</span><br><span class="line">            imgsrc&#x3D;re.findall(findsrc,item)[0]</span><br><span class="line">            data.append(imgsrc)                 #æ·»åŠ å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡åå­—</span><br><span class="line">            titles&#x3D;re.findall(findtitle,item)   #ç‰‡åå¯èƒ½åªæœ‰ä¸­æ–‡åæ²¡æœ‰å¤–æ–‡å</span><br><span class="line">            if (len(titles)&#x3D;&#x3D;2):</span><br><span class="line">                data.append(titles[0])  #æ·»åŠ ä¸­æ–‡å</span><br><span class="line">                data.append(titles[1].replace(&quot;&#x2F;&quot;,&quot;&quot;))  #æ·»åŠ å¤–æ–‡å</span><br><span class="line">            else:</span><br><span class="line">                data.append(titles[0])</span><br><span class="line">                data.append(&quot;&quot;)        #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯„åˆ†</span><br><span class="line">            rating&#x3D;re.findall(findrating,item)[0]</span><br><span class="line">            data.append(rating)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">            judgenum&#x3D;re.findall(findjudge,item)[0]</span><br><span class="line">            data.append(judgenum)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡æ¦‚å†µ</span><br><span class="line">            inq&#x3D;re.findall(findinq,item)</span><br><span class="line">            if(len(inq)!&#x3D;0):</span><br><span class="line">                inq&#x3D;inq[0].replace(&quot;ã€‚&quot;,&quot;&quot;)    #å»æ‰å¥å·</span><br><span class="line">                data.append(inq)                #æ·»åŠ æ¦‚å†µ</span><br><span class="line">            else:</span><br><span class="line">                data.append(&quot;&quot;)                 #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">            bd&#x3D;re.findall(findbd,item)[0]</span><br><span class="line">            bd&#x3D;re.sub(&quot;&lt;br(\s+)?&#x2F;&gt;(\s+)?&quot;,&quot;&quot;,bd)</span><br><span class="line">            bd&#x3D;re.sub(&quot;&#x2F;&quot;,&quot;&quot;,bd)    #å»æ‰ &#x2F;</span><br><span class="line">            data.append(bd.strip()) #å»æ‰ç©ºæ ¼ï¼Œå¹¶æ·»åŠ è¿›data</span><br><span class="line"></span><br><span class="line">            datalist.append(data)</span><br><span class="line">    </span><br><span class="line">    print(datalist)</span><br><span class="line"></span><br><span class="line">    return datalist</span><br><span class="line"></span><br><span class="line">#ä¿å­˜æ•°æ®</span><br><span class="line">def SaveData(savepath):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">#å¾—åˆ°ä¸€ä¸ªæŒ‡å®šurlçš„å†…å®¹</span><br><span class="line">def AskURL(url):</span><br><span class="line">    headers&#x3D;&#123;   #æ¨¡æ‹Ÿæµè§ˆå™¨å¤´éƒ¨ä¿¡æ¯ï¼Œå‘è±†ç“£å‘é€è¯·æ±‚</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Safari&#x2F;537.36&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    request &#x3D; urllib.request.Request(url&#x3D;url,headers&#x3D;headers)</span><br><span class="line">    try:</span><br><span class="line">        response &#x3D;urllib.request.urlopen(request)</span><br><span class="line">        html &#x3D; response.read().decode(&quot;utf-8&quot;)</span><br><span class="line">        # print(html)</span><br><span class="line">    except urllib.error.URLError as e:</span><br><span class="line">        if hasattr(e,&quot;code&quot;):</span><br><span class="line">            print(e.code)</span><br><span class="line">        if hasattr(e,&quot;reason&quot;):</span><br><span class="line">            print(e.reason)</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®ä¿å­˜"><a href="#æ•°æ®ä¿å­˜" class="headerlink" title="æ•°æ®ä¿å­˜"></a>æ•°æ®ä¿å­˜</h1><h2 id="ä¿å­˜æ•°æ®åˆ°Excel"><a href="#ä¿å­˜æ•°æ®åˆ°Excel" class="headerlink" title="ä¿å­˜æ•°æ®åˆ°Excel"></a>ä¿å­˜æ•°æ®åˆ°Excel</h2><p>å‚è€ƒ: <a href="https://www.cnblogs.com/caesar-id/p/11802440.html">https://www.cnblogs.com/caesar-id/p/11802440.html</a></p><p>ä½¿ç”¨xlwtä¿å­˜æ•°æ®åˆ°Excelçš„å°demoï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import xlwt</span><br><span class="line"></span><br><span class="line">workbook&#x3D;xlwt.Workbook(encoding&#x3D;&quot;utf-8&quot;)    #åˆ›å»ºworkbookå¯¹è±¡</span><br><span class="line">worksheet&#x3D;workbook.add_sheet(&quot;sheet1&quot;)      #åˆ›å»ºå·¥ä½œè¡¨å–åsheet1</span><br><span class="line">worksheet.write(0,0,&quot;hello&quot;)                #åœ¨sheet1ä¸­çš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—å†™å…¥hello</span><br><span class="line">workbook.save(&quot;student.xls&quot;)                #ä¿å­˜æ•°æ®è¡¨å–åä¸ºstudent.xls</span><br></pre></td></tr></table></figure><h2 id="ä¿å­˜æ•°æ®åˆ°Excelä»£ç "><a href="#ä¿å­˜æ•°æ®åˆ°Excelä»£ç " class="headerlink" title="ä¿å­˜æ•°æ®åˆ°Excelä»£ç "></a>ä¿å­˜æ•°æ®åˆ°Excelä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup   #ç½‘é¡µè§£æè·å–æ•°æ®</span><br><span class="line">import re   #æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ–‡å­—åŒ¹é…</span><br><span class="line">import urllib.request , urllib.error , requests   #ç½‘é¡µè¯·æ±‚</span><br><span class="line">import xlwt #è¿›è¡ŒExcelæ“ä½œ</span><br><span class="line">import sqlite3  #è¿›è¡Œsqliteæ•°æ®åº“æ“ä½œ</span><br><span class="line"></span><br><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">def main():</span><br><span class="line">    baseurl &#x3D; &quot;https:&#x2F;&#x2F;movie.douban.com&#x2F;top250?start&#x3D;&quot;</span><br><span class="line">    # 1.çˆ¬å–ç½‘é¡µ</span><br><span class="line">    datalist&#x3D;GetData(baseurl)</span><br><span class="line">    # 3.ä¿å­˜æ•°æ®</span><br><span class="line">    savepath &#x3D; &quot;.&#x2F;è±†ç“£TOP250.xls&quot;</span><br><span class="line">    SaveData(datalist,savepath)</span><br><span class="line"></span><br><span class="line">#è¯¦æƒ…é“¾æ¥</span><br><span class="line">findlink&#x3D;re.compile(r&#39;&lt;a href&#x3D;&quot;(.*?)&quot;&gt;&#39;)    #åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œè¡¨ç¤ºè§„åˆ™</span><br><span class="line">#å½±ç‰‡å›¾ç‰‡</span><br><span class="line">findsrc&#x3D;re.compile(r&#39;&lt;img.*src&#x3D;&quot;(.*?)&quot;&#39;,re.S)   #re.Sè®©æ¢è¡Œç¬¦åŒ…å«åœ¨.åŒ¹é…ç¬¦å…¶ä¸­</span><br><span class="line">#å½±ç‰‡åå­—</span><br><span class="line">findtitle&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;title&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡è¯„åˆ†</span><br><span class="line">findrating&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;rating_num&quot; property&#x3D;&quot;v:average&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">findjudge&#x3D;re.compile(r&#39;&lt;span&gt;(\d*?)äººè¯„ä»·&lt;&#x2F;span&gt;&#39;) </span><br><span class="line">#å½±ç‰‡æ¦‚å†µ</span><br><span class="line">findinq&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;inq&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">findbd&#x3D;re.compile(r&#39;&lt;p class&#x3D;&quot;&quot;&gt;(.*?)&lt;&#x2F;p&gt;&#39;,re.S)</span><br><span class="line"></span><br><span class="line">def GetData(baseurl):</span><br><span class="line">    datalist&#x3D;[]</span><br><span class="line">    for i in range(0,10):</span><br><span class="line">        url &#x3D; baseurl + str(i*25)   # è°ƒç”¨è·å–é¡µé¢ä¿¡æ¯å‡½æ•°10æ¬¡</span><br><span class="line">        html &#x3D;AskURL(url)</span><br><span class="line">        # 2.è¾¹çˆ¬å–è¾¹è§£ææ•°æ®</span><br><span class="line">        soup &#x3D; BeautifulSoup(html,&quot;html.parser&quot;)</span><br><span class="line">        for item in soup.find_all(&#39;div&#39;,class_&#x3D;&quot;item&quot;): #æŸ¥æ‰¾ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²å½¢æˆåˆ—è¡¨ï¼Œ</span><br><span class="line">            data &#x3D; []   #ä¿å­˜ä¸€éƒ¨å½±ç‰‡æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">            item&#x3D;str(item)</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯¦æƒ…é¡µé“¾æ¥</span><br><span class="line">            link&#x3D;re.findall(findlink,item)[0]   #ä½¿ç”¨reåº“æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²</span><br><span class="line">            data.append(link)                   #æ·»åŠ é“¾æ¥</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡å›¾ç‰‡</span><br><span class="line">            imgsrc&#x3D;re.findall(findsrc,item)[0]</span><br><span class="line">            data.append(imgsrc)                 #æ·»åŠ å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡åå­—</span><br><span class="line">            titles&#x3D;re.findall(findtitle,item)   #ç‰‡åå¯èƒ½åªæœ‰ä¸­æ–‡åæ²¡æœ‰å¤–æ–‡å</span><br><span class="line">            if (len(titles)&#x3D;&#x3D;2):</span><br><span class="line">                data.append(titles[0])  #æ·»åŠ ä¸­æ–‡å</span><br><span class="line">                data.append(titles[1].replace(&quot;&#x2F;&quot;,&quot;&quot;))  #æ·»åŠ å¤–æ–‡å</span><br><span class="line">            else:</span><br><span class="line">                data.append(titles[0])</span><br><span class="line">                data.append(&quot;&quot;)        #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯„åˆ†</span><br><span class="line">            rating&#x3D;re.findall(findrating,item)[0]</span><br><span class="line">            data.append(rating)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">            judgenum&#x3D;re.findall(findjudge,item)[0]</span><br><span class="line">            data.append(judgenum)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡æ¦‚å†µ</span><br><span class="line">            inq&#x3D;re.findall(findinq,item)</span><br><span class="line">            if(len(inq)!&#x3D;0):</span><br><span class="line">                inq&#x3D;inq[0].replace(&quot;ã€‚&quot;,&quot;&quot;)    #å»æ‰å¥å·</span><br><span class="line">                data.append(inq)                #æ·»åŠ æ¦‚å†µ</span><br><span class="line">            else:</span><br><span class="line">                data.append(&quot;&quot;)                 #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">            bd&#x3D;re.findall(findbd,item)[0]</span><br><span class="line">            bd&#x3D;re.sub(&quot;&lt;br(\s+)?&#x2F;&gt;(\s+)?&quot;,&quot;&quot;,bd)</span><br><span class="line">            bd&#x3D;re.sub(&quot;&#x2F;&quot;,&quot;&quot;,bd)    #å»æ‰ &#x2F;</span><br><span class="line">            data.append(bd.strip()) #å»æ‰ç©ºæ ¼ï¼Œå¹¶æ·»åŠ è¿›data</span><br><span class="line"></span><br><span class="line">            datalist.append(data)</span><br><span class="line">    </span><br><span class="line">    # print(datalist)</span><br><span class="line"></span><br><span class="line">    return datalist</span><br><span class="line"></span><br><span class="line">#ä¿å­˜æ•°æ®</span><br><span class="line">def SaveData(datalist,savepath):</span><br><span class="line"></span><br><span class="line">    workbook&#x3D;xlwt.Workbook(encoding&#x3D;&quot;utf-8&quot;)    #åˆ›å»ºworkbookå¯¹è±¡</span><br><span class="line">    worksheet&#x3D;workbook.add_sheet(&quot;è±†ç“£TOP250&quot;)      #åˆ›å»ºå·¥ä½œè¡¨å–åsheet1</span><br><span class="line">    </span><br><span class="line">    col&#x3D;(&quot;ç”µå½±è¯¦æƒ…é“¾æ¥&quot;,&quot;å›¾ç‰‡é“¾æ¥&quot;,&quot;å½±ç‰‡ä¸­æ–‡å&quot;,&quot;å½±ç‰‡å¤–æ–‡å&quot;,&quot;è¯„åˆ†&quot;,&quot;è¯„ä»·æ•°&quot;,&quot;æ¦‚å†µ&quot;,&quot;ç›¸å…³ä¿¡æ¯&quot;)</span><br><span class="line">    for i in range(0,8):</span><br><span class="line">        worksheet.write(0,i,col[i])     #æ·»åŠ è¡¨å¤´</span><br><span class="line">    for i in range(0,250):</span><br><span class="line">        print(&quot;ç¬¬%dæ¡&quot;%i)</span><br><span class="line">        data&#x3D;datalist[i]</span><br><span class="line">        for j in range(0,8):</span><br><span class="line">            worksheet.write(i+1,j,data[j])</span><br><span class="line">    workbook.save(savepath)                #ä¿å­˜æ•°æ®è¡¨å–åä¸ºstudent.xls</span><br><span class="line"></span><br><span class="line">#å¾—åˆ°ä¸€ä¸ªæŒ‡å®šurlçš„å†…å®¹</span><br><span class="line">def AskURL(url):</span><br><span class="line">    headers&#x3D;&#123;   #æ¨¡æ‹Ÿæµè§ˆå™¨å¤´éƒ¨ä¿¡æ¯ï¼Œå‘è±†ç“£å‘é€è¯·æ±‚</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Safari&#x2F;537.36&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    request &#x3D; urllib.request.Request(url&#x3D;url,headers&#x3D;headers)</span><br><span class="line">    try:</span><br><span class="line">        response &#x3D;urllib.request.urlopen(request)</span><br><span class="line">        html &#x3D; response.read().decode(&quot;utf-8&quot;)</span><br><span class="line">        # print(html)</span><br><span class="line">    except urllib.error.URLError as e:</span><br><span class="line">        if hasattr(e,&quot;code&quot;):</span><br><span class="line">            print(e.code)</span><br><span class="line">        if hasattr(e,&quot;reason&quot;):</span><br><span class="line">            print(e.reason)</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“"><a href="#ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“" class="headerlink" title="ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“"></a>ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“</h2><p>sqliteåŸºæœ¬ä½¿ç”¨æ–¹æ³•</p><ol><li>å»ºç«‹æ•°æ®åº“è¡¨</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import sqlite3</span><br><span class="line"># å»ºè¡¨</span><br><span class="line">conn&#x3D;sqlite3.connect(&quot;test.db&quot;) # æ‰“å¼€æˆ–åˆ›å»ºæ•°æ®åº“</span><br><span class="line">c&#x3D;conn.cursor() #è·å–æ¸¸æ ‡</span><br><span class="line">sql &#x3D;&#39;&#39;&#39;</span><br><span class="line">create table commpany</span><br><span class="line">(id int primary key not null,</span><br><span class="line">name text not null,</span><br><span class="line">age int not null,</span><br><span class="line">address char(50),</span><br><span class="line">salary real)</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">c.execute(sql)  #æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">conn.commit()   #æäº¤æ•°æ®åº“æ“ä½œ</span><br><span class="line">c.close()       #å…³é—­æ¸¸æ ‡</span><br><span class="line">conn.close()    #å…³é—­æ•°æ®åº“</span><br></pre></td></tr></table></figure><ol start="2"><li>æ’å…¥æ•°æ®</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import sqlite3</span><br><span class="line"># æ’å…¥æ•°æ®</span><br><span class="line">conn&#x3D;sqlite3.connect(&quot;test.db&quot;) # æ‰“å¼€æˆ–åˆ›å»ºæ•°æ®åº“</span><br><span class="line">c&#x3D;conn.cursor() #è·å–æ¸¸æ ‡</span><br><span class="line">sql1 &#x3D;&#39;&#39;&#39;</span><br><span class="line">insert into commpany (id,name,age,address,salary)</span><br><span class="line">values (1,&#39;å¼ ä¸‰&#39;,32,&#39;æˆéƒ½&#39;,8000);</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">sql2 &#x3D;&#39;&#39;&#39;</span><br><span class="line">insert into commpany (id,name,age,address,salary)</span><br><span class="line">values (2,&#39;æå››&#39;,30,&#39;é‡åº†&#39;,10000);</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">c.execute(sql1)  #æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">c.execute(sql2)  #æ‰§è¡Œsqlè¯­å¥</span><br><span class="line">conn.commit()   #æäº¤æ•°æ®åº“æ“ä½œ</span><br><span class="line">c.close()       #å…³é—­æ¸¸æ ‡</span><br><span class="line">conn.close()    #å…³é—­æ•°æ®åº“</span><br></pre></td></tr></table></figure><ol start="3"><li>æŸ¥è¯¢æ•°æ®åº“</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import sqlite3</span><br><span class="line"># æŸ¥è¯¢æ•°æ®åº“</span><br><span class="line">conn&#x3D;sqlite3.connect(&quot;test.db&quot;) # æ‰“å¼€æˆ–åˆ›å»ºæ•°æ®åº“</span><br><span class="line">c&#x3D;conn.cursor() #è·å–æ¸¸æ ‡</span><br><span class="line">sql &#x3D;&#39;&#39;&#39;</span><br><span class="line">select id,name,age,address,salary from commpany</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">cur&#x3D;c.execute(sql)  #æ‰§è¡Œsqlè¯­å¥</span><br><span class="line"></span><br><span class="line">for row in cur:</span><br><span class="line">    print(&quot;id &#x3D; &quot;,row[0])</span><br><span class="line">    print(&quot;name &#x3D; &quot;,row[1])</span><br><span class="line">    print(&quot;address &#x3D; &quot;,row[2])</span><br><span class="line">    print(&quot;salary &#x3D; &quot;,row[3],&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">c.close()       #å…³é—­æ¸¸æ ‡</span><br><span class="line">conn.close()    #å…³é—­æ•°æ®åº“</span><br></pre></td></tr></table></figure><h2 id="ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“ä»£ç "><a href="#ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“ä»£ç " class="headerlink" title="ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“ä»£ç "></a>ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“ä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup   #ç½‘é¡µè§£æè·å–æ•°æ®</span><br><span class="line">import re   #æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ–‡å­—åŒ¹é…</span><br><span class="line">import urllib.request , urllib.error , requests   #ç½‘é¡µè¯·æ±‚</span><br><span class="line">import xlwt #è¿›è¡ŒExcelæ“ä½œ</span><br><span class="line">import sqlite3  #è¿›è¡Œsqliteæ•°æ®åº“æ“ä½œ</span><br><span class="line"></span><br><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">def main():</span><br><span class="line">    baseurl &#x3D; &quot;https:&#x2F;&#x2F;movie.douban.com&#x2F;top250?start&#x3D;&quot;</span><br><span class="line">    # 1.çˆ¬å–ç½‘é¡µ</span><br><span class="line">    datalist&#x3D;GetData(baseurl)</span><br><span class="line">    # 3.ä¿å­˜æ•°æ®åˆ°Excel</span><br><span class="line">    # savepath &#x3D; &quot;.&#x2F;è±†ç“£TOP250.xls&quot;</span><br><span class="line">    # SaveData(datalist,savepath)</span><br><span class="line"></span><br><span class="line">    # 4. ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“</span><br><span class="line">    dbpath&#x3D;&quot;.&#x2F;movies.db&quot;</span><br><span class="line">    SaveData2DB(datalist,dbpath)</span><br><span class="line"></span><br><span class="line">#è¯¦æƒ…é“¾æ¥</span><br><span class="line">findlink&#x3D;re.compile(r&#39;&lt;a href&#x3D;&quot;(.*?)&quot;&gt;&#39;)    #åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œè¡¨ç¤ºè§„åˆ™</span><br><span class="line">#å½±ç‰‡å›¾ç‰‡</span><br><span class="line">findsrc&#x3D;re.compile(r&#39;&lt;img.*src&#x3D;&quot;(.*?)&quot;&#39;,re.S)   #re.Sè®©æ¢è¡Œç¬¦åŒ…å«åœ¨.åŒ¹é…ç¬¦å…¶ä¸­</span><br><span class="line">#å½±ç‰‡åå­—</span><br><span class="line">findtitle&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;title&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡è¯„åˆ†</span><br><span class="line">findrating&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;rating_num&quot; property&#x3D;&quot;v:average&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">findjudge&#x3D;re.compile(r&#39;&lt;span&gt;(\d*?)äººè¯„ä»·&lt;&#x2F;span&gt;&#39;) </span><br><span class="line">#å½±ç‰‡æ¦‚å†µ</span><br><span class="line">findinq&#x3D;re.compile(r&#39;&lt;span class&#x3D;&quot;inq&quot;&gt;(.*?)&lt;&#x2F;span&gt;&#39;)</span><br><span class="line">#å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">findbd&#x3D;re.compile(r&#39;&lt;p class&#x3D;&quot;&quot;&gt;(.*?)&lt;&#x2F;p&gt;&#39;,re.S)</span><br><span class="line"></span><br><span class="line">def GetData(baseurl):</span><br><span class="line">    datalist&#x3D;[]</span><br><span class="line">    for i in range(0,10):</span><br><span class="line">        url &#x3D; baseurl + str(i*25)   # è°ƒç”¨è·å–é¡µé¢ä¿¡æ¯å‡½æ•°10æ¬¡</span><br><span class="line">        html &#x3D;AskURL(url)</span><br><span class="line">        # 2.è¾¹çˆ¬å–è¾¹è§£ææ•°æ®</span><br><span class="line">        soup &#x3D; BeautifulSoup(html,&quot;html.parser&quot;)</span><br><span class="line">        for item in soup.find_all(&#39;div&#39;,class_&#x3D;&quot;item&quot;): #æŸ¥æ‰¾ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²å½¢æˆåˆ—è¡¨ï¼Œ</span><br><span class="line">            data &#x3D; []   #ä¿å­˜ä¸€éƒ¨å½±ç‰‡æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">            item&#x3D;str(item)</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯¦æƒ…é¡µé“¾æ¥</span><br><span class="line">            link&#x3D;re.findall(findlink,item)[0]   #ä½¿ç”¨reåº“æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²</span><br><span class="line">            data.append(link)                   #æ·»åŠ é“¾æ¥</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡å›¾ç‰‡</span><br><span class="line">            imgsrc&#x3D;re.findall(findsrc,item)[0]</span><br><span class="line">            data.append(imgsrc)                 #æ·»åŠ å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡åå­—</span><br><span class="line">            titles&#x3D;re.findall(findtitle,item)   #ç‰‡åå¯èƒ½åªæœ‰ä¸­æ–‡åæ²¡æœ‰å¤–æ–‡å</span><br><span class="line">            if (len(titles)&#x3D;&#x3D;2):</span><br><span class="line">                data.append(titles[0])  #æ·»åŠ ä¸­æ–‡å</span><br><span class="line">                data.append(titles[1].replace(&quot;&#x2F;&quot;,&quot;&quot;))  #æ·»åŠ å¤–æ–‡å</span><br><span class="line">            else:</span><br><span class="line">                data.append(titles[0])</span><br><span class="line">                data.append(&quot;&quot;)        #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡è¯„åˆ†</span><br><span class="line">            rating&#x3D;re.findall(findrating,item)[0]</span><br><span class="line">            data.append(rating)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡è¯„ä»·äººæ•°</span><br><span class="line">            judgenum&#x3D;re.findall(findjudge,item)[0]</span><br><span class="line">            data.append(judgenum)                     #æ·»åŠ è¯„åˆ†</span><br><span class="line"></span><br><span class="line">            #å½±ç‰‡æ¦‚å†µ</span><br><span class="line">            inq&#x3D;re.findall(findinq,item)</span><br><span class="line">            if(len(inq)!&#x3D;0):</span><br><span class="line">                inq&#x3D;inq[0].replace(&quot;ã€‚&quot;,&quot;&quot;)    #å»æ‰å¥å·</span><br><span class="line">                data.append(inq)                #æ·»åŠ æ¦‚å†µ</span><br><span class="line">            else:</span><br><span class="line">                data.append(&quot;&quot;)                 #ç•™ç©º</span><br><span class="line">            </span><br><span class="line">            #å½±ç‰‡ç›¸å…³å†…å®¹</span><br><span class="line">            bd&#x3D;re.findall(findbd,item)[0]</span><br><span class="line">            bd&#x3D;re.sub(&quot;&lt;br(\s+)?&#x2F;&gt;(\s+)?&quot;,&quot;&quot;,bd)</span><br><span class="line">            bd&#x3D;re.sub(&quot;&#x2F;&quot;,&quot;&quot;,bd)    #å»æ‰ &#x2F;</span><br><span class="line">            data.append(bd.strip()) #å»æ‰ç©ºæ ¼ï¼Œå¹¶æ·»åŠ è¿›data</span><br><span class="line"></span><br><span class="line">            datalist.append(data)</span><br><span class="line">    </span><br><span class="line">    # print(datalist)</span><br><span class="line"></span><br><span class="line">    return datalist</span><br><span class="line"></span><br><span class="line">#ä¿å­˜æ•°æ®</span><br><span class="line">def SaveData(datalist,savepath):</span><br><span class="line"></span><br><span class="line">    workbook&#x3D;xlwt.Workbook(encoding&#x3D;&quot;utf-8&quot;)    #åˆ›å»ºworkbookå¯¹è±¡</span><br><span class="line">    worksheet&#x3D;workbook.add_sheet(&quot;è±†ç“£TOP250&quot;)      #åˆ›å»ºå·¥ä½œè¡¨å–åsheet1</span><br><span class="line">    </span><br><span class="line">    col&#x3D;(&quot;ç”µå½±è¯¦æƒ…é“¾æ¥&quot;,&quot;å›¾ç‰‡é“¾æ¥&quot;,&quot;å½±ç‰‡ä¸­æ–‡å&quot;,&quot;å½±ç‰‡å¤–æ–‡å&quot;,&quot;è¯„åˆ†&quot;,&quot;è¯„ä»·æ•°&quot;,&quot;æ¦‚å†µ&quot;,&quot;ç›¸å…³ä¿¡æ¯&quot;)</span><br><span class="line">    for i in range(0,8):</span><br><span class="line">        worksheet.write(0,i,col[i])     #æ·»åŠ è¡¨å¤´</span><br><span class="line">    for i in range(0,250):</span><br><span class="line">        # print(&quot;ç¬¬%dæ¡&quot;%i)</span><br><span class="line">        data&#x3D;datalist[i]</span><br><span class="line">        for j in range(0,8):</span><br><span class="line">            worksheet.write(i+1,j,data[j])</span><br><span class="line">    workbook.save(savepath)                #ä¿å­˜æ•°æ®è¡¨å–åä¸ºstudent.xls</span><br><span class="line"></span><br><span class="line">#å¾—åˆ°ä¸€ä¸ªæŒ‡å®šurlçš„å†…å®¹</span><br><span class="line">def AskURL(url):</span><br><span class="line">    headers&#x3D;&#123;   #æ¨¡æ‹Ÿæµè§ˆå™¨å¤´éƒ¨ä¿¡æ¯ï¼Œå‘è±†ç“£å‘é€è¯·æ±‚</span><br><span class="line">    &quot;User-Agent&quot;:&quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Safari&#x2F;537.36&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    request &#x3D; urllib.request.Request(url&#x3D;url,headers&#x3D;headers)</span><br><span class="line">    try:</span><br><span class="line">        response &#x3D;urllib.request.urlopen(request)</span><br><span class="line">        html &#x3D; response.read().decode(&quot;utf-8&quot;)</span><br><span class="line">        # print(html)</span><br><span class="line">    except urllib.error.URLError as e:</span><br><span class="line">        if hasattr(e,&quot;code&quot;):</span><br><span class="line">            print(e.code)</span><br><span class="line">        if hasattr(e,&quot;reason&quot;):</span><br><span class="line">            print(e.reason)</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line">def init_db(dbpath):</span><br><span class="line">    sql&#x3D;&#39;&#39;&#39;</span><br><span class="line">        create table movies250</span><br><span class="line">        (id integer primary key autoincrement,</span><br><span class="line">        info_link text,</span><br><span class="line">        pic_link text,</span><br><span class="line">        cname varchar,</span><br><span class="line">        ename varchar,</span><br><span class="line">        score numeric,</span><br><span class="line">        rated numeric,</span><br><span class="line">        instroduction text,</span><br><span class="line">        info text)</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    conn&#x3D;sqlite3.connect(dbpath)</span><br><span class="line">    cursor&#x3D;conn.cursor()    #è·å–æ¸¸æ ‡</span><br><span class="line">    cursor.execute(sql)     #æ‰§è¡ŒSQLè¯­å¥ï¼šåˆ›å»ºæ•°æ®è¡¨</span><br><span class="line">    conn.commit()           #äº‹åŠ¡æäº¤ï¼šè®©æ“ä½œç”Ÿæ•ˆ</span><br><span class="line">    cursor.close()          #å…³é—­æ¸¸æ ‡</span><br><span class="line">    conn.close()            #å…³é—­è¿æ¥ </span><br><span class="line"></span><br><span class="line">def SaveData2DB(datalist,dbpath):</span><br><span class="line">    init_db(dbpath)</span><br><span class="line">    conn&#x3D;sqlite3.connect(dbpath)</span><br><span class="line">    cursor&#x3D;conn.cursor()    #è·å–æ¸¸æ ‡</span><br><span class="line"></span><br><span class="line">    for data in datalist:</span><br><span class="line">        for index in range(len(data)):</span><br><span class="line">            if index &#x3D;&#x3D;4 or index&#x3D;&#x3D;5:</span><br><span class="line">                continue</span><br><span class="line">            data[index]&#x3D;&#39;&quot;&#39;+data[index]+&#39;&quot;&#39;         # sqlè¯­å¥ä¸­çš„å­—ç¬¦ä¸²æ·»åŠ  &quot; &quot; </span><br><span class="line">        sql &#x3D; &#39;&#39;&#39;</span><br><span class="line">        insert into movies250(info_link,pic_link,cname,ename,score,rated,instroduction,info)</span><br><span class="line">        values (%s)</span><br><span class="line">        &#39;&#39;&#39;%&quot;,&quot;.join(data)</span><br><span class="line">        # print(data)</span><br><span class="line">        # print(&quot;%s&quot;%&quot;,&quot;.join(data))</span><br><span class="line">        # print(sql)</span><br><span class="line">        cursor.execute(sql)     #æ‰§è¡ŒSQLè¯­å¥ï¼šåˆ›å»ºæ•°æ®è¡¨</span><br><span class="line">        conn.commit()           #äº‹åŠ¡æäº¤ï¼šè®©æ“ä½œç”Ÿæ•ˆ</span><br><span class="line"></span><br><span class="line">    cursor.close()          #å…³é—­æ¸¸æ ‡</span><br><span class="line">    conn.close()            #å…³é—­è¿æ¥ </span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h1 id="è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™"><a href="#è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™" class="headerlink" title="è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™"></a>è±†ç“£Top250é¡¹ç›®å¯è§†åŒ–ä»£ç ä»¥åŠèµ„æ–™</h1><p>Githubä»“åº“ï¼š<a href="https://github.com/imgyh/DouBan_Top250">https://github.com/imgyh/DouBan_Top250</a></p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Spider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Valineæ·»åŠ åšä¸»æ ‡ç­¾</title>
      <link href="posts/4a79441/"/>
      <url>posts/4a79441/</url>
      
        <content type="html"><![CDATA[<h1 id="Valineæ·»åŠ åšä¸»æ ‡ç­¾"><a href="#Valineæ·»åŠ åšä¸»æ ‡ç­¾" class="headerlink" title="Valineæ·»åŠ åšä¸»æ ‡ç­¾"></a>Valineæ·»åŠ åšä¸»æ ‡ç­¾</h1><p>æˆ‘æœéå…¨ç½‘å¯¹äºValineæ·»åŠ åšä¸»æ ‡ç­¾ï¼Œå¤§éƒ½æ˜¯æ‡’äººåšå®¢é‡Œé¢çš„æ•™ç¨‹ï¼Œä½†ä»–çš„æ•™ç¨‹å¯¹<code>Butterfly 3.0.1</code>ä¸æ”¯æŒï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹ä¸€ä¸‹ï¼Œæ‰èƒ½ä½¿ç”¨ã€‚çœ‹äº†<a class="btn-beautify button--animated pink larger" href="https://blog.hclonely.com/posts/409d3090/"   title="æ‡’äººåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>æ‡’äººåšå®¢</span></a>ï¼Œå’Œä»–ä¸‹é¢çš„è¯„è®ºåç»ˆäºä¿®æ”¹å¥½äº†ï¼Œæ•…è®°å½•äºæ­¤ã€‚</p><h2 id="ä¿®æ”¹valine-pugæ–‡ä»¶"><a href="#ä¿®æ”¹valine-pugæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹valine.pugæ–‡ä»¶"></a>ä¿®æ”¹valine.pugæ–‡ä»¶</h2><p>ä¿®æ”¹<code>Butterfly</code>ä¸»é¢˜ä¸‹çš„<code>/layout/iuncludes/third-party/comments/valine.pug</code>ï¼Œæˆ‘ä¿®æ”¹çš„å¦‚ä¸‹ï¼Œå¯å‚ç…§åŸæ¥çš„ç‰ˆæœ¬å¯¹æ¯”ä¿®æ”¹</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200822191622.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200822191709.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">- let emojiMaps &#x3D; &#39;&quot;&quot;&#39;</span><br><span class="line">if site.data.valine</span><br><span class="line">  - emojiMaps &#x3D; JSON.stringify(site.data.valine)</span><br><span class="line"></span><br><span class="line">script(src&#x3D;url_for(theme.CDN.valine))</span><br><span class="line">script.</span><br><span class="line">  var requestSetting &#x3D; function (from,set) &#123;</span><br><span class="line">    var from &#x3D; from</span><br><span class="line">    var setting &#x3D; set.split(&#39;,&#39;).filter(function(item)&#123;</span><br><span class="line">    return from.indexOf(item) &gt; -1</span><br><span class="line">    &#125;);</span><br><span class="line">    setting &#x3D; setting.length &#x3D;&#x3D; 0 ? from :setting;</span><br><span class="line">    return setting</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var guestInfo &#x3D; requestSetting([&#39;nick&#39;,&#39;mail&#39;,&#39;link&#39;],&#39;#&#123; theme.valine.guest_info &#125;&#39;)</span><br><span class="line">  var requiredFields &#x3D; requestSetting([&#39;nick&#39;,&#39;mail&#39;,&#39;link&#39;],&#39;#&#123; theme.valine.requiredFields &#125;&#39;)</span><br><span class="line">  let friends &#x3D; &#39;#&#123;theme.valine.friends&#125;&#39;.split(&#39;,&#39;)</span><br><span class="line">  let master &#x3D; &#39;#&#123;theme.valine.master&#125;&#39;.split(&#39;,&#39;)</span><br><span class="line">  let tagMeta &#x3D; &#39;#&#123;theme.valine.tagMeta || &quot;åšä¸»,å°ä¼™ä¼´,è®¿å®¢&quot;&#125;&#39;.split(&#39;,&#39;)</span><br><span class="line"></span><br><span class="line">  function loadValine () &#123;</span><br><span class="line">    function initValine () &#123;</span><br><span class="line">      window.valine &#x3D; new Valine(&#123;</span><br><span class="line">        el: &#39;#vcomment&#39;,</span><br><span class="line">        appId: &#39;#&#123;theme.valine.appId&#125;&#39;,</span><br><span class="line">        appKey: &#39;#&#123;theme.valine.appKey&#125;&#39;,</span><br><span class="line">        placeholder: &#39;#&#123;theme.valine.placeholder&#125;&#39;,</span><br><span class="line">        avatar: &#39;#&#123;theme.valine.avatar&#125;&#39;,</span><br><span class="line">        meta: &#39;#&#123;theme.valine.guest_info &#125;&#39;.split(&#39;,&#39;),</span><br><span class="line">        pageSize: &#39;#&#123;theme.valine.pageSize&#125;&#39;,</span><br><span class="line">        lang: &#39;#&#123;theme.valine.lang&#125;&#39;,</span><br><span class="line">        recordIP: #&#123;theme.valine.recordIP&#125;,</span><br><span class="line">        serverURLs: &#39;#&#123;theme.valine.serverURLs&#125;&#39;,</span><br><span class="line">        emojiCDN: &#39;#&#123;theme.valine.emojiCDN&#125;&#39;,</span><br><span class="line">        emojiMaps: !&#123;emojiMaps&#125;,</span><br><span class="line">        enableQQ: #&#123;theme.valine.enableQQ&#125;,</span><br><span class="line">        path: window.location.pathname,</span><br><span class="line">        master: master,</span><br><span class="line">        friends: friends,</span><br><span class="line">        tagMeta: tagMeta,</span><br><span class="line">        metaPlaceholder: !&#123;JSON.stringify(theme.valine.metaPlaceholder || &#123;&#125;)&#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      if (&#39;#&#123;theme.valine.requiredFields&#125;&#39;) &#123; valine.config.requiredFields&#x3D; &#39;#&#123;theme.valine.requiredFields&#125;&#39;.split(&#39;,&#39;) &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (typeof Valine &#x3D;&#x3D;&#x3D; &#39;function&#39;) initValine() </span><br><span class="line">    else $.getScript(&#39;!&#123;url_for(theme.CDN.valine)&#125;&#39;, initValine)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (&#39;!&#123;theme.comments.use[0]&#125;&#39; &#x3D;&#x3D;&#x3D; &#39;Valine&#39; || !!&#123;theme.comments.lazyload&#125;) &#123;</span><br><span class="line">    if (!&#123;theme.comments.lazyload&#125;) loadComment(document.querySelector(&#39;#vcomment&#39;),loadValine)</span><br><span class="line">    else setTimeout(() &#x3D;&gt; loadValine(), 0)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    function loadOtherComment () &#123;</span><br><span class="line">      loadValine()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹butterfly-ymlæ–‡ä»¶"><a href="#ä¿®æ”¹butterfly-ymlæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹butterfly.ymlæ–‡ä»¶"></a>ä¿®æ”¹butterfly.ymlæ–‡ä»¶</h2><p>æ·»åŠ æœ€åçš„ <code>master</code> <code>friends</code> <code>metaPlaceholder</code> <code>tagMeta</code>è¿™å‡ é¡¹ï¼Œ<code>master</code> <code>friends</code>æ˜¯åšä¸»å’Œå°ä¼™ä¼´çš„é‚®ç®±ç»è¿‡md5åŠ å¯†åçš„å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  appId:  # leancloud application app id</span><br><span class="line">  appKey:# leancloud application app key</span><br><span class="line">  pageSize: 20 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: zh-CN # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">  placeholder: ç•™ä¸‹é‚®ç®±å¯ä»¥å¿«é€Ÿæ”¶åˆ°å›å¤!\næ˜µç§°å’Œé‚®ç®±å¿…å¡«\næ˜µç§°æ è¾“å…¥QQä¼šä½¿ç”¨QQçš„æ˜µç§°å’Œå¤´åƒ # valine comment input placeholder (like: Please leave your footprints)</span><br><span class="line">  guest_info: nick,mail,link # valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">  recordIP:  # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">  bg: # valine background</span><br><span class="line">  emojiCDN:  # emoji CDN</span><br><span class="line">  enableQQ: true # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">  requiredFields: nick,mail # required fields (nick&#x2F;mail)</span><br><span class="line">--------------------ä¸‹é¢æ˜¯ä¿®æ”¹çš„ï¼Œå¦‚æœè¦å¤åˆ¶ï¼Œè¯·å¤åˆ¶ä¸è¦å¤åˆ¶è¿™ä¸€è¡Œ-------------------------</span><br><span class="line">  master: # md5åŠ å¯†åçš„åšä¸»é‚®ç®±</span><br><span class="line">      - f644d72a2de2163cbd232954d2f2789a</span><br><span class="line">  friends: # md5åŠ å¯†åçš„å°ä¼™ä¼´é‚®ç®±</span><br><span class="line">    - 5c43aebcd3c384d461188a1c26db5ab7</span><br><span class="line">  metaPlaceholder: # è¾“å…¥æ¡†çš„èƒŒæ™¯æ–‡å­—</span><br><span class="line">    nick: æ˜µç§°&#x2F;QQå·(å¿…å¡«)</span><br><span class="line">    mail: é‚®ç®±(å¿…å¡«)</span><br><span class="line">    link: ç½‘å€(https:&#x2F;&#x2F;)</span><br><span class="line">  tagMeta: &#39;åšä¸»,å°ä¼™ä¼´,è®¿å®¢&#39; # æ ‡ç­¾è¦æ˜¾ç¤ºçš„æ–‡å­—,é»˜è®¤&#39;åšä¸»,å°ä¼™ä¼´,è®¿å®¢&#39;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹valineçš„CDN"><a href="#ä¿®æ”¹valineçš„CDN" class="headerlink" title="ä¿®æ”¹valineçš„CDN"></a>ä¿®æ”¹valineçš„CDN</h2><p>å°†Valineçš„CDNä¿®æ”¹æˆå¦‚ä¸‹æ‰€ç¤º</p><p><a href="https://cdn.jsdelivr.net/gh/imgyh/HexoStatic@latest/js/Valine.min.js">https://cdn.jsdelivr.net/gh/imgyh/HexoStatic@latest/js/Valine.min.js</a></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200822185921.png"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®å¡”æ­å»ºUnblockNeteaseMusic</title>
      <link href="posts/75146fb8/"/>
      <url>posts/75146fb8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>UnblockNeteaseMusic æ˜¯ä¸€ä¸ªç”¨æ¥è§£é”ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯å˜ç°æ­Œæ›²çš„é¡¹ç›®ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>ä½¿ç”¨ç½‘æ˜“äº‘æ—§é“¾ / QQ /è™¾ç±³/ç™¾åº¦/é…·ç‹—/é…·æˆ‘/å’•å’ª/ JOOXéŸ³æºæ›¿æ¢å˜ç°æ­Œæ›²é“¾æ¥ï¼ˆé»˜è®¤ä»…å¯ç”¨å‰å››ï¼‰</li><li>ä¸ºè¯·æ±‚å¢åŠ X-Real-IPå‚æ•°è§£é”æµ·å¤–é™åˆ¶ï¼Œæ”¯æŒæŒ‡å®šç½‘æ˜“äº‘æœåŠ¡å™¨IPï¼Œæ”¯æŒè®¾ç½®ä¸Šæ¸¸HTTP / HTTPSä»£ç†</li><li>å®Œæ•´çš„æµé‡ä»£ç†åŠŸèƒ½ï¼ˆHTTP / HTTPSï¼‰ï¼Œå¯ç›´æ¥ä½œä¸ºç³»ç»Ÿä»£ç†ï¼ˆåŒæ—¶æ”¯æŒPACï¼‰</li></ul></blockquote><h1 id="æœåŠ¡ç«¯æ­å»º"><a href="#æœåŠ¡ç«¯æ­å»º" class="headerlink" title="æœåŠ¡ç«¯æ­å»º"></a>æœåŠ¡ç«¯æ­å»º</h1><p>GitHubåœ°å€ï¼š<a href="https://github.com/nondanee/UnblockNeteaseMusic">https://github.com/nondanee/UnblockNeteaseMusic</a></p><p>ç”±äºæˆ‘æœ‰ä¸€å°é˜¿é‡Œäº‘çš„å­¦ç”Ÿæœºï¼Œåœ¨ä¸Šé¢æ­å»ºæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥æ›´å¤šçš„äººä½¿ç”¨ã€‚</p><ul><li><p>å®å¡”å®‰è£…PM2ç®¡ç†å™¨</p></li><li><p>è¿æ¥SSHè¿è¡Œå¦‚ä¸‹ä¸¤æ¡å‘½ä»¤,å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®å¡”çš„è¿œç¨‹ä¸‹è½½ã€‚</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;root</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;nondanee&#x2F;UnblockNeteaseMusic.git</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹<code>/root/UnblockNeteaseMusic</code>æ–‡ä»¶å¤¹ä¸­çš„<code>app.js</code>æ–‡ä»¶,å°†<code>16</code>è¡Œçš„<code>8080</code>ç«¯å£æ›¿æ¢ä¸ºä½ è‡ªå®šä¹‰ç«¯å£ï¼Œç„¶åå®å¡”å®‰å…¨ç»„æ”¾è¡Œç›¸åº”ç«¯å£å³å¯</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200610185725.png"></p><ul><li><p>å›åˆ°<code>PM2ç®¡ç†å™¨</code>ä¸­ï¼Œè®¾ç½®ï¼Œæ ¹æ®ä¸‹å›¾æ·»åŠ å³å¯ã€‚ç›®å½•ï¼š<code>/root/UnblockNeteaseMusic</code>æ–‡ä»¶ï¼š<code>app.js</code> åç§°ï¼š<code>UnblockNeteaseMusic</code>(åç§°å¯éšæ„)</p></li><li><p>è¿™å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå¦‚æœéœ€è¦æ›´é«˜çº§çš„ç©æ³•å¯å‚è€ƒåŸä½œè€…çš„<a href="https://github.com/nondanee/UnblockNeteaseMusic">GitHubé¡¹ç›®</a></p></li></ul><h1 id="å®¢æˆ·ç«¯ä½¿ç”¨"><a href="#å®¢æˆ·ç«¯ä½¿ç”¨" class="headerlink" title="å®¢æˆ·ç«¯ä½¿ç”¨"></a>å®¢æˆ·ç«¯ä½¿ç”¨</h1><p>å…·ä½“å‚è§<a href="https://github.com/nondanee/UnblockNeteaseMusic">GitHubé¡¹ç›®</a></p><p><strong>å…¨å±€ä»£ç†åœ°å€å¡«å†™æœåŠ¡å™¨åœ°å€å’Œç«¯å£å·å³å¯</strong></p><table><thead><tr><th>å¹³å°</th><th>åŸºç¡€è®¾ç½®</th></tr></thead><tbody><tr><td>Windows</td><td>è®¾ç½® &gt; å·¥å…· &gt; è‡ªå®šä¹‰ä»£ç† (å®¢æˆ·ç«¯å†…)</td></tr><tr><td>UWP</td><td>Windows è®¾ç½® &gt; ç½‘ç»œå’Œ Internet &gt; ä»£ç†</td></tr><tr><td>Linux</td><td>ç³»ç»Ÿè®¾ç½® &gt; ç½‘ç»œ &gt; ç½‘ç»œä»£ç†</td></tr><tr><td>macOS</td><td>ç³»ç»Ÿåå¥½è®¾ç½® &gt; ç½‘ç»œ &gt; é«˜çº§ &gt; ä»£ç†</td></tr><tr><td>Android</td><td>WLAN &gt; ä¿®æ”¹ç½‘ç»œ &gt; é«˜çº§é€‰é¡¹ &gt; ä»£ç†</td></tr><tr><td>iOS</td><td>æ— çº¿å±€åŸŸç½‘ &gt; HTTP ä»£ç† &gt; é…ç½®ä»£ç†</td></tr></tbody></table><p>windowsç›´æ¥åœ¨å®¢æˆ·ç«¯å†…è®¾ç½®IPåœ°å€å’Œç«¯å£å°±å¯ä»¥äº†ï¼Œå®‰å“åªå¯ä»¥åœ¨WiFiä¸­è®¾ç½®ï¼Œæ•°æ®å°±ä¸èƒ½ä½¿ç”¨ï¼Œæœ‰ä¸€å®šå±€é™æ€§ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•è§£å†³ã€‚</p><h1 id="ä½¿ç”¨goproxyå°†httpä»£ç†è½¬æ¢ä¸ºssä»£ç†"><a href="#ä½¿ç”¨goproxyå°†httpä»£ç†è½¬æ¢ä¸ºssä»£ç†" class="headerlink" title="ä½¿ç”¨goproxyå°†httpä»£ç†è½¬æ¢ä¸ºssä»£ç†"></a>ä½¿ç”¨goproxyå°†httpä»£ç†è½¬æ¢ä¸ºssä»£ç†</h1><h2 id="ä»€ä¹ˆæ˜¯goproxy"><a href="#ä»€ä¹ˆæ˜¯goproxy" class="headerlink" title="ä»€ä¹ˆæ˜¯goproxy"></a>ä»€ä¹ˆæ˜¯goproxy</h2><p>goproxyæ˜¯golangå®ç°çš„é«˜æ€§èƒ½http,https,websocket,tcp,é˜²æ±¡æŸ“DNS,socks5ä»£ç†æœåŠ¡å™¨,æ”¯æŒå†…ç½‘ç©¿é€,é“¾å¼ä»£ç†,é€šè®¯åŠ å¯†,æ™ºèƒ½HTTP,SOCKS5ä»£ç†,å‰ç½®CDN,åŸŸåé»‘ç™½åå•,è·¨å¹³å°,KCPåè®®æ”¯æŒ,æ”¯æŒipv4å’Œipv6,é›†æˆå¤–éƒ¨APIã€‚é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/snail007/goproxy">https://github.com/snail007/goproxy</a></p><p>goproxyåŠŸèƒ½å¼ºå¤§ï¼Œæœ¬æ–‡ä»‹ç»å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½ï¼š<strong>ä»£ç†åè®®è½¬æ¢</strong> ï¼Œå°†åŸæœ¬çš„HTTPåè®®è½¬æ¢ä¸ºsocket</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><ul><li>ä¸‹è½½å¹¶è§£å‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir goproxy &amp;&amp; cd goproxy</span><br><span class="line">wget -N --no-check-certificate https:&#x2F;&#x2F;github.com&#x2F;snail007&#x2F;goproxy&#x2F;releases&#x2F;download&#x2F;v9.7&#x2F;proxy-linux-amd64.tar.gz</span><br><span class="line">tar zxvf proxy-linux-amd64.tar.gz &amp;&amp; rm proxy-linux-amd64.tar.gz</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œ</li></ul><p>å‡è®¾ä»¥ä¸‹æ¡ä»¶<br>UnblockNeteaseMusicæœåŠ¡å™¨çš„åœ°å€<br>127.0.0.1<br>UnblockNeteaseMusicè¿è¡Œç«¯å£(è®°å¾—æ”¾è¡Œç«¯å£)<br>6666<br>è½¬æ¢åssçš„ç›‘å¬ç«¯å£ï¼ˆè®°å¾—æ”¾è¡Œç«¯å£ï¼‰<br>2333<br>è½¬æ¢åssçš„åŠ å¯†æ–¹å¼<br>chacha20-ietf<br>è½¬æ¢åssçš„å¯†ç <br>music</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;proxy sps -S http -T tcp -P 127.0.0.1:6666 -t tcp -p :2333 -h chacha20-ietf -j music</span><br></pre></td></tr></table></figure><ul><li>åå°è¿è¡Œ</li></ul><ol><li>æ¨èä½¿ç”¨ï¼š</li></ol><p>ç¼–è¾‘æ–‡ä»¶:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;goproxy.service</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼šï¼ˆ<code>/root/goproxy/proxy</code> æ ¹æ®è‡ªå·±goproxyçš„è·¯å¾„è‡ªè¡Œä¿®æ”¹ï¼Œæˆ‘æ”¾åœ¨rootç›®å½•ä¸‹ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;goproxy</span><br><span class="line">After&#x3D;network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D;&#x2F;root&#x2F;goproxy&#x2F;proxy sps -S http -T tcp -P 127.0.0.1:6666 -t tcp -p :2333 -h chacha20-ietf -j music</span><br><span class="line">Restart&#x3D;on-abort</span><br><span class="line">User&#x3D;root</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;default.target</span><br></pre></td></tr></table></figure><p>å¼€å§‹å¯åŠ¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start goproxy</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable goproxy</span><br></pre></td></tr></table></figure><p>å…¶ä»–å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é‡å¯ï¼šsystemctl restart goproxy</span><br><span class="line">åœæ­¢ï¼šsystemctl stop goproxy</span><br><span class="line">çŠ¶æ€ï¼šsystemctl status goproxy</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¸æ¨èä½¿ç”¨ï¼Œä¸èƒ½è®¾ç½®å¼€æœºè‡ªå¯</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#å®‰è£…screen</span><br><span class="line">apt-get install screen &#x2F; yum -y install screen</span><br><span class="line"></span><br><span class="line">#æ–°å»ºä¸€ä¸ªscreen</span><br><span class="line">screen -S goproxy</span><br><span class="line">#åœ¨screenä¸‹è¿è¡Œgoproxy</span><br><span class="line">cd goproxy</span><br><span class="line">.&#x2F;proxy sps -S http -T tcp -P 127.0.0.1:6666 -t tcp -p :2333 -h chacha20-ietf -j music</span><br></pre></td></tr></table></figure><h1 id="ç¦åˆ©"><a href="#ç¦åˆ©" class="headerlink" title="ç¦åˆ©"></a>ç¦åˆ©</h1><p>å¤§å®¶å¯ä»¥è¯•è¯•æˆ‘æ­å»ºçš„</p><p>Windowsç«¯ï¼Œåœ¨ç½‘æ˜“äº‘éŸ³ä¹è®¾ç½®ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip: aliyun.0941314.xyz</span><br><span class="line">port:6666</span><br><span class="line">ç”¨æˆ·åå¯†ç ä¸å¡«</span><br></pre></td></tr></table></figure><p>å®‰å“ç«¯åœ¨ssä¸­è¾“å…¥ç›¸åº”çš„é…ç½®å°±å¯ä»¥ä½¿ç”¨äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ip:aliyun.0941314.xyz</span><br><span class="line">port:2333</span><br><span class="line">åè®®ï¼šchacha20-ietf</span><br><span class="line">å¯†ç ï¼šmusic</span><br><span class="line">ç”¨æˆ·åä¸å¡«</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeteaseMusic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³Leancloudæµæ§å¯¼è‡´æ— æ³•å”¤é†’é—®é¢˜</title>
      <link href="posts/ef89201e/"/>
      <url>posts/ef89201e/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç”±äºæœ¬åšå®¢é‡‡ç”¨çš„æ˜¯ <code>Valine</code> è¿™ä¸€ä¸ªè¯„è®ºç³»ç»Ÿï¼Œè¿™ä¸ªè¯„è®ºç³»ç»Ÿåç«¯å®Œå…¨ä¾èµ– <code>Leancloud</code>ã€‚æœ€è¿‘ <code>Leancloud</code> å¯¹å¼€å‘ç‰ˆå®ä¾‹è‡ªåŠ¨å”¤é†’é‡‡å–äº†æµæ§æªæ–½ï¼Œå¯¼è‡´æ— æ³•é€šè¿‡å®šæ—¶ä»»åŠ¡å”¤é†’ï¼Œè¿™æ ·ä¼šå¯¼è‡´é‚®ä»¶æé†’ä¸åŠæ—¶ã€‚ä»¥ä¸‹æ˜¯å®˜æ–¹çš„å›åº”ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200520094246.png"></p><p>å¦‚æœè¿˜æ²¡è®¾ç½® <code>Valine</code> é‚®ä»¶æé†’åŠŸèƒ½çš„å¯å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š</p><a href="/posts/caa4f244/" title="Valineé…ç½®è¯„è®ºæé†’æœåŠ¡">Valineé…ç½®è¯„è®ºæé†’æœåŠ¡</a><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><p>é¦–å…ˆçœ‹ä¸€ä¸‹ <code>Leancloud</code> çš„<a href="https://leancloud.cn/docs/leanengine_plan.html#hash633315134">ä¼‘çœ ç­–ç•¥</a></p><ul><li>å¦‚æœåº”ç”¨æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼ˆåŠå°æ—¶ï¼‰æ²¡æœ‰ä»»ä½•å¤–éƒ¨è¯·æ±‚ï¼Œåˆ™ä¼‘çœ ã€‚</li><li>ä¼‘çœ åå¦‚æœæœ‰æ–°çš„å¤–éƒ¨è¯·æ±‚å®ä¾‹åˆ™é©¬ä¸Šå¯åŠ¨ã€‚è®¿é—®è€…çš„ä½“éªŒæ˜¯ç¬¬ä¸€ä¸ªè¯·æ±‚å“åº”æ—¶é—´æ˜¯ 5 ~ 30 ç§’ï¼ˆè§†å®ä¾‹å¯åŠ¨æ—¶é—´è€Œå®šï¼‰ï¼Œåç»­è®¿é—®å“åº”é€Ÿåº¦æ¢å¤æ­£å¸¸ã€‚</li><li>å¼ºåˆ¶ä¼‘çœ ï¼šå¦‚æœæœ€è¿‘ 24 å°æ—¶å†…ç´¯è®¡è¿è¡Œè¶…è¿‡ 18 å°æ—¶ï¼Œåˆ™å¼ºåˆ¶ä¼‘çœ ã€‚æ­¤æ—¶æ–°çš„è¯·æ±‚ä¼šæ”¶åˆ° 503 çš„é”™è¯¯å“åº”ç ï¼Œè¯¥é”™è¯¯å¯åœ¨ <code>äº‘å¼•æ“ &gt; ç»Ÿè®¡</code> ä¸­æŸ¥çœ‹ã€‚</li></ul><p>æ ¹æ®ä»–è¿™ä¸ªä¼‘çœ ç­–ç•¥ï¼Œå¯ä»¥æ²¡30åˆ†é’Ÿè®¿é—®ä¸€æ¬¡å®ä¾‹ï¼Œå°±å¯ä»¥è§£å†³äº†ã€‚</p><p><code>GitHub</code> æä¾›äº† <code>Action</code> æœåŠ¡ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ <code>Action</code> å®ç°å®šæ—¶å”¤é†’ã€‚</p><p>æ–¹æ³•æ­¥éª¤ï¼š</p><ul><li><p>é¦–å…ˆ <code>fork</code> ä¸€ä»½æˆ‘çš„ä»£ç ï¼š<a href="https://github.com/imgyh/script">https://github.com/imgyh/script</a></p></li><li><p>ä¿®æ”¹ <code>main.py</code> é‡Œé¢çš„ <code>get_status(&quot;https://valine.0941314.xyz/&quot;)</code> æ”¹æˆä½ è‡ªå·±çš„ <code>Valine</code> è¯„è®ºåå°ç®¡ç†åœ°å€</p></li><li><p>å°† <code>valine_wake_up.yml</code> å¤åˆ¶åˆ° <code>.github/workflows/</code> è·¯å¾„ä¸‹</p></li><li><p>ä¹‹åä»–å°±ä¼šåœ¨åŒ—äº¬æ—¶é—´çš„ 7-23 ç‚¹ï¼Œæ¯éš”25minæ‰§è¡Œä¸€æ¬¡ <code>valine_wake_up.py</code> æ¥å”¤é†’ä¸€æ¬¡ <code>Valine</code> çš„å®ä¾‹ã€‚</p></li></ul><h1 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h1><p>å®ç°åŸç†å¾ˆç®€å•ï¼Œå°±ç”¨äº† <code>python</code> çš„ <code>requests</code> åº“ï¼Œå‡ è¡Œä»£ç å°±æå®šäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def get_status(url):</span><br><span class="line">    </span><br><span class="line">    r&#x3D;requests.get(url&#x3D;url)</span><br><span class="line"></span><br><span class="line">    return r.status_code</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    status&#x3D;get_status(&quot;https:&#x2F;&#x2F;valine.0941314.xyz&#x2F;&quot;) #ä¿®æ”¹ä¸ºè‡ªå·±çš„valineè¯„è®ºåœ°å€</span><br><span class="line"></span><br><span class="line">    if status&#x3D;&#x3D;200:</span><br><span class="line">        print(&quot;æ¿€æ´»æˆåŠŸï¼HTTPçŠ¶æ€ç ä¸ºï¼š&quot;,status)</span><br><span class="line">    else:</span><br><span class="line">        print(&quot;æ¿€æ´»å¤±è´¥ï¼HTTPçŠ¶æ€ç ä¸ºï¼š&quot;,status)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>ç”±äºè‡ªå·±ä½¿ç”¨ï¼Œè¿™å·²ç»å®Œå…¨èƒ½æ»¡è¶³äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Valine </tag>
            
            <tag> LeanCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github_Action:SSHè‡ªåŠ¨éƒ¨ç½²åˆ°Codingå’ŒGithub</title>
      <link href="posts/6f63f859/"/>
      <url>posts/6f63f859/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿™ç¯‡æ–‡ç« ä»‹ç»äº†é€šè¿‡è®¿é—®ä»¤ç‰Œçš„çš„æ–¹å¼å»æ¨é€<code>hexo</code>åˆ° <code>GitHub Page</code> å’Œ <code>Coding Page</code> ä½†æ˜¯æ˜¯ä½¿ç”¨<code>git</code>å¼ºåˆ¶æ¨é€ä¸Šå»çš„ï¼Œç”±äºæˆ‘ä½¿ç”¨äº†ç™¾åº¦æ¨é€ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ <code>hexo d</code>çš„æ–¹å¼æ¨é€ï¼Œæ‰èƒ½ä¿è¯ç™¾åº¦æ¨é€å·¥ä½œã€‚</p><h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><p>é¦–å…ˆè¦å®‰è£…æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶åªè¦æ˜¯åœ¨æœ¬åœ°ä½¿ç”¨<code>hexo d</code>è¿™ä¸ªå‘½ä»¤éƒ½è£…ä¸Šäº†çš„å§ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>åŒæ—¶åœ¨Hexoé¡¹ç›®æ ¹ç›®å½•é…ç½®æ–‡ä»¶<code>_config.yaml</code>ä¸­é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git</span><br><span class="line">  repo: </span><br><span class="line">        github: git@github.com:imgyh&#x2F;imgyh.github.io.git</span><br><span class="line">        coding: git@e.coding.net:guoyuanhong&#x2F;hexo&#x2F;hexo.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line">- type: baidu_url_submitter #ç™¾åº¦æ¨é€ï¼Œå¦‚æœä½ å®‰è£…äº†æ¨é€çš„æ’ä»¶å°±å†™ä¸Šï¼Œæ²¡æœ‰å°±ä¸ç”¨ç®¡</span><br></pre></td></tr></table></figure><h1 id="å¯†é’¥å‡†å¤‡"><a href="#å¯†é’¥å‡†å¤‡" class="headerlink" title="å¯†é’¥å‡†å¤‡"></a>å¯†é’¥å‡†å¤‡</h1><p>ä¸ºäº†æ–¹ä¾¿è¿è¡Œ <code>GitHub Actions</code> æ—¶ç™»å½• <code>GitHub</code> è´¦å·ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>SSH</code>æ–¹å¼ç™»å½•ã€‚å°±æ˜¯è¦æŠŠè®¾å¤‡çš„ç§é’¥äº¤ç»™<code>GitHub Actions</code>ï¼Œå…¬é’¥äº¤ç»™<code>GitHub</code>ï¼Œéœ€è¦å»<code>Settings</code>é‡Œå»é…ç½®ã€‚</p><p>ä½¿ç”¨<code>ssh-keygen</code>ç”Ÿæˆä¸€ç»„å…¬ç§ç§˜é’¥å¯¹ï¼Œé»˜è®¤å›è½¦å°±å¯ä»¥äº†ï¼Œæ‰§è¡Œåä¼šç”Ÿæˆ<code>id_rsa.pub</code> å’Œ <code>id_rsa</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;Github çš„é‚®ç®±åœ°å€&quot;</span><br><span class="line"></span><br><span class="line">å¦‚ ssh-keygen -t rsa -C &quot;123123123@gmail.com&quot;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®å…¬é’¥"><a href="#é…ç½®å…¬é’¥" class="headerlink" title="é…ç½®å…¬é’¥"></a>é…ç½®å…¬é’¥</h2><p>ä½¿ç”¨ <code>cat .ssh/id_rsa.pub </code> æŸ¥çœ‹å…¬é’¥ï¼Œå°†å…¶å¤åˆ¶åˆ° <code>Github</code> å’Œ <code>Coding</code> ç›¸åº”ä½ç½®<br><code>Github</code> é…ç½®è·¯å¾„ï¼š<code>githubç½‘ç«™â€“&gt;Settingsâ€“&gt;SSH and GPG keys</code><br><code>Coding</code>é…ç½®è·¯å¾„ï¼š<code>ä¸ªäººè´¦æˆ·è®¾ç½®-&gt;SSHå…¬é’¥-&gt;æ–°å¢å…¬é’¥ï¼Œå¯ä»¥è®¾ç½®æ°¸ä¹…</code></p><h2 id="é…ç½®ç§é’¥"><a href="#é…ç½®ç§é’¥" class="headerlink" title="é…ç½®ç§é’¥"></a>é…ç½®ç§é’¥</h2><p>ä½¿ç”¨ <code>cat .ssh/id_rsa</code> æŸ¥çœ‹ç§é’¥ã€‚<br>blogæºç ä»“åº“çš„<code>Settings-&gt;Secrets</code>é‡Œæ·»åŠ å˜é‡ã€‚</p><ul><li><p><code>GH_KEY</code> ï¼š<code>id_rsa</code> é‡Œçš„å†…å®¹</p></li><li><p><code>CODEING_KEY</code> : å’Œ <code>GH_KEY</code> ä¸€æ ·ï¼Œä¹Ÿè®¾ç½®ä¸º<code>id_rsa</code> é‡Œçš„å†…å®¹</p></li><li><p><code>GIT_USER</code> ï¼š<code>git</code> çš„ <code>name</code> ï¼Œç”¨äºè®¾ç½®å…¨å±€ <code>git</code> åŸºæœ¬ä¿¡æ¯</p></li><li><p><code>GIT_MAIL</code> ï¼š<code>git</code> çš„ <code>email</code> ï¼Œç”¨äºè®¾ç½®å…¨å±€ <code>git</code> åŸºæœ¬ä¿¡æ¯</p></li></ul><h1 id="é…ç½®GitHub-Actions"><a href="#é…ç½®GitHub-Actions" class="headerlink" title="é…ç½®GitHub Actions"></a>é…ç½®GitHub Actions</h1><p>åœ¨blogæºç ä»“åº“çš„ <code>Actions</code> é€‰é¡¹å¡ä¸‹ç‚¹å‡» <code>æ–°å»ºworkflow</code> ï¼Œåç§°é»˜è®¤æˆ–è€…è‡ªå®šä¹‰ä¿®æ”¹ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ã€‚</p><p>ä»¥ä¸‹é…ç½®æ¥æºäº <a class="btn-beautify button--animated pink larger" href="https://www.antmoe.com/posts/b7924c1d/index.html"   title="å°åº·åšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å°åº·åšå®¢</span></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"># workflow name</span><br><span class="line">name: Hexo Blog CI</span><br><span class="line"></span><br><span class="line"># master branch on push, auto run</span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    strategy:</span><br><span class="line">      matrix:</span><br><span class="line">        node-version: [12.18.2]</span><br><span class="line">    steps:</span><br><span class="line">      # check it to your workflow can access it</span><br><span class="line">      # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;checkout</span><br><span class="line">      - name: 1. æ£€æŸ¥masteråˆ†æ”¯</span><br><span class="line">        uses: actions&#x2F;checkout@master</span><br><span class="line"></span><br><span class="line">      # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;setup-node</span><br><span class="line">      - name: 2. è®¾ç½®Node.js</span><br><span class="line">        uses: actions&#x2F;setup-node@master</span><br><span class="line">        with:</span><br><span class="line">          node-version: $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: 3. å®‰è£… Hexo CI</span><br><span class="line">        run: |</span><br><span class="line">          export TZ&#x3D;&#39;Asia&#x2F;Shanghai&#39;</span><br><span class="line">          npm install hexo-cli -g</span><br><span class="line">          npm install gulp -g</span><br><span class="line"></span><br><span class="line">      - name: 4. ç¼“å­˜</span><br><span class="line">        uses: actions&#x2F;cache@v1</span><br><span class="line">        id: cache-dependencies</span><br><span class="line">        with:</span><br><span class="line">          path: node_modules</span><br><span class="line">          key: $&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#39;**&#x2F;package-lock.json&#39;)&#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: 5. å®‰è£…æ’ä»¶</span><br><span class="line">        if: steps.cache-dependencies.outputs.cache-hit !&#x3D; &#39;true&#39;</span><br><span class="line">        run: |</span><br><span class="line">          npm install</span><br><span class="line"></span><br><span class="line">      - name: 6. è®¾ç½®ç§é’¥ä¿¡æ¯</span><br><span class="line">        env:</span><br><span class="line">          # HEXO_DEPLOY_PRIVATE_KEY: $&#123;&#123; secrets.HEXO_DEPLOY_PRIVATE_KEY &#125;&#125;</span><br><span class="line">          CODEING_KEY: $&#123;&#123; secrets.CODEING_KEY &#125;&#125;</span><br><span class="line">          GH_KEY: $&#123;&#123; secrets.GH_KEY &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          mkdir -p ~&#x2F;.ssh&#x2F;</span><br><span class="line">          echo &quot;$GH_KEY&quot; &gt; ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">          echo &quot;$CODEING_KEY&quot; &gt; ~&#x2F;.ssh&#x2F;coding_rsa</span><br><span class="line">          chmod 600 ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">          chmod 600 ~&#x2F;.ssh&#x2F;coding_rsa</span><br><span class="line">          ssh-keyscan github.com &gt;&gt; ~&#x2F;.ssh&#x2F;known_hosts</span><br><span class="line">          ssh-keyscan e.coding.net &gt;&gt; ~&#x2F;.ssh&#x2F;known_hosts  # æ³¨æ„ï¼ŒCodingçš„åœ°å€å·²ç»æ”¹æˆe.coding.netï¼Œå¾ˆå¤šæ•™ç¨‹ä¸­ä½¿ç”¨çš„åœ°å€éƒ½æ˜¯æ—§çš„ï¼Œå¯¼è‡´æ— æ³•å®Œæˆéƒ¨ç½²</span><br><span class="line">      - name: 7. è®¾ç½®gitä¿¡æ¯</span><br><span class="line">        run: |</span><br><span class="line">          git config --global user.name &#39;$&#123;&#123; secrets.GIT_USER &#125;&#125;&#39; </span><br><span class="line">          git config --global user.email &#39;$&#123;&#123; secrets.GIT_MAIL &#125;&#125;&#39;</span><br><span class="line">      - name: 8. hexoå‘½ä»¤ä¸‰è¿</span><br><span class="line">        run: |</span><br><span class="line">          hexo clean</span><br><span class="line">          hexo generate </span><br><span class="line">          gulp</span><br><span class="line">          hexo deploy</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflareé¢æ¿ä½¿ç”¨æ•™ç¨‹</title>
      <link href="posts/7f071992/"/>
      <url>posts/7f071992/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°é¢æ¿"><a href="#æ¦‚è¿°é¢æ¿" class="headerlink" title="æ¦‚è¿°é¢æ¿"></a>æ¦‚è¿°é¢æ¿</h1><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153012.png"></p><p>æ¦‚è¿°é¢æ¿é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è®©ä½ äº†è§£ä¸€ä¸‹ä½ ç½‘ç«™çš„å¤§æ¦‚è¿è¡Œæƒ…å†µï¼Œè¿™é‡Œçš„å‡ ä¸ªåè¯æˆ‘è§£é‡Šä¸€ä¸‹ï¼Œæˆ‘çš„è§£é‡Šä¸ä¸€å®šå‡†ç¡®å“ˆã€‚ <strong>æ¦‚è¿°çš„æ—¶å€™å¯ä»¥é€‰æ‹©è§‚å¯Ÿæ—¶é—´æ˜¯24å°æ—¶è¿˜æ˜¯7å¤©è¿˜æ˜¯ä¸€ä¸ªæœˆã€‚</strong></p><ul><li><p>ç‹¬ç«‹è®¿é—®è€…ï¼šæŒ‡IPï¼Œå½“å¤©æœ‰å¤šå°‘ä¸ªIPè®¿é—®ä½ çš„ç½‘ç«™ï¼Œä¸€ä¸ªäººç”¨ä¸€å°ç”µè„‘è®¿é—®å°±æ˜¯ä¸€ä¸ªIPï¼Œä»–ä¸ç®¡æµè§ˆäº†ä½ å¤šå°‘ä¸ªç½‘é¡µï¼Œéƒ½åªç®—ä¸€ä¸ªç‹¬ç«‹è®¿é—®è€…ã€‚</p></li><li><p>è¯·æ±‚æ€»æ•°ï¼šæŒ‡å½“å¤©æœ‰å¤šå°‘ç½‘é¡µè¢«åˆ«äººæ‰“å¼€äº†ï¼Œä¸€ä¸ªç”¨æˆ·ç”¨ä¸€å°ç”µè„‘æ‰“å¼€äº†ä½ 100ä¸ªç½‘é¡µï¼Œâ€œç‹¬ç«‹è®¿é—®è€…â€åªç®—1ï¼Œä½†æ˜¯è¯·æ±‚æ€»æ•°ç®—100ã€‚</p></li><li><p>å·²ç¼“å­˜çš„ç™¾åˆ†æ¯”ï¼š <strong>cloudflareåœ¨åšCDNçš„æ—¶å€™ï¼Œä¼šç¼“å­˜ä¸€äº›é™æ€èµ„æºï¼Œè¿™æ ·åˆ«äººä¸‹ä¸€æ¬¡è¯»å–è¿™äº›é™æ€èµ„æºçš„æ—¶å€™ï¼Œcloudflareå°±æ²¡å¿…è¦å†å›æºåˆ°ä½ çš„æœåŠ¡å™¨å»å–å›æ•°æ®ï¼Œç›´æ¥ä»cloudflareçš„å­˜å‚¨é‡Œé¢è¯»å–å°±å¥½ï¼Œèƒ½åŠ å¿«ç½‘ç«™çš„è®¿é—®é€Ÿåº¦ã€‚</strong> å·²ç¼“å­˜çš„ç™¾åˆ†æ¯”å°±æ˜¯cloudflareç¼“å­˜çš„éƒ¨åˆ†å’Œç½‘ç«™æ€»çš„æ•°æ®é‡çš„æ¯”å€¼ã€‚</p></li><li><p>å·²æä¾›çš„æ•°æ®æ€»è®¡ï¼šæŒ‡ä½ æœ‰å¤šå°‘æµé‡ç»è¿‡äº†cloudflareï¼Œç›¸å½“äºä½ è¿™ä¸ªç½‘ç«™ä»Šå¤©ä½¿ç”¨äº†å¤šå°‘çš„æµé‡</p></li><li><p>å·²ç¼“å­˜æ•°æ®ï¼šå’Œâ€œå·²ç¼“å­˜ç™¾åˆ†æ¯”â€å·®ä¸å¤šï¼ŒæŒ‡çš„æ˜¯cloudflareåˆ°åº•ç¼“å­˜äº†å¤šå¤§çš„æ•°æ®é‡</p></li><li><p>å³é¢çš„â€œUnder Attack æ¨¡å¼â€ï¼š <strong>æ‰“å¼€è¿™ä¸ªæ¨¡å¼åï¼Œåˆ«äººè®¿é—®ä½ çš„ç½‘é¡µå°±ä¼šæœ‰ä¿—ç§°çš„â€œäº”ç§’ç›¾â€ï¼ŒæŒ‡çš„æ˜¯è¿™ä¸ªç½‘é¡µæœ‰å‡ ç§’é’Ÿçš„æ‰“å¼€æ—¶é—´æ¥æ£€éªŒï¼Œä¸é€šè¿‡çš„è¿˜ä¼šæœ‰éªŒè¯ç ï¼Œåœ¨é˜²æ­¢åˆ«äººCCæ”»å‡»çš„æ—¶å€™æœ‰å¥‡æ•ˆï¼Œä½†æ˜¯æœ‰æ—¶å€™â€œäº”ç§’ç›¾â€ä¸æ­¢ä¼šå¡ä¸»åˆ«äººäº”ç§’ï¼Œå¡ä¸»1åˆ†å¤šé’Ÿç„¶åè·³å‡ºä¸ªéªŒè¯ç ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œç½‘ç«™æ²¡è¢«æ”»å‡»çš„ä¼šåæœ€å¥½åˆ«å¼€ã€‚</strong> æˆ–è€…è°ƒè¯•ä¸€ä¸‹ï¼Œç½‘ç«™è¢«æ”»å‡»çš„æ—¶å€™è‡ªåŠ¨å¼€å¯è¿™ä¸ªæ¨¡å¼ï¼Œè¿™å°±å¾—è‡ªå·±å»ç™¾åº¦å¦‚ä½•æ“ä½œäº†ã€‚</p></li><li><p>å³è¾¹çš„â€œå¼€å‘æ¨¡å¼â€ï¼šå› ä¸ºcfçš„æ•°æ®ç¼“å­˜ï¼Œæ‰€æœ‰ç½‘ç«™å†…æœ‰äº›ä¸œè¥¿åœ¨ä½ ä¿®æ”¹äº†ä¹‹åï¼Œè®¿é—®ç½‘ç«™å¹¶ä¸æ˜¯ä½ ä¿®æ”¹åçš„å†…å®¹ï¼Œå› ä¸ºcfçš„ç¼“å­˜æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´å»æºç«™ç¼“å­˜ä¸€æ¬¡çš„ã€‚æ‰“å¼€è¿™ä¸ªä¹‹åï¼Œä¼šæš‚æ—¶çš„ç»•è¿‡ç¼“å­˜ï¼Œæ–¹ä¾¿å¼€å‘è€…å¯¹ç½‘ç«™è¿›è¡Œä¿®æ”¹ã€‚</p></li><li><p>åœ¨å¾€ä¸‹æ‹‰è¿˜æœ‰â€œAPIâ€å’Œâ€œè´¦æˆ·IDâ€ç­‰ç­‰ï¼Œè¿™äº›å’±ä»¬ä¸€èˆ¬äººéƒ½ç”¨ä¸åˆ°</p></li><li><p>æœ€åæœ‰ä¸ªâ€œé«˜çº§æ“ä½œâ€ï¼Œèƒ½æš‚åœä½ çš„ç«™ç‚¹å’Œä»CFåˆ é™¤ä½ ç«™ç‚¹çš„ä¿¡æ¯ã€‚</p></li></ul><h1 id="analyticsé¢æ¿"><a href="#analyticsé¢æ¿" class="headerlink" title="analyticsé¢æ¿"></a>analyticsé¢æ¿</h1><p>è¿™é‡Œçš„åŠŸèƒ½å¤ªå¤šäº†ï¼Œè¿™å°±æ˜¯Cloudflareçš„å¼ºå¤§ä¹‹å¤„ï¼Œæˆ‘å¤§æ¦‚ç»™å¤§å®¶çœ‹çœ‹æœ‰ä»€ä¹ˆå§</p><h2 id="æµé‡"><a href="#æµé‡" class="headerlink" title="æµé‡"></a>æµé‡</h2><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153323.png"></p><p>è¿™é‡Œèƒ½çœ‹24å°æ—¶å†…çš„è®¿é—®æ•°ï¼Œä»¥åŠåˆ«äººè®¿é—®çš„å†…å®¹æœ‰å¤šå°‘è¢«ç¼“å­˜äº†ï¼Œæœ‰å¤šå°‘äººè®¿é—®äº†ä½ æœªç¼“å­˜çš„å†…å®¹ã€‚ä¸‹é¢çš„â€œå¸¦å®½â€ä¹Ÿæ˜¯è¿™ä¸ªé“ç†</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153548.png"></p><p>åé¢è¿˜æœ‰è®¿é—®ä½ ç½‘ç«™çš„äººï¼Œæ¥è‡ªä¸åŒå›½å®¶çš„æ’åï¼Œ <strong>ä»¥åŠcloudflareåœ¨ä¸Šä¸ªæœˆåˆ°åº•å¸®ä½ èŠ‚çœäº†å¤šå°‘æµé‡ï¼ˆç¼“å­˜çš„å¥½å¤„ï¼‰ï¼Œå¤„ç†äº†å¤šå°‘SSLè®¿é—®ä»¥åŠå¸®ä½ æŒ¨äº†å¤šå°‘æ¬¡æ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153635.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153701.png"></p><h2 id="å®‰å…¨æ€§"><a href="#å®‰å…¨æ€§" class="headerlink" title="å®‰å…¨æ€§"></a>å®‰å…¨æ€§</h2><p>è¿™é‡Œå°±æ˜¯æ˜¾ç¤ºæœ€è¿‘ä½ è¢«å¤šå°‘äººæè¿‡ï¼Œå› ä¸ºæœ€è¿‘æ²¡äººææˆ‘ï¼Œè¿™é‡Œä¹Ÿæ²¡æœ‰å›¾ç»™ä½ ä»¬å±•ç¤ºäº†ã€‚</p><p>è¿™é‡Œè¿˜ä¼šæ˜¾ç¤ºæ¥ä½ ç½‘ç«™çš„çˆ¬è™«ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œåšç«™çš„æˆ‘ç›¸ä¿¡90%çš„äººä¸ä¼šæ‹’ç»æœç´¢å¼•æ“çˆ¬è™«çš„æ¥è®¿çš„ï¼Œè¿™é‡Œèƒ½æ˜¾ç¤ºå“ªå®¶çš„çˆ¬è™«æ¥äº†å¤šå°‘ä¸ªã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153749.png"></p><h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h2><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421153847.png"></p><p>è¿™é‡Œæ²¡å•¥å¥½è®²çš„ï¼Œæ¦‚è¿°é‡Œé¢æ˜¾ç¤ºäº†ä¸€ä¸‹æ¥è®¿ä½ ç½‘ç«™çš„httpç‰ˆæœ¬ï¼Œcloudflareå¸®ä½ èŠ‚çœäº†å¤šå°‘çš„å¸¦å®½ä»¥åŠè¿‡å»çš„æ—¶é—´å†…ï¼Œåˆ«äººè®¿é—®ä½ ç½‘ç«™ä¸»è¦è®¿é—®çš„å†…å®¹</p><p>ä¸Šé¢çš„è®¿é—®æ—¶é—´ç­‰ä¼˜åŒ–çš„åŠŸèƒ½å«â€œArgoâ€è¿™ä¸ªæ˜¯èŠ±é’±çš„ï¼Œå’±ä»¬ç”¨ä¸ç€ã€‚</p><h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>æ²¡å•¥å¥½è®²çš„ï¼ŒDNSçš„å“åº”æ¬¡æ•°ï¼Œæ²¡å•¥æ„ä¹‰ã€‚</p><h2 id="wokers"><a href="#wokers" class="headerlink" title="wokers"></a>wokers</h2><p>è¿™é‡Œæ˜¯cloudflare workersçš„ç»Ÿè®¡ï¼Œå’Œç½‘é¡µæ˜¯åˆ†å¼€çš„ï¼Œå’±ä»¬ç”¨ä¸ç€ã€‚æƒ³ç©ç©cloudflare workersçš„å¯ä»¥å»ç™¾åº¦æœæœï¼Œç©æ³•è¿˜æ˜¯å¾ˆå¤šçš„ã€‚</p><h1 id="DNSé¢æ¿"><a href="#DNSé¢æ¿" class="headerlink" title="DNSé¢æ¿"></a>DNSé¢æ¿</h1><p>è¿™é‡Œå’Œä¸€èˆ¬çš„åŸŸåè§£æå•†æ²¡æœ‰åŒºåˆ«ï¼Œå°±æ˜¯ä¸ªè§£æåŸŸåçš„åœ°æ–¹ï¼Œæ¨èä½¿ç”¨cloudflare partneræ¥å…¥ã€‚</p><h1 id="SSL-TLSé¢æ¿"><a href="#SSL-TLSé¢æ¿" class="headerlink" title="SSL/TLSé¢æ¿"></a>SSL/TLSé¢æ¿</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è¿™ä¸ªæ˜¯æ¯”è¾ƒé‡ç‚¹çš„ï¼ŒHTTPS æ˜¯åšç«™å¿…ä¸å¯å°‘çš„å› ç´ ä¹‹ä¸€ï¼Œç°åœ¨åŸºæœ¬æ²¡æœ‰ç½‘ç«™ä¸å¼€å¯httpsäº†ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ˜¯HTTPSçš„å¯ä»¥å»ç™¾åº¦ï¼Œå…·ä½“ç‚¹è¯´å°±æ˜¯å¼€äº†HTTPSè´§æ‹–ç´¯ç½‘ç«™åŠ è½½é€Ÿåº¦ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¼šä¸Šå‡ã€‚å¹¶ä¸”æœ‰å¾ˆå¤šæµè§ˆå™¨ï¼ˆæ¯”å¦‚è°·æ­Œï¼‰ç½‘ç«™ä¸æ˜¯httpsçš„ä¼šæç¤ºä¸å®‰å…¨ï¼Œç”šè‡³å¬è¯´ç«ç‹ä¸‹ä¸ªç‰ˆæœ¬å°†ä¼šå±è”½HTTPçš„å†…å®¹ï¼Œåªæ˜¾ç¤ºHTTPSçš„å†…å®¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421154123.png"></p><p>å››ç§åŠ å¯†æ–¹å¼ä¾æ¬¡ä¸ºï¼ˆåŠ å¯†å°±æ˜¯HTTPSï¼‰</p><ul><li>ä¸åŠ å¯†ï¼šä½ â€”â€”cloudflareæ˜¯HTTPï¼Œcloudclareâ€”â€”æºIPä¹Ÿæ˜¯HTTP</li><li>çµæ´»ï¼šä½ â€”â€”cloudflareæ˜¯HTTPSï¼Œcloudflareâ€”â€”æºIP HTTPï¼Œä¹Ÿæœ‰è¯´æ˜¯çµæ´»çš„ï¼Œå¯èƒ½èµ°HTTPSï¼Œä½†æ˜¯æˆ‘æ²¡é‡è§è¿‡ï¼Œ<strong>è¿™ç§æ¨¡å¼æ˜¯åˆå®‰å…¨åˆå¿«çš„</strong></li><li>å®Œå…¨ï¼šä½ â€”â€”cloudflareæ˜¯HTTPSï¼Œcloudflareâ€”â€”æºIPä¹Ÿæ˜¯HTTPS</li><li>å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰ï¼šä½ â€”â€”cloudflareæ˜¯HTTPSï¼Œcloudflareâ€”â€”æºIPä¹Ÿæ˜¯HTTPSï¼Œ<strong>ä½†æ˜¯æºIPä¸Šçš„è¯ä¹¦å¿…é¡»æ˜¯cloudflareè®¤å®šçš„CAè¯ä¹¦æˆ–è€…æ˜¯cloudflare origin.caè¯ä¹¦ï¼Œä¸€èˆ¬ä¸ç”¨è¿™ä¸ªæ¨¡å¼</strong></li></ul><p>ä¸‹é¢ä¹Ÿæ˜¯æ˜¾ç¤ºè¿‡å»24å°æ—¶å†…ï¼Œåˆ«äººhttpå®¢æˆ·ç«¯çš„å½¢å¼ï¼Œç°åœ¨èµ°tls1.2çš„è¿˜æ˜¯æŒºå¤šçš„ï¼Œè®ºé€Ÿåº¦è¿˜æ˜¯æ¯”è¾ƒæ–°çš„tls1.3æ¯”è¾ƒå¿«ã€‚</p><h2 id="è¾¹ç¼˜è¯ä¹¦"><a href="#è¾¹ç¼˜è¯ä¹¦" class="headerlink" title="è¾¹ç¼˜è¯ä¹¦"></a>è¾¹ç¼˜è¯ä¹¦</h2><p>è¿™é‡Œé¦–å…ˆæ˜¾ç¤ºçš„æ˜¯ä½ æ¯ä¸ªå­åŸŸåï¼Œcloudflareç»™ä½ å‘å¸ƒçš„ä¸åŒè¯ä¹¦ã€‚</p><p>ä¸‹é¢çš„å‡ ä¸ªåŠŸèƒ½æ¯”è¾ƒé‡è¦</p><ul><li><p>å§‹ç»ˆä½¿ç”¨ HTTPSï¼šè¿™ä¸ªåŠŸèƒ½æˆ‘å§‹ç»ˆæ˜¯å¼€ç€çš„ï¼Œä¸ºäº†å¤§å®¶è®¿é—®æ–¹ä¾¿ä»¥åŠæˆ‘ç½‘ç«™çš„å®‰å…¨æ€§ï¼Œ<strong>è¿™ä¸ªæ˜¯è®©æ‰€æœ‰HTTPçš„è®¿é—®è·³è½¬åˆ°HTTPS</strong></p></li><li><p>HTTP ä¸¥æ ¼ä¼ è¾“å®‰å…¨ (HSTS)ï¼šâ€œHTTP ä¸¥æ ¼ä¼ è¾“å®‰å…¨ï¼ˆHSTSï¼‰åŠŸèƒ½ä½¿ Web æœåŠ¡å™¨å‘ŠçŸ¥æµè§ˆå™¨ç»ä¸ä½¿ç”¨ HTTP è®¿é—®ï¼Œåœ¨æµè§ˆå™¨ç«¯è‡ªåŠ¨å°†æ‰€æœ‰åˆ°è¯¥ç«™ç‚¹çš„ HTTP è®¿é—®æ›¿æ¢ä¸º HTTPS è®¿é—®â€ï¼Œ<strong>è¿™ä¸ªåŠŸèƒ½ä½¿ç”¨æ¯”è¾ƒéº»çƒ¦ï¼Œå–æ¶ˆä¹Ÿéº»çƒ¦ï¼Œè§‰å¾—éº»çƒ¦çš„å°±åˆ«å¼€å¯äº†ã€‚</strong></p></li><li><p>æœ€ä½ TLS ç‰ˆæœ¬ï¼šè¿™ä¸ªå¯ä»¥é™åˆ¶tlsçš„ç‰ˆæœ¬ï¼Œå¯ä»¥è®¾ç½®tls1.3è®¿é—®ï¼Œä½†æ˜¯tls1.1å’Œtls1.2çš„ç”¨æˆ·å°±æ²¡åŠæ³•è®¿é—®ä½ ç½‘ç«™äº†ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ï¼Œ<strong>ä¿æŒé»˜è®¤çš„æœ€ä½tls1.0</strong></p></li><li><p>éšæœºåŠ å¯†ï¼šä¸å»ºè®®å¼€å¯ï¼Œè™½è¯´ç”¨äº†æ¯”httpæœ¬æ¥æ›´å¥½çš„http/2ï¼Œ<strong>ä½†æ˜¯æµè§ˆå™¨å°†ç»§ç»­åœ¨åœ°å€æ ä¸­æ˜¾ç¤º â€œhttpâ€ï¼Œè€Œä¸æ˜¯ â€œhttpsâ€ã€‚</strong></p></li><li><p>TLS 1.3ï¼šå¯ç”¨æœ€æ–°ç‰ˆæœ¬çš„ TLS åè®®ï¼Œä»¥æé«˜å®‰å…¨æ€§å’Œæ€§èƒ½ã€‚<strong>å»ºè®®å¼€å¯</strong></p></li><li><p>è‡ªåŠ¨ HTTPS é‡å†™ï¼šè‡ªåŠ¨ HTTPS é‡å†™é€šè¿‡å°†å¯ä»¥ä½¿ç”¨ HTTPS æä¾›æœåŠ¡çš„ç½‘ç«™ä¸Šæ‰€æœ‰èµ„æºæˆ–é“¾æ¥çš„ â€œhttpâ€ æ›´æ”¹ä¸º â€œhttpsâ€ æ¥å¸®åŠ©ä¿®æ­£æ··åˆå†…å®¹ã€‚<strong>å¼ºçƒˆå»ºè®®å¼€å¯</strong></p></li><li><p>æœ€åº•ä¸‹ä¿©åŠŸèƒ½ä¸€ä¸ªå¾—èŠ±é’±ï¼Œå¦ä¸€ä¸ªæ²¡å¿…è¦ã€‚</p></li></ul><p>å¦‚æœæ‡’å¾—çœ‹ä¸Šé¢é‚£ä¸€æ®µè¯ï¼Œå¹¶ä¸”ä½ ä¹Ÿæ˜¯å¸Œæœ›ä½ æºç«™å¼€å¯httpsã€‚é‚£ä¹ˆç›´æ¥è®¾ç½®æˆå’Œæˆ‘ä¸€æ ·çš„å°±è¡Œäº†</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421155032.png"></p><h2 id="æºæœåŠ¡å™¨"><a href="#æºæœåŠ¡å™¨" class="headerlink" title="æºæœåŠ¡å™¨"></a>æºæœåŠ¡å™¨</h2><p>æ²¡å•¥å¥½çœ‹çš„ï¼Œä¸ç”¨ç®¡ã€‚</p><h2 id="è‡ªå®šä¹‰ä¸»æœºå"><a href="#è‡ªå®šä¹‰ä¸»æœºå" class="headerlink" title="è‡ªå®šä¹‰ä¸»æœºå"></a>è‡ªå®šä¹‰ä¸»æœºå</h2><p>ä¸€èˆ¬å»ºç«™æ²¡å•¥ç”¨ï¼Œè€Œä¸”è¿˜å¾—èŠ±é’±ï¼Œä¸ç©ã€‚</p><h1 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h1><p>è¿™éƒ¨åˆ†æˆ‘æ²¡æœ‰å¼€å¯ï¼Œæˆ‘ä¹Ÿç©ä¸æ˜ç™½ï¼Œå¯ä»¥è‡ªå»ºé˜²ç«å¢™è§„åˆ™ï¼Œè®¾ç½®éƒ¨åˆ†åœ°åŒºçš„äººèƒ½è®¿é—®ï¼Œå¯ä»¥CloudFlare é˜²ç«å¢™ç­–ç•¥ å±é™©IPè®¾ç½®éªŒè¯ç è®¿é—®è®¾ç½®â€œâ€ï¼Œæˆ–è€…â€œé€šè¿‡ CLOUDFLARE çš„é˜²ç«å¢™å‡å°‘æ¶æ„æµé‡å’Œæ”»å‡»â€ã€‚è¿™äº›éƒ½å±äºé«˜çº§ç©æ³•äº†ï¼Œ<strong>å¦‚æœæœ‰éœ€è¦çš„å¯ä»¥å»ç™¾åº¦â€œcloudflare é˜²ç«å¢™â€ã€‚å¯ä»¥çœ‹åˆ°å¾ˆå¤šå…³äºé˜²ç«å¢™çš„çŸ¥è¯†ï¼Œè¿™ä¹Ÿæ˜¯cloudflareçš„å¼ºå¤§ä¹‹å¤„ã€‚</strong></p><h1 id="Access"><a href="#Access" class="headerlink" title="Access"></a>Access</h1><p>åœ¨æ²¡æœ‰ VPN çš„æƒ…å†µä¸‹ä½¿è¿œç¨‹ç”¨æˆ·è¿æ¥åˆ°ä¼ä¸šåº”ç”¨ç¨‹åºã€‚9 æœˆ 1 æ—¥å‰å…è´¹ã€‚</p><p>Access é€šè¿‡å‘æ‚¨å·²ç»ä½¿ç”¨çš„æ ‡è¯†æä¾›ç¨‹åºè¿›è¡Œèº«ä»½éªŒè¯æ¥ä¿æŠ¤å†…éƒ¨èµ„æºã€‚ä½¿ç”¨ Accessï¼Œå¯ä»¥æ§åˆ¶å“ªäº›ç”¨æˆ·å’Œç¾¤ç»„å¯ä»¥åœ¨æ²¡æœ‰ VPN æˆ–è€…ä¸å¯¹æ‚¨çš„ç«™ç‚¹ä»£ç è¿›è¡Œä»»ä½•æ›´æ”¹çš„æƒ…å†µä¸‹è®¿é—®æ•æ„Ÿèµ„æ–™ã€‚</p><h1 id="é€Ÿåº¦"><a href="#é€Ÿåº¦" class="headerlink" title="é€Ÿåº¦"></a>é€Ÿåº¦</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å°±æ˜¯çœ‹ä¸€ä¸‹cloudflareå¸®ä½ æé«˜äº†å¤šå°‘é€Ÿåº¦ï¼Œè¿˜æœ‰å…·ä½“çš„æ—¶é—´ã€‚</p><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>è¿™ä¸ªåœ°æ–¹èƒ½å…è´¹ç”¨çš„åŠŸèƒ½ä¸å¤šï¼Œèƒ½å…è´¹å¼€å¯çš„éƒ½å¼€å¯å§ã€‚ä¸‹é¢ä¸‰ä¸ªéƒ½æ˜¯èƒ½å¼€å¯çš„</p><ul><li>Auto Minify</li></ul><p>å‡å°ç½‘ç«™ä¸Šæºä»£ç çš„æ–‡ä»¶å¤§å°ã€‚æ³¨æ„ï¼šæ¸…é™¤ç¼“å­˜å¯ä½¿æ›´æ”¹ç«‹å³ç”Ÿæ•ˆã€‚<strong>JS CSS HTMLä¸‰ä¸ªä¼˜åŒ–éƒ½å»ºè®®æ‰“å¼€</strong></p><ul><li>Brotli</li></ul><p>åº”ç”¨ Brotli å‹ç¼©ï¼ŒåŠ å¿«è®¿é—®è€…çš„ HTTPS æµé‡çš„é¡µé¢åŠ è½½æ—¶é—´ã€‚<strong>å»ºè®®æ‰“å¼€</strong></p><ul><li>Rocket Loaderâ„¢</li></ul><p>ç¼©çŸ­åŒ…å« JavaScript çš„é¡µé¢çš„ç»˜åˆ¶æ—¶é—´ã€‚<strong>ä¸ï¼ä¸å»ºè®®æ‰“å¼€</strong></p><ul><li>AMP çœŸå® URLï¼š<strong>ä¸å»ºè®®æ‰“å¼€</strong></li></ul><p>è¿™éƒ¨åˆ†è¿˜æœ‰ä¸ªæ”¶è´¹çš„Railgunï¼Œæœ‰é’±çš„è¯å¯ä»¥å»çœ‹çœ‹ï¼Œç½‘é¡µåŠ é€Ÿæ•ˆæœæŒºæ˜æ˜¾çš„</p><h2 id="Browser-Insights"><a href="#Browser-Insights" class="headerlink" title="Browser Insights"></a>Browser Insights</h2><p>ä»ç”¨æˆ·è§’åº¦é‡æµ‹ç½‘ç«™æ•ˆèƒ½çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…äº†è§£ç½‘é¡µå˜æ…¢çš„åœ°æ–¹ã€æ—¶æœºä»¥åŠåŸå› ã€‚</p><p>æˆ‘çš„ä¹Ÿæ˜¯åˆšæ‰å¼€å¯çš„ï¼Œæ²¡æœ‰å›¾ï¼Œæ‰€ä»¥ä»ç½‘ä¸Šæ‰¾äº†å‡ å¼ ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421155607.png"></p><h1 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h1><p>è¿™é‡Œå¥½å¤šåŠŸèƒ½æ”¶è´¹ï¼Œæœ‰å‡ ä¸ªå€¼å¾—å¼€å¯çš„åŠŸèƒ½æˆ‘ç»™å¤§å®¶çœ‹ä¸€ä¸‹</p><ul><li><p>æ¸…é™¤ç¼“å­˜ï¼šè¿™é‡Œå¯ä»¥æ¸…é™¤ç¼“å­˜ï¼Œä½ ç½‘ç«™æœ‰å˜åŠ¨çš„æ—¶å€™å¯ä»¥æ¸…é™¤ä¸€ä¸‹ç¼“å­˜ï¼Œé‡æ–°ç¼“å­˜</p></li><li><p>ç¼“å­˜çº§åˆ«ï¼šé»˜è®¤çš„æ ‡å‡†å°±è¡Œ</p></li><li><p>æµè§ˆå™¨ç¼“å­˜ TTLï¼šéšä¾¿ï¼Œæˆ‘ä¸ªäººå»ºè®®æ˜¯å‡ å°æ—¶</p></li><li><p>Always Onlineâ„¢ï¼šå¦‚æœä½ è®¾ç½®è‡ªå®šä¹‰ç¼“å­˜äº†ï¼Œæˆ‘æ¯”è¾ƒå»ºè®®å¼€å¯ï¼Œå¹¶ä¸”æˆ‘ä¹Ÿå»ºè®®å¼€å¯è‡ªå®šä¹‰ç¼“å­˜æŠŠé™¤äº†åŠ¨æ€é¡µé¢ï¼ˆåå°ï¼Œåœ¨çº¿æ¼”ç¤ºç­‰ï¼‰çš„å†…å®¹å…¨éƒ¨ç¼“å­˜</p></li><li><p>å¼€å‘æ¨¡å¼ï¼šå’Œé¦–é¡µæ¦‚è§ˆçš„å¼€å‘è€…æ¨¡å¼æ˜¯ä¸€æ ·çš„</p></li></ul><h1 id="workers"><a href="#workers" class="headerlink" title="workers"></a>workers</h1><p>åœ¨å…¨çƒæ•°ä»¥ç™¾è®¡çš„ Cloudflare æ•°æ®ä¸­å¿ƒä¸­è¿è¡Œ JavaScript Service Workersã€‚ä¿®æ”¹ç«™ç‚¹çš„ HTTP è¯·æ±‚å’Œå“åº”ï¼Œå‘å‡ºå¹¶è¡Œè¯·æ±‚æˆ–ä»è¾¹ç¼˜ç”Ÿæˆå“åº”ã€‚ä¿ºç©ä¸æ˜ç™½ï¼Œè·¯ç”±ï¼Ÿè¿˜æ˜¯cf çš„å¦ä¸€ä¸ªworkeråŠŸèƒ½ï¼Ÿ å› ä¸ºåå­—å’Œcf çš„å¦ä¸€ä¸ªworkersä¸€æ ·,ç½‘ä¸Šçš„æ•™ç¨‹ä¹ŸåŸºæœ¬æ²¡æœ‰ï¼Œå¦‚æœç«™ç‚¹ä¸æ˜¯é¢å‘å…¨çƒç”¨æˆ·çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªåŠŸèƒ½åº”è¯¥ç”¨ä¸åˆ°</p><h1 id="é¡µé¢è§„åˆ™"><a href="#é¡µé¢è§„åˆ™" class="headerlink" title="é¡µé¢è§„åˆ™"></a>é¡µé¢è§„åˆ™</h1><p>é¡µé¢è§„åˆ™ç”¨äºæ§åˆ¶é’ˆå¯¹ç»™å®šçš„ URL è§¦å‘å“ªäº› Cloudflare è®¾ç½®ã€‚é’ˆå¯¹æ¯ä¸ª URL ä»…è§¦å‘ä¸€ä¸ªé¡µé¢è§„åˆ™ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºå¯¹é¡µé¢è§„åˆ™è¿›è¡Œæ’åºï¼Œåˆ™è¿™éå¸¸æœ‰ç”¨ï¼Œè¯·å°½å¯èƒ½å°† URL æ¨¡å¼è®¾ç½®å¾—å…·ä½“äº›ã€‚</p><p>èƒ½æœ‰æ•ˆæ”¹å–„ç½‘è€Œè¨€åŠ è½½é€Ÿåº¦ï¼Œè¿˜èƒ½æœ‰æ•ˆçš„é˜²æ­¢CCæ”»å‡»</p><h1 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h1><p>è¿™é‡Œèƒ½å¼€çš„å°½é‡éƒ½å¼€ä¸€ä¸‹</p><ul><li><p>HTTP/2ï¼šåŠ å¿«é¡µé¢é€Ÿåº¦ï¼Œ<strong>å»ºè®®å¼€å¯</strong></p></li><li><p>HTTP/3ï¼ˆä½¿ç”¨ QUICï¼‰ï¼šä½¿ç”¨ QUIC åŠ é€Ÿ HTTP è¯·æ±‚ï¼ŒQUIC æä¾›æ¯” TCP å’Œ TLS æ›´é«˜çš„åŠ å¯†å’Œæ€§èƒ½ <strong>å»ºè®®å¼€å¯</strong></p></li><li><p>0-RTT è¿æ¥æ¢å¤ï¼šæé«˜ä¹‹å‰å·²è¿æ¥åˆ°æ‚¨ç½‘ç«™çš„å®¢æˆ·ç«¯çš„æ€§èƒ½ ä¸äº†è§£æ€ä¹ˆä¸ªåŸç†ï¼Œ<strong>å»ºè®®å¼€å¯</strong></p></li><li><p>IPv6 å…¼å®¹æ€§ï¼š<strong>å»ºè®®å¼€å¯</strong></p></li><li><p>WebSocketï¼šå…è®¸ä¸æ‚¨çš„æºæœåŠ¡å™¨å»ºç«‹ WebSocket è¿æ¥ <strong>å»ºè®®å¼€å¯</strong></p></li><li><p>æ´‹è‘±è·¯ç”±ï¼šæ´‹è‘±è·¯ç”±å…è®¸é€šè¿‡ Cloudflare çš„æ´‹è‘±æœåŠ¡è€Œä¸æ˜¯é€€å‡ºèŠ‚ç‚¹è·¯ç”±æ¥è‡ª Tor ç½‘ç»œä¸Šåˆæ³•ç”¨æˆ·çš„æµé‡ï¼Œä»è€Œæ”¹å–„ç”¨æˆ·çš„éšç§å¹¶å®ç°æ›´ç»†åŒ–çš„ä¿æŠ¤ã€‚ <strong>å»ºè®®å¼€å¯</strong></p></li><li><p>IP åœ°ç†ä½ç½®ï¼šåŒ…å«è®¿é—®è€…ä½ç½®çš„å›½å®¶/åœ°åŒºä»£ç å’Œæ‰€æœ‰å‘é€åˆ°æ‚¨ç½‘ç«™çš„è¯·æ±‚ã€‚ <strong>å»ºè®®å¼€å¯</strong></p></li><li><p>åé¢è¿˜æœ‰ä¿©æ”¶è´¹çš„åŠŸèƒ½ï¼Œæ²¡é’±æ²¡é’±ã€‚</p></li></ul><h1 id="æµé‡-1"><a href="#æµé‡-1" class="headerlink" title="æµé‡"></a>æµé‡</h1><p>è¿™ä¸€æ éƒ½æ˜¯æ”¶è´¹çš„ï¼Œæºœäº†æºœäº†ï¼Œæ²¡é’±ã€‚</p><h1 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a>Stream</h1><p>è¿™ä¸€æ ä¹Ÿæ˜¯æ”¶è´¹çš„ï¼Œæºœäº†æºœäº†ã€‚</p><h1 id="è‡ªå®šä¹‰é¡µé¢"><a href="#è‡ªå®šä¹‰é¡µé¢" class="headerlink" title="è‡ªå®šä¹‰é¡µé¢"></a>è‡ªå®šä¹‰é¡µé¢</h1><p>è¿™ä¸€æ ä¹Ÿæ˜¯æ”¶è´¹çš„ã€‚ã€‚ã€‚ã€‚ã€‚</p><h1 id="apps"><a href="#apps" class="headerlink" title="apps"></a>apps</h1><p>è¿™é‡Œçš„ç¨‹åºæˆ‘æ²¡ç”¨è¿‡ï¼Œä½†æ˜¯å¬è¯´æœ‰å¾ˆå¤šæœ‰ç”¨çš„ï¼Œæ¯”å¦‚cfé»˜è®¤æ”¯æŒ5ä¸ªç«¯å£ï¼Œæœ‰äº›åº”ç”¨ç¨‹åºèƒ½ä¿®æ”¹ç«¯å£çš„ï¼Œæ²¡è§è¿‡å‡ ä¸ªç©cfçš„åº”ç”¨ç¨‹åºçš„ã€‚</p><h1 id="Scrape-Shield"><a href="#Scrape-Shield" class="headerlink" title="Scrape Shield"></a>Scrape Shield</h1><p>ä¿æŠ¤ç«™ç‚¹ä¸Šçš„å†…å®¹</p><ul><li>ç”µå­é‚®ä»¶åœ°å€æ··æ·†æŠ€æœ¯</li></ul><p>åœ¨æ‚¨çš„ç½‘ç«™ä¸Šæ˜¾ç¤ºç»è¿‡æ¨¡ç³Šå¤„ç†çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œä»¥é˜²æ­¢æœºè‡ªåŠ¨ç¨‹åºå’Œåƒåœ¾é‚®ä»¶åˆ¶é€ è€…è·å–è¯¥åœ°å€ï¼Œè€Œå¯¹äºäººç±»è®¿é—®è€…ï¼Œåˆ™ä¸ä¼šå¯¹åœ°å€è¿›è¡Œä»»ä½•å¯è§æ›´æ”¹ã€‚<strong>å»ºè®®å¼€å¯</strong></p><ul><li>æœåŠ¡å™¨ç«¯æ’é™¤</li></ul><p>è‡ªåŠ¨éšè—ç‰¹å®šå†…å®¹ä»¥é˜²å£°èª‰ä¸å¥½çš„è®¿é—®è€…æŸ¥çœ‹ï¼Œ<strong>å»ºè®®å¼€å¯</strong></p><ul><li>Hotlink ä¿æŠ¤</li></ul><p>é˜²æ­¢ç«™å¤–é“¾æ¥æŒ‡å‘æ‚¨çš„å›¾åƒã€‚<strong>é˜²ç›—é“¾ï¼Œå»ºè®®å¼€å¯</strong></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github_Actionè‡ªåŠ¨æ„å»ºHexoå®ç°Codingå’ŒGithubåŒéƒ¨ç½²</title>
      <link href="posts/9d3b758e/"/>
      <url>posts/9d3b758e/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»¥å‰ä½¿ç”¨è¿‡Coding_CIéƒ¨ç½²Hexoåšå®¢ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„åšå®¢æºä»£ç æ˜¯åœ¨Githubï¼Œä½¿ç”¨Coding_CIç»å¸¸æ‹‰å–æºç å¤±è´¥ã€‚æ‰€ä»¥ä»Šå¤©å†æŠ˜è…¾ä¸‹ä½¿ç”¨Github_Actionæ¥è‡ªåŠ¨æ„å»ºHexoåšå®¢</p><a href="/posts/51df657a/" title="åŸºäºCoding-CIå®ç°Hexoçš„æŒç»­é›†æˆä¸Githubå’ŒCodingçš„åŒæ­¥éƒ¨ç½²">åŸºäºCoding-CIå®ç°Hexoçš„æŒç»­é›†æˆä¸Githubå’ŒCodingçš„åŒæ­¥éƒ¨ç½²</a><div class="note info flat"><p>Hexoæºä»£ç ä»“åº“(ç§æœ‰): <a href="https://github.com/imgyh/hexo.git">https://github.com/imgyh/hexo.git</a><br>Github_Page: <a href="https://github.com/imgyh/imgyh.github.io.git">https://github.com/imgyh/imgyh.github.io.git</a><br>Coding_Page: <a href="https://e.coding.net/guoyuanhong/hexo/hexo.git">https://e.coding.net/guoyuanhong/hexo/hexo.git</a></p></div><h1 id="APIç”³è¯·"><a href="#APIç”³è¯·" class="headerlink" title="APIç”³è¯·"></a>APIç”³è¯·</h1><h2 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h2><p>åœ¨codingçš„ä¸ªäººè®¾ç½®ä¸­ï¼Œæ‰¾åˆ°è®¿é—®ä»¤ç‰Œï¼Œå¹¶åˆ›å»ºå®ƒ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174003.png"></p><p>ç‚¹å‡»åˆ›å»ºè®¿é—®ä»¤ç‰Œï¼Œæè¿°å¯ä»¥éšä¾¿å¡«å†™ï¼Œå‹¾é€‰<code>project:depot</code>çš„å¤é€‰æ¡†å³å¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174219.png"></p><p>å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å°†è·å–åˆ°çš„å¯†é’¥å¤åˆ¶ä¿å­˜ä¸‹æ¥ï¼Œå¹¶è®°å½•ç”¨æˆ·åã€‚</p><h2 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h2><p>å’Œcodingç±»ä¼¼ï¼Œåœ¨<code>Settings-&gt;Developer settings-&gt;Personal access tokens</code>åˆ›å»º<a href="https://github.com/settings/tokens">githubè®¿é—®ä»¤ç‰Œ</a></p><p>ç‚¹å‡»åˆ›å»ºä»¤ç‰Œ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174649.png"></p><p>åç§°éšæ„ï¼Œå‹¾é€‰<code>reop</code>å¤é€‰æ¡†<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221175002.png"></p><p>å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å°†è·å–åˆ°çš„å¯†é’¥å¤åˆ¶ä¿å­˜ä¸‹æ¥ã€‚</p><h1 id="API-å¯†é’¥æ·»åŠ "><a href="#API-å¯†é’¥æ·»åŠ " class="headerlink" title="API å¯†é’¥æ·»åŠ "></a>API å¯†é’¥æ·»åŠ </h1><p>é…ç½®ä»“åº“ç§é’¥ï¼Œhexoç§æœ‰ä»“åº“çš„ <code>Settings â€“&gt; Secrets</code> é‡Œæ·»åŠ ç§é’¥<code>Secrets</code>ï¼Œä»¥ä¸‹é¢åç§°å‘½åï¼Œè¾“å…¥å¯¹åº”çš„å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">token_CodingAPI</span><br><span class="line">token_GithubAPI</span><br><span class="line">Username_Coding</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200421124607.png"></p><h1 id="é…ç½®GitHub-Actions"><a href="#é…ç½®GitHub-Actions" class="headerlink" title="é…ç½®GitHub Actions"></a>é…ç½®GitHub Actions</h1><p>GitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚</p><ul><li>workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚</li><li>job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</li><li>stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚</li><li>action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚</li></ul><p>åœ¨hexoä»“åº“çš„Actionsé€‰é¡¹å¡ä¸‹ç‚¹å‡»æ–°å»ºworkflowï¼Œåç§°é»˜è®¤æˆ–è€…è‡ªå®šä¹‰ä¿®æ”¹ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ã€‚</p><div class="note info flat"><p>æ³¨æ„ä¿®æ”¹ä¸‹é¢çš„é…ç½®æˆè‡ªå·±çš„ä¿¡æ¯ã€‚ä¿®æ”¹å®Œæˆåï¼Œä¼šç”Ÿæˆ <code>.github/workflows/main.yml</code>, ä½ éœ€è¦åœ¨æœ¬åœ°<code>git pull</code>ä¸€ä¸‹ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶æ‹‰å»ä¸‹æ¥ã€‚</p></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"># workflow name</span><br><span class="line">name: CI Hexo Blog Deploy LTS</span><br><span class="line"></span><br><span class="line"># master branch on push, auto run</span><br><span class="line">on: </span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  Deploy-Pages: </span><br><span class="line">    name: Deploy Hexo Public To Pages</span><br><span class="line">    runs-on: ubuntu-latest </span><br><span class="line">        </span><br><span class="line">    steps:</span><br><span class="line">    # check it to your workflow can access it</span><br><span class="line">    # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;checkout</span><br><span class="line">    - name: Checkout Repository master branch</span><br><span class="line">      uses: actions&#x2F;checkout@master </span><br><span class="line">      </span><br><span class="line">    # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;setup-node  </span><br><span class="line">    - name: Setup Node.js 10.x </span><br><span class="line">      uses: actions&#x2F;setup-node@master</span><br><span class="line">      with:</span><br><span class="line">        node-version: &quot;10.x&quot;</span><br><span class="line">    </span><br><span class="line">    - name: Setup Git Infomation</span><br><span class="line">      run: | </span><br><span class="line">        git config --global user.name &#39;ç”¨æˆ·å&#39; </span><br><span class="line">        git config --global user.email &#39;é‚®ç®±&#39;  </span><br><span class="line"> </span><br><span class="line">    - name: Get Latest Commit Message </span><br><span class="line">      run: |</span><br><span class="line">        git log --pretty&#x3D;format:&quot;%s from Github Actions at &#96;date +&quot;%Y-%m-%d %H:%M:%S&quot;&#96;&quot; --date&#x3D;short -n 1  &gt; commit-message.log</span><br><span class="line">        </span><br><span class="line">    - name: Setup Hexo Dependencies</span><br><span class="line">      run: |</span><br><span class="line">        npm install hexo-cli -g</span><br><span class="line">        npm install</span><br><span class="line">        </span><br><span class="line">    - name: Generate public files</span><br><span class="line">      run: |</span><br><span class="line">        hexo clean</span><br><span class="line">        hexo generate </span><br><span class="line">        </span><br><span class="line">    - name: Deploy To Github Pages </span><br><span class="line">      env:</span><br><span class="line">        Github_Pages: github.com&#x2F;ç”¨æˆ·å&#x2F;ç”¨æˆ·å.github.io</span><br><span class="line">        Github_Token: $&#123;&#123; secrets.token_GithubAPI &#125;&#125;</span><br><span class="line">      run: |  </span><br><span class="line">        git clone https:&#x2F;&#x2F;$&#123;Github_Pages&#125; .github_pages</span><br><span class="line">        cd .github_pages</span><br><span class="line">        git checkout master</span><br><span class="line">        cd ..&#x2F;</span><br><span class="line">        mv .github_pages&#x2F;.git&#x2F; .&#x2F;public&#x2F;</span><br><span class="line">        cd .&#x2F;public&#x2F;</span><br><span class="line">        git add .</span><br><span class="line">        git commit -F ..&#x2F;commit-message.log</span><br><span class="line">        git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;Github_Token&#125;@$&#123;Github_Pages&#125;&quot; master:master</span><br><span class="line"></span><br><span class="line">    - name: Deploy To Coding Pages </span><br><span class="line">      env:</span><br><span class="line">        Coding_Pages: e.coding.net&#x2F;ç”¨æˆ·å&#x2F;é¡¹ç›®å&#x2F;ä»“åº“å.git</span><br><span class="line">        Coding_Token: $&#123;&#123; secrets.token_CodingAPI &#125;&#125;</span><br><span class="line">        Coding_Username: $&#123;&#123; secrets.Username_Coding &#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        git clone https:&#x2F;&#x2F;$&#123;Coding_Username&#125;:$&#123;Coding_Token&#125;@$&#123;Coding_Pages&#125; .coding_pages</span><br><span class="line">        cd .coding_pages</span><br><span class="line">        git checkout master</span><br><span class="line">        cd ..&#x2F;</span><br><span class="line">        rm -r .&#x2F;public&#x2F;.git&#x2F;</span><br><span class="line">        mv .coding_pages&#x2F;.git&#x2F; .&#x2F;public&#x2F;</span><br><span class="line">        cd .&#x2F;public&#x2F;</span><br><span class="line">        git add .</span><br><span class="line">        git commit -F ..&#x2F;commit-message.log</span><br><span class="line">        git push --force --quiet &quot;https:&#x2F;&#x2F;$&#123;Coding_Username&#125;:$&#123;Coding_Token&#125;@$&#123;Coding_Pages&#125;&quot; master:master</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RcloneæŒ‚è½½googledrive</title>
      <link href="posts/e4b3ef62/"/>
      <url>posts/e4b3ef62/</url>
      
        <content type="html"><![CDATA[<p>å…ˆç™»å½•<code>VPS</code>,å†å®‰è£…<code>Rclone</code>ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;rclone.org&#x2F;install.sh | bash</span><br></pre></td></tr></table></figure><p>å¼€å§‹é…ç½®ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>ä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">n) New remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">n&#x2F;s&#x2F;q&gt; n</span><br><span class="line">name&gt; googledrive  #é…ç½®åç§°ï¼Œéšä¾¿å¡«</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; 1Fichier</span><br><span class="line">   \ &quot;fichier&quot;</span><br><span class="line"> 2 &#x2F; Alias for an existing remote</span><br><span class="line">   \ &quot;alias&quot;</span><br><span class="line"> 3 &#x2F; Amazon Drive</span><br><span class="line">   \ &quot;amazon cloud drive&quot;</span><br><span class="line"> 4 &#x2F; Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ &quot;s3&quot;</span><br><span class="line"> 5 &#x2F; Backblaze B2</span><br><span class="line">   \ &quot;b2&quot;</span><br><span class="line"> 6 &#x2F; Box</span><br><span class="line">   \ &quot;box&quot;</span><br><span class="line"> 7 &#x2F; Cache a remote</span><br><span class="line">   \ &quot;cache&quot;</span><br><span class="line"> 8 &#x2F; Dropbox</span><br><span class="line">   \ &quot;dropbox&quot;</span><br><span class="line"> 9 &#x2F; Encrypt&#x2F;Decrypt a remote</span><br><span class="line">   \ &quot;crypt&quot;</span><br><span class="line">10 &#x2F; FTP Connection</span><br><span class="line">   \ &quot;ftp&quot;</span><br><span class="line">11 &#x2F; Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ &quot;google cloud storage&quot;</span><br><span class="line">12 &#x2F; Google Drive</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line">13 &#x2F; Google Photos</span><br><span class="line">   \ &quot;google photos&quot;</span><br><span class="line">14 &#x2F; Hubic</span><br><span class="line">   \ &quot;hubic&quot;</span><br><span class="line">15 &#x2F; JottaCloud</span><br><span class="line">   \ &quot;jottacloud&quot;</span><br><span class="line">16 &#x2F; Koofr</span><br><span class="line">   \ &quot;koofr&quot;</span><br><span class="line">17 &#x2F; Local Disk</span><br><span class="line">   \ &quot;local&quot;</span><br><span class="line">18 &#x2F; Mega</span><br><span class="line">   \ &quot;mega&quot;</span><br><span class="line">19 &#x2F; Microsoft Azure Blob Storage</span><br><span class="line">   \ &quot;azureblob&quot;</span><br><span class="line">20 &#x2F; Microsoft OneDrive</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line">21 &#x2F; OpenDrive</span><br><span class="line">   \ &quot;opendrive&quot;</span><br><span class="line">22 &#x2F; Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ &quot;swift&quot;</span><br><span class="line">23 &#x2F; Pcloud</span><br><span class="line">   \ &quot;pcloud&quot;</span><br><span class="line">24 &#x2F; Put.io</span><br><span class="line">   \ &quot;putio&quot;</span><br><span class="line">25 &#x2F; QingCloud Object Storage</span><br><span class="line">   \ &quot;qingstor&quot;</span><br><span class="line">26 &#x2F; SSH&#x2F;SFTP Connection</span><br><span class="line">   \ &quot;sftp&quot;</span><br><span class="line">27 &#x2F; Union merges the contents of several remotes</span><br><span class="line">   \ &quot;union&quot;</span><br><span class="line">28 &#x2F; Webdav</span><br><span class="line">   \ &quot;webdav&quot;</span><br><span class="line">29 &#x2F; Yandex Disk</span><br><span class="line">   \ &quot;yandex&quot;</span><br><span class="line">30 &#x2F; http Connection</span><br><span class="line">   \ &quot;http&quot;</span><br><span class="line">31 &#x2F; premiumize.me</span><br><span class="line">   \ &quot;premiumizeme&quot;</span><br><span class="line">Storage&gt; 12  #é€‰æ‹©12ï¼ŒGoogle Drive</span><br><span class="line">client_id&gt; 850428  #å¡«ä¸Šä½ çš„Google Driveå®¢æˆ·ç«¯ID</span><br><span class="line">client_secret&gt; D72gPc  #å¡«ä¸Šä½ çš„Google Driveå®¢æˆ·ç«¯å¯†åŒ™</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; Full access all files, excluding Application Data Folder.</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line"> 2 &#x2F; Read-only access to file metadata and file contents.</span><br><span class="line">   \ &quot;drive.readonly&quot;</span><br><span class="line">   &#x2F; Access to files created by rclone only.</span><br><span class="line"> 3 | These are visible in the drive website.</span><br><span class="line">   | File authorization is revoked when the user deauthorizes the app.</span><br><span class="line">   \ &quot;drive.file&quot;</span><br><span class="line">   &#x2F; Allows read and write access to the Application Data folder.</span><br><span class="line"> 4 | This is not visible in the drive website.</span><br><span class="line">   \ &quot;drive.appfolder&quot;</span><br><span class="line">   &#x2F; Allows read-only access to file metadata but</span><br><span class="line"> 5 | does not allow any access to read or download file content.</span><br><span class="line">   \ &quot;drive.metadata.readonly&quot;</span><br><span class="line">scope&gt; 1 </span><br><span class="line">ID of the root folder</span><br><span class="line">Leave blank normally.</span><br><span class="line">Fill in to access &quot;Computers&quot; folders. (see docs).</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">root_folder_id&gt; #å›è½¦</span><br><span class="line">Service Account Credentials JSON file path </span><br><span class="line">Leave blank normally.</span><br><span class="line">Needed only if you want use SA instead of interactive login.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">service_account_file&gt; #å›è½¦</span><br><span class="line">Edit advanced config? (y&#x2F;n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #è¾“å…¥n</span><br><span class="line">Remote config</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #è¾“å…¥n</span><br><span class="line">If your browser doesn&#39;t open automatically go to the following link: https:&#x2F;&#x2F;accounts.google.com&#x2F;o&#x2F;  #æ‰“å¼€è¯¥åœ°å€è·å–code</span><br><span class="line">Log in and authorize rclone for access</span><br><span class="line">Enter verification code&gt;hjdd   #è¾“å…¥ä½ è·å–åˆ°çš„code</span><br><span class="line">Configure this as a team drive?</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #å¦‚æœè¦æŒ‚è½½å›¢é˜Ÿç›˜é€‰yï¼Œä¸ªäººç›˜é€‰n</span><br><span class="line">--------------------</span><br><span class="line">[Rats]</span><br><span class="line">type &#x3D; drive</span><br><span class="line">client_id &#x3D; 85042871</span><br><span class="line">client_secret &#x3D; D72gPc</span><br><span class="line">scope &#x3D; drive</span><br><span class="line">token &#x3D; &#123;&quot;access_token&quot;:&quot;y902Z&quot;&#125;  </span><br><span class="line">--------------------</span><br><span class="line">y) Yes this is OK</span><br><span class="line">e) Edit this remote</span><br><span class="line">d) Delete this remote</span><br><span class="line">y&#x2F;e&#x2F;d&gt; y  #è¾“å…¥y</span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">googledrive                 drive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; q  #è¾“å…¥qä¿å­˜é€€å‡º</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rclone </tag>
            
            <tag> GoogleDrive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cloudflareè‡ªé€‰èŠ‚ç‚¹</title>
      <link href="posts/f019efb0/"/>
      <url>posts/f019efb0/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h1><ul><li><p><code>cloudflare</code>æ˜¯ä¸€å®¶<code>CDN</code>å…¬å¸ï¼Œå¯ä»¥ä¸ºç½‘ç«™æä¾›<code>CDN</code>æœåŠ¡ï¼Œä½†æ˜¯å…è´¹çš„å¥—é¤çš„èŠ‚ç‚¹é€Ÿåº¦ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è‡ªé€‰èŠ‚ç‚¹æ¥è§£å†³ã€‚<code>cloudflare</code>æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡dnsæ¥å…¥ï¼Œè¿™ç§æ–¹å¼å®Œå…¨æŠŠåŸŸåäº¤ç»™cloudflareäº†ã€‚å¦ä¸€æ–¹å¼æ˜¯é€šè¿‡<code>cloudflare Partners</code>çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä¸ç”¨dnsæ¥å…¥ã€‚é™¤äº†ç½‘ç«™å¯ä»¥ä½¿ç”¨ä»–å®¶çš„<code>CDN</code>æœåŠ¡å¤–ï¼Œå¥½å¤šäººéƒ½ç”¨æ¥åŠ é€Ÿ<code>v2ray</code>ã€‚</p></li><li><p><code>v2ray</code>æ­å»ºå¯å‚è€ƒï¼š</p><a href="/posts/8eabdcaf/" title="å²ä¸Šæœ€ç¨³ç§‘å­¦ä¸Šç½‘å§¿åŠ¿-å®å¡”-v2-ws-tls-cdn">å²ä¸Šæœ€ç¨³ç§‘å­¦ä¸Šç½‘å§¿åŠ¿-å®å¡”-v2-ws-tls-cdn</a> <a href="/posts/9585444e/" title="vpsæµ‹é€ŸåŠç§‘å­¦ä¸Šç½‘å¸¸ç”¨è„šæœ¬">vpsæµ‹é€ŸåŠç§‘å­¦ä¸Šç½‘å¸¸ç”¨è„šæœ¬</a> </li><li><p><code>cloudflare partener</code> å¹³å°ï¼Œæ¨èä½¿ç”¨å¤§ä½¬çš„<a href="https://cdn.moeelf.com/">èŒç²¾çµ</a></p></li></ul><h1 id="éƒ¨ç½²æ–¹æ³•"><a href="#éƒ¨ç½²æ–¹æ³•" class="headerlink" title="éƒ¨ç½²æ–¹æ³•"></a>éƒ¨ç½²æ–¹æ³•</h1><ul><li>ç™»å½•<a href="https://cdn.moeelf.com/">èŒç²¾çµ</a>ï¼Œä½¿ç”¨<code>cloudflare</code>è´¦å·,ç‚¹å‡»æ·»åŠ åŸŸå</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419135648.png"></p><ul><li>æ·»åŠ è§£æè®°å½•</li></ul><p>æ·»åŠ è§£æè®°å½•åˆ°ä½ çš„æºip</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419140034.png"></p><ul><li>è‡ªé€‰ip</li></ul><p>è®°å½•ä¸‹é¢çš„ä¸»æœºå<code>www.imgyh.cf</code> å’Œ <code>CNAME</code> <code>    www.imgyh.cf.cdn.cloudflare.net</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419140218.png"></p><p>å›åˆ°ä½ çš„åŸŸå<code>dns</code>è§£ææä¾›å•†ï¼Œæˆ‘ä½¿ç”¨çš„<code>dnspod</code>,è¿™é‡Œçš„è§£ææä¾›å•†éœ€è¦å¯ä»¥åˆ†çº¿è·¯è§£æçš„</p><p>æ·»åŠ  <code>www</code>è®°å½•åˆ° <code>www.imgyh.cf.cdn.cloudflare.net</code> ,è®°å½•ç±»å‹é€‰æ‹©<code>CNAME</code>,è§£æçº¿è·¯é€‰æ‹©<code>é»˜è®¤</code>æˆ–è€…<code>å¢ƒå¤–</code><br>å†æ·»åŠ ä¸€ä¸ª<code>www</code>è®°å½•åˆ°<code>è‡ªé€‰ip</code>æˆ‘è¿™è¾¹é€Ÿåº¦è¾ƒå¥½çš„æ˜¯<code>1.0.0.1</code>,è®°å½•ç±»å‹é€‰æ‹© <code>A</code>,è§£æçº¿è·¯é€‰æ‹©<code>å¢ƒå†…</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419141049.png"></p><p>è¿™æ ·ä½ åœ¨å¢ƒå†…è®¿é—®<code>www.imgyh.cf</code>å°±ä¼šè§£æåˆ°è‡ªé€‰çš„ipä¸Šï¼Œåœ¨å¢ƒå¤–å°±ä¼šè®¿é—®é»˜è®¤æä¾›çš„èŠ‚ç‚¹</p><h1 id="å¯ä»¥è‡ªé€‰çš„IPèŠ‚ç‚¹"><a href="#å¯ä»¥è‡ªé€‰çš„IPèŠ‚ç‚¹" class="headerlink" title="å¯ä»¥è‡ªé€‰çš„IPèŠ‚ç‚¹"></a>å¯ä»¥è‡ªé€‰çš„IPèŠ‚ç‚¹</h1><ul><li>å®˜æ–¹åˆ—è¡¨ï¼šCloudFlareå…¬å¼€çš„èŠ‚ç‚¹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.cloudflare.com&#x2F;zh-cn&#x2F;ips&#x2F;</span><br></pre></td></tr></table></figure><ul><li>CFIPç™½åå•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">173.245.48.0&#x2F;20</span><br><span class="line">103.21.244.0&#x2F;22</span><br><span class="line">103.22.200.0&#x2F;22</span><br><span class="line">103.31.4.0&#x2F;22</span><br><span class="line">141.101.64.0&#x2F;18</span><br><span class="line">108.162.192.0&#x2F;18</span><br><span class="line">190.93.240.0&#x2F;20</span><br><span class="line">188.114.96.0&#x2F;20</span><br><span class="line">197.234.240.0&#x2F;22</span><br><span class="line">198.41.128.0&#x2F;17</span><br><span class="line">162.158.0.0&#x2F;15</span><br><span class="line">104.16.0.0&#x2F;12</span><br><span class="line">172.64.0.0&#x2F;13</span><br><span class="line">131.0.72.0&#x2F;22</span><br></pre></td></tr></table></figure><ul><li>ç™¾åº¦äº‘åŠ é€Ÿä¸Cloudflareåˆä½œèŠ‚ç‚¹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">162.159.211.4-103</span><br><span class="line">103.21.244.0&#x2F;22</span><br><span class="line">103.22.200.0&#x2F;22</span><br><span class="line">103.31.4.0&#x2F;22</span><br><span class="line">104.16.0.0&#x2F;12</span><br><span class="line">108.162.192.0&#x2F;18</span><br><span class="line">131.0.72.0&#x2F;22</span><br><span class="line">141.101.64.0&#x2F;18</span><br><span class="line">162.158.0.0&#x2F;15</span><br><span class="line">172.64.0.0&#x2F;13</span><br><span class="line">173.245.48.0&#x2F;20</span><br><span class="line">188.114.96.0&#x2F;20</span><br><span class="line">190.93.240.0&#x2F;20</span><br><span class="line">197.234.240.0&#x2F;22</span><br><span class="line">198.41.128.0&#x2F;17</span><br></pre></td></tr></table></figure><ul><li>CloudflareèŠ‚ç‚¹æ¨è</li></ul><p>[èŒç²¾çµæ¨è]<a href="http://www.moeelf.com/archives/10.html">www.moeelf.com/archives/10.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CloudFlare ç™¾åº¦äº‘åˆä½œ ipï¼š</span><br><span class="line"></span><br><span class="line">162.159.208.4-162.159.208.103</span><br><span class="line"></span><br><span class="line">162.159.209.4-162.159.209.103</span><br><span class="line"></span><br><span class="line">162.159.210.4-162.159.210.103</span><br><span class="line"></span><br><span class="line">162.159.211.4-162.159.211.103</span><br><span class="line"></span><br><span class="line">å„çº¿è·¯æ¨èåˆ—è¡¨ï¼š</span><br><span class="line">ç”µä¿¡ï¼šæ¨èèµ°åœ£ä½•å¡ï¼Œä¾‹ï¼š104.16.160.* æˆ–è€…ä¸Šé¢çš„ç™¾åº¦äº‘åˆä½œ ipã€‚</span><br><span class="line">ç§»åŠ¨ï¼šæ¨èèµ°ç§»åŠ¨é¦™æ¸¯ï¼Œä¾‹ï¼š172.64.32.*ã€141.101.115.* æˆ–è€… 104.23.240.0-104.23.243.254ã€‚</span><br><span class="line">è”é€šï¼šæ²¡å‘å¸ƒä»€ä¹ˆå¥½çº¿è·¯ï¼Œå¯èµ°åœ£ä½•å¡ã€‚ä¾‹ï¼š104.16.160.* æˆ–è€… 104.23.240.0-104.23.243.254ã€‚ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹èµ°äºšç‰¹å…°å¤§ 108.162.236.*ï¼ˆæ—¥å‰ä¸å¯ç”¨ã€‚ï¼‰ ã€‚</span><br></pre></td></tr></table></figure><ul><li>Qiæ¨è</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">108.162.236.1&#x2F;24 è”é€š èµ°ç¾å›½</span><br><span class="line">172.64.32.1&#x2F;24 ç§»åŠ¨ èµ°é¦™æ¸¯</span><br><span class="line">104.16.160.1&#x2F;24 ç”µä¿¡ èµ°ç¾å›½æ´›æ‰çŸ¶</span><br><span class="line">â€”â€”â€”</span><br><span class="line">172.64.0.0&#x2F;24 ç”µä¿¡ ç¾å›½æ—§é‡‘å±±</span><br><span class="line">104.20.157.0&#x2F;24 è”é€š èµ°æ—¥æœ¬</span><br><span class="line">104.28.14.0&#x2F;24 ç§»åŠ¨ èµ°æ–°åŠ å¡</span><br><span class="line">ï¼ˆè”é€šç§»åŠ¨æ¨èèŠ‚ç‚¹ï¼‰</span><br><span class="line">104.23.240.0-104.23.243.254</span><br><span class="line">ï¼ˆç”µä¿¡æ¨èç™¾åº¦äº‘åˆä½œipï¼‰</span><br><span class="line">162.159.208.4-162.159.208.103</span><br><span class="line">162.159.209.4-162.159.209.103</span><br><span class="line">162.159.210.4-162.159.210.103</span><br><span class="line">162.159.211.4-162.159.211.103</span><br></pre></td></tr></table></figure><ul><li>é€‚åˆç”µä¿¡çš„èŠ‚ç‚¹</li></ul><p>104.23.240.*<br>èµ°æ¬§æ´²å„å›½å‡ºå£ è‹±å›½å¾·å›½è·å…°ç­‰ å»¶è¿Ÿæ¯”ç¾å›½é«˜ä¸€äº› é€‚åˆæºç«™åœ¨æ¬§æ´²çš„ç½‘ç«™<br>172.64.32.*<br>è™½ç„¶å»ç¨‹èµ°æ–°åŠ å¡ï¼Œä½†æ˜¯å›ç¨‹çº¿è·¯çš„ç»•è·¯çš„ï¼Œå®é™…æ•ˆæœä¸å¥½ï¼Œä¸æ¨è<br>104.16.160.*<br>åœ£ä½•å¡çš„çº¿è·¯ï¼Œæ¯”æ´›æ‰çŸ¶è¦å¿«ä¸€ç‚¹ï¼Œæ¨è<br>108.162.236.*<br>äºšç‰¹å…°å¤§çº¿è·¯ï¼Œå»¶è¿Ÿç¨³å®šï¼Œä½†æ˜¯å»¶è¿Ÿè¾ƒé«˜</p><ul><li>é€‚åˆç§»åŠ¨çš„èŠ‚ç‚¹</li></ul><p>162.158.133.* èµ°çš„ä¸¹éº¦ï¼Œè¿™ä¸€æ®µipåªæœ‰éƒ¨åˆ†èƒ½ç”¨ï¼Œå¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚ç»•ç¾å›½ã€‚<br>198.41.214.*<br>198.41.212.*<br>198.41.208.*<br>198.41.209.*<br>172.64.32.*<br>141.101.115.*<br>ç§»åŠ¨èµ°é¦™æ¸¯çš„IPæ®µæœ‰å¾ˆå¤šï¼Œä»¥ä¸Šå¹¶ä¸æ˜¯å…¨éƒ¨ã€‚CFç§»åŠ¨èµ°é¦™æ¸¯çš„åˆ†ç›´è¿å’Œèµ°nttçš„æ•ˆæœéƒ½æŒºä¸é”™çš„ï¼Œä¸è¿‡éƒ¨åˆ†åœ°åŒºæ™šä¸Šè¿˜æ˜¯ä¼šä¸¢åŒ…ã€‚<br>172.64.0. è¿™æ˜¯èµ°åœ£ä½•å¡çš„ï¼Œä¸€èˆ¬ç”¨é¦™æ¸¯çš„å°±è¡Œ<br>172.64.16.* æ¬§æ´²çº¿è·¯.ç»•</p><p>1.0.0.1æ•ˆæœè¾ƒå¥½</p><ul><li>ç”µä¿¡éƒ¨åˆ†</li></ul><p>å¤§å¤šæ•°çœç›´æ¥ä½¿ç”¨1.0.0.0å³å¯ï¼Œå»¶è¿Ÿä½ï¼Œä¸¢åŒ…å°‘ï¼Œ<br>å°‘éƒ¨åˆ†è¿˜æ˜¯éœ€è¦æ¢ip</p><p>æ–°åŠ å¡<br>172.64.32.0-172.64.47.254</p><p>ç§»åŠ¨éƒ¨åˆ†<br>æ–°åŠ å¡<br>104.18.48.0-104.18.63.255<br>104.24.112.0-104.24.127.255<br>104.27.128.0-104.27.143.255<br>104.28.0.0-104.28.15.255</p><ul><li>ç§»åŠ¨éƒ¨åˆ†</li></ul><p>åœ£ä½•å¡ cogentco.com<br>104.28.16.0-31.255<br>104.27.144.0-243.254<br>104.23.240.0-243.254</p><p>é¦™æ¸¯cloudflare1-100g.hkix.net<br>å¤§éƒ¨åˆ†éƒ½æ˜¯è¿™ä¸ªé€šé“<br>1.0.0.0-254<br>1.1.1.0-254<br>66.235.200.0-254 æ­¤æ®µä¸ºIPOWER.COM endurance.comä¸“ç”¨ï¼Œæœ‰å¯èƒ½è¢«è·³è½¬åˆ°IPOWER.COM endurance.comé¡µé¢<br>104.16.80.0-95.255<br>104.16.175.255-104.16.191.255</p><p>é¦™æ¸¯ç›´è¿<br>23.227.63.0-254 æ­¤æ®µä¸ºshopify.comä¸“ç”¨ï¼Œæœ‰å¯èƒ½è¢«è·³è½¬åˆ°shopify.comé¡µé¢<br>104.16.0.0-79.255<br>104.16.96.0-175.254<br>104.16.192.0-207.255</p><p>æ–°åŠ å¡ ae-0.cloudflare.sngpsi07.sg.bb.gin.ntt.net<br>éƒ½ä»é¦™æ¸¯nttè½¬å‘<br>104.28.0.0-15.255</p><ul><li>è”é€šéƒ¨åˆ†</li></ul><p>ä¼¦æ•¦ cloudflare-gw.cr10-lon1.ip4.gtt.net<br>172.64.19.16</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cloudflareæ­å»ºgoogleäº‘ç«¯ç¡¬ç›˜ç´¢å¼•</title>
      <link href="posts/1225a85c/"/>
      <url>posts/1225a85c/</url>
      
        <content type="html"><![CDATA[<h1 id="Goindexå®‰è£…ä½¿ç”¨"><a href="#Goindexå®‰è£…ä½¿ç”¨" class="headerlink" title="Goindexå®‰è£…ä½¿ç”¨"></a>Goindexå®‰è£…ä½¿ç”¨</h1><ul><li>é¡¹ç›®ï¼š <a href="https://github.com/imgyh/goindex-backup">https://github.com/imgyh/goindex-backup</a> <del><a href="https://github.com/donwa/goindex">https://github.com/donwa/goindex</a></del></li><li>æ¼”ç¤ºï¼š<a href="https://index.gd.workers.dev/">https://index.gd.workers.dev/</a></li><li>æ•ˆæœï¼š<a href="https://gd.gyh.workers.dev/">https://gd.gyh.workers.dev/</a></li><li>ç»‘åŸŸåï¼š<a href="https://gd.0941314.xyz/">https://gd.0941314.xyz/</a></li></ul><h2 id="ä¸¤ç§éƒ¨ç½²æ–¹å¼"><a href="#ä¸¤ç§éƒ¨ç½²æ–¹å¼" class="headerlink" title="ä¸¤ç§éƒ¨ç½²æ–¹å¼"></a>ä¸¤ç§éƒ¨ç½²æ–¹å¼</h2><p>GoIndexæ”¯æŒä¸¤ç§å®‰è£…éƒ¨ç½²æ–¹æ¡ˆï¼šæ¨èç¬¬äºŒç§æ¯”è¾ƒç®€å•</p><p>å®‰è£…éƒ¨ç½²æ–¹æ¡ˆ1ï¼Œæ­¤æ–¹æ¡ˆé€‚åˆåŠ¨æ‰‹èƒ½åŠ›æ¯”è¾ƒå¼ºï¼Œå¯¹å®‰å…¨æ€§è¦æ±‚é«˜çš„åŒå­¦ä½¿ç”¨ã€‚</p><ol><li>åœ¨æœ¬åœ°å®‰è£… rcloneã€‚</li><li>æŒ‰ç…§ <a href="https://rclone.org/drive/">https://rclone.org/drive/</a> æµç¨‹è¿›è¡Œæˆæƒã€‚</li><li>æ‰§è¡Œ rclone config file æŸ¥çœ‹ rclone.conf è·¯å¾„ã€‚æ‰¾åˆ°root_folder_idå’Œrefresh_tokenè®°å½•ä¸‹æ¥ã€‚</li><li>ä¸‹è½½ <a href="https://github.com/imgyh/goindex-backup">https://github.com/imgyh/goindex-backup</a> <del><a href="https://github.com/donwa/goindex">https://github.com/donwa/goindex</a></del> ä¸­çš„ index.js å¹¶å¡«å…¥ root å’Œ refresh_token</li><li>å¤åˆ¶ä»£ç  åˆ° CloudFlare éƒ¨ç½²ã€‚</li></ol><p>å®‰è£…éƒ¨ç½²æ–¹æ¡ˆ2ã€‚ä½œè€…ä¸ä¼šè®°å½•<code>refresh_token</code>ï¼Œä½†ä¸ºé¿å…çº çº·ï¼Œå»ºè®®æœ‰æ¡ä»¶çš„åŒå­¦ä½¿ç”¨æ–¹æ¡ˆ1è¿›è¡Œéƒ¨ç½²</p><ol><li>è®¿é—®ï¼š<a href="https://install.gd.workers.dev/">https://install.gd.workers.dev/</a></li><li>æˆæƒè®¤è¯åï¼Œç”Ÿæˆéƒ¨ç½²ä»£ç ã€‚</li><li>å¤åˆ¶ä»£ç  åˆ° <code>CloudFlare</code> éƒ¨ç½²ã€‚</li></ol><blockquote><p>ç”±äºgoindexçš„ä½œè€…åˆ åº“äº†ï¼Œæ‰€ä»¥å¤åˆ¶çš„ä»£ç éœ€è¦ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä¿®æ”¹å¥½çš„<code>index.js</code>ã€‚ <a href="https://github.com/imgyh/goindex-backup">ä»“åº“åœ°å€</a></p></blockquote><p>ç‚¹å‡»ä½ çš„ç¡¬ç›˜ï¼Œæœ€åçš„<code>ID</code>å°±æ˜¯æ‰€éœ€è¦å¡«å†™çš„<code>ç›®å½•ID</code><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200416220930.png"></p><h1 id="éƒ¨ç½²åˆ°cloudflare-wokers"><a href="#éƒ¨ç½²åˆ°cloudflare-wokers" class="headerlink" title="éƒ¨ç½²åˆ°cloudflare wokers"></a>éƒ¨ç½²åˆ°cloudflare wokers</h1><p>é¦–å…ˆç™»å½•<code>cloudflare</code>ï¼Œå®˜ç½‘â†’<a href="https://www.cloudflare.com/">ä¼ é€é—¨</a>ï¼Œç„¶åçœ‹åˆ°<code>Workers</code>å…¥å£ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419150725.png"></p><p>æ¥ä¸‹æ¥ç‚¹å‡»<code>Create a Worker</code>åˆ›å»ºä¸€ä¸ª<code>Worker</code>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419150854.png"></p><p>æŠŠä½ ä¹‹å‰è·å–çš„<code>Workers</code>ä»£ç ç²˜è´´è¿›å»ï¼Œç„¶åå¯ä»¥åœ¨å·¦ä¸Šè§’åŒå‡»ä¿®æ”¹åŸŸåï¼Œå†ç‚¹å‡»<code>Save and Deploy</code>å³å¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419151031.png"></p><p>æœ€åæ‰“å¼€åˆ†é…çš„å­åŸŸåå³å¯ï¼Œæ­¤åä¿®æ”¹é…ç½®å¯ä»¥è‡ªè¡Œä¿®æ”¹Workersä»£ç </p><h1 id="APIéƒ¨ç½²"><a href="#APIéƒ¨ç½²" class="headerlink" title="APIéƒ¨ç½²"></a>APIéƒ¨ç½²</h1><p>è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„<code>API</code>éƒ¨ç½²ï¼Œå¥½å¤„å°±æ˜¯å®‰å…¨ç‚¹ï¼Œé«˜å³°æœŸä¹Ÿä¸å®¹æ˜“çˆ†ç‚¸ï¼Œå½“ç„¶å®‰è£…ä¼šéº»çƒ¦ç‚¹ï¼Œå¦‚æœä¸ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿˜æ˜¯å»ºè®®ç”¨ä¸Šé¢çš„æ–¹æ³•å¿«é€Ÿéƒ¨ç½²ã€‚</p><p>1ã€è·å–GDriveå®¢æˆ·ç«¯</p><p>å…ˆå¯ç”¨<code>Google Drive API</code>ï¼Œå¯ç”¨åœ°å€ï¼š<a href="https://console.developers.google.com/apis/api/drive.googleapis.com/overview">ç‚¹å‡»è¿›å…¥</a>ï¼Œæ³¨æ„è¿™é‡Œä½¿ç”¨ä¸ªäººè´¦å·æ“ä½œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419151401.png"></p><p>å†åˆ›å»ºä¸€ä¸ª<code>OAuth client ID</code>ï¼Œåˆ›å»ºåœ°å€ï¼š<a href="https://console.developers.google.com/apis/credentials/oauthclient">ç‚¹å‡»è¿›å…¥</a>ã€‚åº”ç”¨ç±»å‹é€‰æ‹©å…¶ä»–(<code>Other</code>)ï¼Œåç§°è‡ªå·±å¡«ï¼Œè¿™é‡Œåšä¸»å¡«çš„<code>GoIndex</code>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419153237.png"></p><p>ç„¶åä½ ä¼šè·å¾—è‡ªå·±çš„å®¢æˆ·ç«¯IDå’Œå®¢æˆ·ç«¯å¯†é’¥ï¼Œå†å¤åˆ¶ä¸‹æ¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200419155819.png"></p><p>2ã€è·å–refresh_token</p><p>è¿™é‡Œä½¿ç”¨<code>Rclone</code>æ¥è·å–<code>refresh_token</code>ï¼Œå…ˆç™»å½•<code>VPS</code>,å†å®‰è£…<code>Rclone</code>ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;rclone.org&#x2F;install.sh | bash</span><br></pre></td></tr></table></figure><p>å¼€å§‹é…ç½®ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>ä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">n) New remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">n&#x2F;s&#x2F;q&gt; n</span><br><span class="line">name&gt; Rats  #é…ç½®åç§°ï¼Œéšä¾¿å¡«</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; 1Fichier</span><br><span class="line">   \ &quot;fichier&quot;</span><br><span class="line"> 2 &#x2F; Alias for an existing remote</span><br><span class="line">   \ &quot;alias&quot;</span><br><span class="line"> 3 &#x2F; Amazon Drive</span><br><span class="line">   \ &quot;amazon cloud drive&quot;</span><br><span class="line"> 4 &#x2F; Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ &quot;s3&quot;</span><br><span class="line"> 5 &#x2F; Backblaze B2</span><br><span class="line">   \ &quot;b2&quot;</span><br><span class="line"> 6 &#x2F; Box</span><br><span class="line">   \ &quot;box&quot;</span><br><span class="line"> 7 &#x2F; Cache a remote</span><br><span class="line">   \ &quot;cache&quot;</span><br><span class="line"> 8 &#x2F; Dropbox</span><br><span class="line">   \ &quot;dropbox&quot;</span><br><span class="line"> 9 &#x2F; Encrypt&#x2F;Decrypt a remote</span><br><span class="line">   \ &quot;crypt&quot;</span><br><span class="line">10 &#x2F; FTP Connection</span><br><span class="line">   \ &quot;ftp&quot;</span><br><span class="line">11 &#x2F; Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ &quot;google cloud storage&quot;</span><br><span class="line">12 &#x2F; Google Drive</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line">13 &#x2F; Google Photos</span><br><span class="line">   \ &quot;google photos&quot;</span><br><span class="line">14 &#x2F; Hubic</span><br><span class="line">   \ &quot;hubic&quot;</span><br><span class="line">15 &#x2F; JottaCloud</span><br><span class="line">   \ &quot;jottacloud&quot;</span><br><span class="line">16 &#x2F; Koofr</span><br><span class="line">   \ &quot;koofr&quot;</span><br><span class="line">17 &#x2F; Local Disk</span><br><span class="line">   \ &quot;local&quot;</span><br><span class="line">18 &#x2F; Mega</span><br><span class="line">   \ &quot;mega&quot;</span><br><span class="line">19 &#x2F; Microsoft Azure Blob Storage</span><br><span class="line">   \ &quot;azureblob&quot;</span><br><span class="line">20 &#x2F; Microsoft OneDrive</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line">21 &#x2F; OpenDrive</span><br><span class="line">   \ &quot;opendrive&quot;</span><br><span class="line">22 &#x2F; Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ &quot;swift&quot;</span><br><span class="line">23 &#x2F; Pcloud</span><br><span class="line">   \ &quot;pcloud&quot;</span><br><span class="line">24 &#x2F; Put.io</span><br><span class="line">   \ &quot;putio&quot;</span><br><span class="line">25 &#x2F; QingCloud Object Storage</span><br><span class="line">   \ &quot;qingstor&quot;</span><br><span class="line">26 &#x2F; SSH&#x2F;SFTP Connection</span><br><span class="line">   \ &quot;sftp&quot;</span><br><span class="line">27 &#x2F; Union merges the contents of several remotes</span><br><span class="line">   \ &quot;union&quot;</span><br><span class="line">28 &#x2F; Webdav</span><br><span class="line">   \ &quot;webdav&quot;</span><br><span class="line">29 &#x2F; Yandex Disk</span><br><span class="line">   \ &quot;yandex&quot;</span><br><span class="line">30 &#x2F; http Connection</span><br><span class="line">   \ &quot;http&quot;</span><br><span class="line">31 &#x2F; premiumize.me</span><br><span class="line">   \ &quot;premiumizeme&quot;</span><br><span class="line">Storage&gt; 12  #é€‰æ‹©12ï¼ŒGoogle Drive</span><br><span class="line">client_id&gt; 850428  #å¡«ä¸Šä½ çš„Google Driveå®¢æˆ·ç«¯ID</span><br><span class="line">client_secret&gt; D72gPc  #å¡«ä¸Šä½ çš„Google Driveå®¢æˆ·ç«¯å¯†åŒ™</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; Full access all files, excluding Application Data Folder.</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line"> 2 &#x2F; Read-only access to file metadata and file contents.</span><br><span class="line">   \ &quot;drive.readonly&quot;</span><br><span class="line">   &#x2F; Access to files created by rclone only.</span><br><span class="line"> 3 | These are visible in the drive website.</span><br><span class="line">   | File authorization is revoked when the user deauthorizes the app.</span><br><span class="line">   \ &quot;drive.file&quot;</span><br><span class="line">   &#x2F; Allows read and write access to the Application Data folder.</span><br><span class="line"> 4 | This is not visible in the drive website.</span><br><span class="line">   \ &quot;drive.appfolder&quot;</span><br><span class="line">   &#x2F; Allows read-only access to file metadata but</span><br><span class="line"> 5 | does not allow any access to read or download file content.</span><br><span class="line">   \ &quot;drive.metadata.readonly&quot;</span><br><span class="line">scope&gt; 1 </span><br><span class="line">ID of the root folder</span><br><span class="line">Leave blank normally.</span><br><span class="line">Fill in to access &quot;Computers&quot; folders. (see docs).</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">root_folder_id&gt; #å›è½¦</span><br><span class="line">Service Account Credentials JSON file path </span><br><span class="line">Leave blank normally.</span><br><span class="line">Needed only if you want use SA instead of interactive login.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">service_account_file&gt; #å›è½¦</span><br><span class="line">Edit advanced config? (y&#x2F;n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #è¾“å…¥n</span><br><span class="line">Remote config</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #è¾“å…¥n</span><br><span class="line">If your browser doesn&#39;t open automatically go to the following link: https:&#x2F;&#x2F;accounts.google.com&#x2F;o&#x2F;  #æ‰“å¼€è¯¥åœ°å€è·å–code</span><br><span class="line">Log in and authorize rclone for access</span><br><span class="line">Enter verification code&gt;hjdd   #è¾“å…¥ä½ è·å–åˆ°çš„code</span><br><span class="line">Configure this as a team drive?</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n  #è¾“å…¥n</span><br><span class="line">--------------------</span><br><span class="line">[Rats]</span><br><span class="line">type &#x3D; drive</span><br><span class="line">client_id &#x3D; 85042871</span><br><span class="line">client_secret &#x3D; D72gPc</span><br><span class="line">scope &#x3D; drive</span><br><span class="line">token &#x3D; &#123;&quot;access_token&quot;:&quot;y902Z&quot;&#125;  #è®°ä½é‡Œé¢çš„refresh_tokenå‚æ•°</span><br><span class="line">--------------------</span><br><span class="line">y) Yes this is OK</span><br><span class="line">e) Edit this remote</span><br><span class="line">d) Delete this remote</span><br><span class="line">y&#x2F;e&#x2F;d&gt; y  #è¾“å…¥y</span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">Rats                 drive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; q  #è¾“å…¥qä¿å­˜é€€å‡º</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬åœ¨é…ç½®è¿‡ç¨‹ä¸­å°±è·å–åˆ°äº†<code>refresh_token</code>å‚æ•°ï¼Œå¦‚æœå¿˜äº†çš„å¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶ã€‚</p><p>ä¸çŸ¥é“é…ç½®æ–‡ä»¶åœ¨å“ªçš„ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config file | grep rclone.conf</span><br></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹Workersä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å¡«ä¸Šè‡ªå·±çš„apiå®¢æˆ·ç«¯ï¼Œå¯†åŒ™å’Œè·å–åˆ°çš„refresh_token</span><br><span class="line">â€œclient_idâ€ï¼šâ€œ20226481â€ï¼Œ</span><br><span class="line">â€œclient_secretâ€ï¼šâ€œX4Z3ca8â€ï¼Œ</span><br><span class="line">â€œrefresh_tokenâ€ï¼šâ€œâ€ï¼Œ</span><br></pre></td></tr></table></figure><p>æœ€åå°±å¯ä»¥éƒ¨ç½²<code>Workers</code>ä»£ç äº†ï¼Œæ–¹æ³•å‚è€ƒä¸Šé¢çš„å¿«é€Ÿéƒ¨ç½²ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
            <tag> Goindex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>qBittorrentä¸€é”®å®‰è£…è„šæœ¬</title>
      <link href="posts/6c9f7751/"/>
      <url>posts/6c9f7751/</url>
      
        <content type="html"><![CDATA[<h1 id="PTå·¥å…·å®‰è£…è„šæœ¬"><a href="#PTå·¥å…·å®‰è£…è„šæœ¬" class="headerlink" title="PTå·¥å…·å®‰è£…è„šæœ¬"></a>PTå·¥å…·å®‰è£…è„šæœ¬</h1><blockquote><p>2020.7.16æ›´æ–°ï¼Œè¿™ä¸ª<code>Github</code>é¡¹ç›®åŒ…å«äº†å‡ ä¹æ‰€æœ‰çš„PTå·¥å…·è„šæœ¬ï¼Œå…¶ä¸­<code>qBittorrent</code>å¯ä»¥ä½¿ç”¨<code>debåŒ…</code>å®‰è£…æœ€æ–°ç‰ˆ,æˆ–é™æ€ç¼–è¯‘å¥½çš„æ¥è¿›è¡Œå®‰è£…ã€‚è„šæœ¬ç›®å‰æ”¯æŒ <code>Debian 9/10</code>, <code>Ubuntu 16.04/18.04</code>. æ¨èä½¿ç”¨ <code>Debian 10</code> æˆ– <code>Ubuntu 18.04</code>ã€‚</p></blockquote><p><a href="https://github.com/Aniverse/inexistence">https://github.com/Aniverse/inexistence</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- https:&#x2F;&#x2F;github.com&#x2F;Aniverse&#x2F;inexistence&#x2F;raw&#x2F;master&#x2F;inexistence.sh)</span><br></pre></td></tr></table></figure><h1 id="Centoså®‰è£…è„šæœ¬"><a href="#Centoså®‰è£…è„šæœ¬" class="headerlink" title="Centoså®‰è£…è„šæœ¬"></a>Centoså®‰è£…è„šæœ¬</h1><p>ä»Šå¤©çš„è¿™ä¸ªä¸€é”®å®‰è£…è„šæœ¬æ˜¯å®‰è£…çš„<code>4.1.1</code>ç‰ˆæœ¬ï¼Œç°åœ¨æœ‰æ›´æ–°ç‰ˆæœ¬çš„äº†ï¼Œä½†æˆ‘çš„vpsé…ç½®è¾ƒä½ï¼Œè¿™åˆæœ‰ç°æˆè„šæœ¬ï¼Œæ‰€ä»¥å°±ç”¨è¿™ä¸ªè„šæœ¬éƒ¨ç½²äº†</p><blockquote><p>è„šæœ¬ä»…æ”¯æŒCentOS7ï¼Œ64ä½ç³»ç»Ÿï¼ï¼ï¼è¯·ä½¿ç”¨çº¯å‡€çš„ç³»ç»Ÿå®‰è£…ï¼ï¼ï¼è¯·ä½¿ç”¨ROOTç”¨æˆ·æ‰§è¡Œè„šæœ¬ï¼ï¼ï¼</p></blockquote><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;lala.im&#x2F;static&#x2F;script&#x2F;qBittorrentCentOS7install.sh &amp;&amp; chmod +x qBittorrentCentOS7install.sh</span><br><span class="line">.&#x2F;qBittorrentCentOS7install.sh</span><br></pre></td></tr></table></figure><p>å› ä¸ºç¼–è¯‘<code>libtorrent</code>çš„æ—¶å€™éœ€è¦ç”¨åˆ°å¤§é‡çš„å†…å­˜ï¼Œå°äº<code>2GB</code>çš„æœºå™¨å¯èƒ½ä¼šå› ä¸ºå†…å­˜ä¸è¶³å¯¼è‡´è¿›ç¨‹è¢«æ€æ‰ï¼Œæ‰€ä»¥åœ¨è„šæœ¬å†…åŠ äº†ä¸€ä¸ªåˆ›å»º<code>swap</code>çš„åŠŸèƒ½ã€‚åˆ›å»ºçš„swapæ–‡ä»¶ä¿å­˜åœ¨<code>/var</code>ç›®å½•ä¸‹ï¼Œå®‰è£…å®Œæˆä¹‹åå¯ä»¥è‡ªå·±æ‰‹åŠ¨åˆ é™¤æ‰ã€‚</p><p>å¦å¤–å› ä¸º<code>libtorrent</code>ç¼–è¯‘éœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæˆ‘åŠ äº†ä¸€ä¸ªè®¾ç½®ç¼–è¯‘æ—¶ä½¿ç”¨å¤šä¸ª<code>CPU</code>çº¿ç¨‹çš„åŠŸèƒ½ï¼Œæ ¹æ®ä½ è‡ªå·±æœºå™¨çš„<code>CPU</code>æ ¸å¿ƒæ•°æ¥è®¾ç½®å°±è¡Œäº†ï¼Œæ¯”å¦‚ä½ æ˜¯ä¸€ä¸ª4æ ¸å¿ƒçš„æœºå™¨ï¼Œåœ¨è„šæœ¬å†…è¾“å…¥4ï¼Œé‚£ä¹ˆç¼–è¯‘çš„é€Ÿåº¦ä¼šå˜å¿«å¾ˆå¤šï¼</p><p>è„šæœ¬ä¼šå¸®ä½ å®‰è£…å¦‚ä¸‹è½¯ä»¶ï¼š</p><ul><li>qBittorrent4.1.1</li><li>libtorrent1.1.9ï¼ˆ<a href="https://github.com/arvidn/libtorrent/releases/%EF%BC%89">https://github.com/arvidn/libtorrent/releases/ï¼‰</a></li></ul><p>å›æ˜¾å†…å®¹ï¼š</p><ul><li>qBittorrentWEBåœ°å€ï¼šä½ çš„æœºå™¨å…¬ç½‘IP+ç«¯å£8080</li><li>WEBè´¦å·ï¼šadmin</li><li>WEBå¯†ç ï¼šadminadmin</li></ul><p>ç®¡ç†å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start qbittorrent</span><br><span class="line">systemctl stop qbittorrent</span><br><span class="line">systemctl restart qbittorrent</span><br></pre></td></tr></table></figure><h1 id="Ubuntuå®‰è£…æ•™ç¨‹"><a href="#Ubuntuå®‰è£…æ•™ç¨‹" class="headerlink" title="Ubuntuå®‰è£…æ•™ç¨‹"></a>Ubuntuå®‰è£…æ•™ç¨‹</h1><ul><li>å®‰è£…å¿…è¦ä¾èµ–</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install software-properties-common</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ qBittorrentçš„æº</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository ppa:qbittorrent-team&#x2F;qbittorrent-stable</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…qBittorrent</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install qbittorrent-nox</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨qBittorrent</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox</span><br></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥â€œyâ€åŒæ„æ¡æ¬¾ï¼Œå³å¯å¯åŠ¨</p><p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ–­å¼€äº†sshè¿æ¥ï¼Œæˆ–è€…æŒ‰äº†ctrl+cçš„è¯æœåŠ¡å°±ä¼šåœæ­¢ï¼Œæ‰€ä»¥è¦åˆ›å»ºä¸€ä¸ªç³»ç»ŸæœåŠ¡ã€‚</p><ul><li>åˆ›å»ºæœåŠ¡æ–‡ä»¶</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;qbittorrent-nox.service</span><br></pre></td></tr></table></figure><p>åœ¨é‡Œé¢å†™å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;qBittorrent Daemon Service</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">#UMask&#x3D;000</span><br><span class="line">Type&#x3D;forking</span><br><span class="line">LimitNOFILE&#x3D;infinity</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;qbittorrent-nox -d â€“webui-port&#x3D;8080</span><br><span class="line">ExecStop&#x3D;&#x2F;usr&#x2F;bin&#x2F;killall -s 9 &#x2F;usr&#x2F;bin&#x2F;qbittorrent-nox</span><br><span class="line">Restart&#x3D;on-failure</span><br><span class="line">#TimeoutSec&#x3D;300</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure><ul><li>ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤</li></ul><p>å¯åŠ¨æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start qbittorrent-nox</span><br></pre></td></tr></table></figure><p>ä¿å­˜ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>å¼€æœºè‡ªå¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable qbittorrent-nox</span><br></pre></td></tr></table></figure><p>æ£€éªŒä¸€ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status qbittorrent-nox</span><br></pre></td></tr></table></figure><p>å¦‚æœäº®ç»¿ç¯è¯æ˜æœåŠ¡å·²æ­£å¸¸è¿è¡Œã€‚<br>å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ qbittorrent-nox è¿™ä¸ªå‘½ä»¤è¿è¡Œå¹¶è®¾ç½®äº†ä¸€äº›ä¸œè¥¿ï¼Œè®¾ç½®å°†ä¸å†ç”Ÿæ•ˆã€‚<br>è®¿é—®æœåŠ¡å™¨IP:8080å³å¯è¿›å…¥webç•Œé¢ã€‚</p><p>qbittorrentç½‘é¡µç™»å½•å¯†ç ï¼š<br>è´¦å·ï¼šadmin<br>å¯†ç ï¼šadminadmin</p><p>æœ€åæ¥è®¾ç½®ä¸€ä¸‹qBittorrentï¼š<br>è¿›å…¥è®¾ç½®ï¼Œ<br>åœ¨Webè®¾ç½®é‡Œæ›´æ”¹è¯­è¨€å’Œå¯†ç ã€‚<br>æŠŠBitTorrent-Torrentæ’é˜Ÿçš„å‹¾ç»™ç‚¹æ‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qBittorrent </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>onedriveä¸Šä¼ å·¥å…·-æ”¯æŒå¤šçº¿ç¨‹æ–‡ä»¶æ–‡ä»¶å¤¹ä¸Šä¼ </title>
      <link href="posts/39508e15/"/>
      <url>posts/39508e15/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ¬è¿è‡ª<a href="https://www.moerats.com/archives/1006/">èŒé¼ å¤§ä½¬</a></p><ul><li>åœ¨<a href="/posts/79e427dd/" title="è‡ªå»ºaria2ç¦»çº¿ä¸‹è½½-è‡ªåŠ¨ä¸Šä¼ onedriveäº‘ç›˜">è‡ªå»ºaria2ç¦»çº¿ä¸‹è½½-è‡ªåŠ¨ä¸Šä¼ onedriveäº‘ç›˜</a>è¿™ç¯‡æ–‡ç« ä¸­ä»‹ç»äº†<code>rclone</code>ä¸Šä¼ <code>onedrive</code>çš„æ–¹æ³•ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€å¤©ï¼Œå‘ç°æ–‡ä»¶å¤šäº†ä¹‹åä¼šå‡ºç°ä¸Šä¼ ä¸ä¸Šå»çš„ç°è±¡ã€‚æ‰€ä»¥å¼ƒç”¨åŸæ¥çš„æ–¹æ¡ˆã€‚</li></ul><p><a href="https://moeclub.org/">èŒå’–</a>ä½¿ç”¨<code>Golang</code>åŸºäºæ–°çš„<code>API</code>å†™äº†ä¸ªæ•ˆç‡æ›´é«˜çš„ä¸Šä¼ å·¥å…·â€“<code>OneDriveUploader</code>ï¼ŒåŒæ—¶ä¹Ÿä¿®å¤äº†å„ç§<code>Shell</code>ç‰ˆæœ¬é—ç•™ä¸‹æ¥çš„å°é—®é¢˜ï¼Œè¯¥ç‰ˆæœ¬ç‰¹ç‚¹å°±æ˜¯æˆæƒç®€å•ï¼Œæ— éœ€ä¾èµ–ï¼Œå•æ–‡ä»¶ã€‚åŒæ ·çš„ä¹Ÿå¯ä»¥é…åˆ<code>Aria2</code>ä¸€èµ·è‡ªåŠ¨ä¸Šä¼ ï¼Œè¿™é‡Œå°±å†åˆ†äº«ä¸‹ï¼Œæ–¹ä¾¿ä¸‹æœ‰éœ€æ±‚çš„äººã€‚</p><ul><li>æ”¯æŒä¸Šä¼ æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ°æŒ‡å®šç›®å½•ï¼Œå¹¶ä¿æŒä¸Šä¼ å‰çš„ç›®å½•ç»“æ„ã€‚</li><li>æ”¯æŒå‘½ä»¤å‚æ•°ä½¿ç”¨ï¼Œæ–¹ä¾¿å¤–éƒ¨ç¨‹åºè°ƒç”¨ã€‚</li><li>æ”¯æŒè‡ªå®šä¹‰ä¸Šä¼ åˆ†å—å¤§å°ã€‚</li><li>æ”¯æŒå¤šçº¿ç¨‹ä¸Šä¼ (å¤šæ–‡ä»¶åŒæ—¶ä¸Šä¼ )ã€‚</li><li>æ”¯æŒæ ¹æ®æ–‡ä»¶å¤§å°åŠ¨æ€è°ƒæ•´é‡è¯•æ¬¡æ•°ï¼Œå¯¹æŠ—ä¸å¥½çš„ç½‘ç»œç¯å¢ƒã€‚</li></ul><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>Githubåœ°å€ï¼š<a href="https://github.com/MoeClub/OneList/tree/master/OneDriveUploader">https://github.com/MoeClub/OneList/tree/master/OneDriveUploader</a></p><p>1ã€æˆæƒè®¤è¯</p><p>ç‚¹å‡»å³ä¾§<code>URL</code>ç™»å½•å¹¶æˆæƒï¼Œæˆæƒåœ°å€â†’<a href="https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=78d4dc35-7e46-42c6-9023-2d39314433a5&response_type=code&redirect_uri=http://localhost/onedrive-login&response_mode=query&scope=offline_access%20User.Read%20Files.ReadWrite.All">ã€å›½é™…ç‰ˆã€ä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ)ã€‘</a>ã€<a href="https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize?client_id=dfe36e60-6133-48cf-869f-4d15b8354769&response_type=code&redirect_uri=http://localhost/onedrive-login&response_mode=query&scope=offline_access%20User.Read%20Files.ReadWrite.All">ã€ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”)ã€‘</a>ã€‚</p><p>æˆæƒåä¼šè·å–ä¸€ä¸ª<code>localhost</code>å¼€å¤´æ‰“ä¸å¼€çš„é“¾æ¥ï¼Œè¿™é‡Œå¤åˆ¶å¥½æ•´ä¸ªé“¾æ¥åœ°å€ï¼ŒåŒ…æ‹¬<code>localhost</code>ã€‚</p><p>2ã€å®‰è£…OneDriveUploader</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#64ä½ç³»ç»Ÿä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;OneDriveUploader&#x2F;amd64&#x2F;linux&#x2F;OneDriveUploader -P &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line">#32ä½ç³»ç»Ÿä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;OneDriveUploader&#x2F;i386&#x2F;linux&#x2F;OneDriveUploader -P &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line">#armæ¶æ„ä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;OneDriveUploader&#x2F;arm&#x2F;linux&#x2F;OneDriveUploader -P &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"></span><br><span class="line">#ç»™äºˆæƒé™</span><br><span class="line">chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;OneDriveUploader</span><br></pre></td></tr></table></figure><p>3ã€åˆå§‹åŒ–é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#å›½é™…ç‰ˆï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">OneDriveUploader -a &quot;url&quot;</span><br><span class="line"></span><br><span class="line">#ä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ)ï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">OneDriveUploader -ms -a &quot;url&quot;</span><br><span class="line"></span><br><span class="line">#ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”)ï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">OneDriveUploader -cn -a &quot;url&quot;</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤º<code>Init config file: /path/to/file/auth.json</code>ç±»ä¼¼ä¿¡æ¯ï¼Œåˆ™åˆå§‹åŒ–æˆåŠŸã€‚</p><p>4ã€ä½¿ç”¨å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Usage of OneDriveUploader:</span><br><span class="line">  -a string</span><br><span class="line">        &#x2F;&#x2F; åˆå§‹åŒ–æˆæƒ</span><br><span class="line">        Setup and Init auth.json.</span><br><span class="line">  -b string</span><br><span class="line">        &#x2F;&#x2F; è‡ªå®šä¹‰ä¸Šä¼ åˆ†å—å¤§å°, å¯ä»¥æé«˜ç½‘ç»œååé‡, å—é™äºç£ç›˜æ€§èƒ½å’Œç½‘ç»œé€Ÿåº¦.</span><br><span class="line">        Set block size. [Unit: M; 5&lt;&#x3D;b&lt;&#x3D;60;] (default &quot;10&quot;)</span><br><span class="line">  -c string</span><br><span class="line">        &#x2F;&#x2F; é…ç½®æ–‡ä»¶è·¯å¾„</span><br><span class="line">        Config file. (default &quot;auth.json&quot;)</span><br><span class="line">  -n string</span><br><span class="line">        &#x2F;&#x2F; ä¸Šä¼ å•ä¸ªæ–‡ä»¶æ—¶,åœ¨ç½‘ç›˜ä¸­é‡å‘½å</span><br><span class="line">        Rename file on upload to remote.</span><br><span class="line">  -r string</span><br><span class="line">        &#x2F;&#x2F; ä¸Šä¼ åˆ°ç½‘ç›˜ä¸­çš„æŸä¸ªç›®å½•, é»˜è®¤: æ ¹ç›®å½•</span><br><span class="line">        Upload to reomte path.</span><br><span class="line">  -s string</span><br><span class="line">        &#x2F;&#x2F; *å¿…è¦å‚æ•°, è¦ä¸Šä¼ çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</span><br><span class="line">        Upload item.</span><br><span class="line">  -t string</span><br><span class="line">        &#x2F;&#x2F; çº¿ç¨‹æ•°, åŒæ—¶ä¸Šä¼ æ–‡ä»¶çš„ä¸ªæ•°. é»˜è®¤: 2</span><br><span class="line">        Set thread num. (default &quot;2&quot;)</span><br><span class="line">  -f</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³(æ¨è)</span><br><span class="line">        &#x2F;&#x2F; åŠ ä¸Š -f å‚æ•°ï¼Œå¼ºåˆ¶è¯»å– auth.json ä¸­çš„å—å¤§å°é…ç½®å’Œå¤šçº¿ç¨‹é…ç½®.</span><br><span class="line">        &#x2F;&#x2F; ä¸åŠ  -f å‚æ•°, æ¯æ¬¡è¦†ç›–ä¿å­˜å½“å‰ä½¿ç”¨å‚æ•°åˆ° auth.json é…ç½®æ–‡ä»¶ä¸­.</span><br><span class="line">        Force Read config form config file. [BlockSize, ThreadNum]</span><br><span class="line">  -skip</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³</span><br><span class="line">        &#x2F;&#x2F; è·³è¿‡ä¸Šä¼ ç½‘ç›˜ä¸­å·²å­˜åœ¨çš„åŒåæ–‡ä»¶. (é»˜è®¤ä¸è·³è¿‡)</span><br><span class="line">        Skip exist file on remote.</span><br><span class="line">  -cn</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³</span><br><span class="line">        &#x2F;&#x2F; æˆæƒä¸­å›½ç‰ˆ(ä¸–çºªäº’è”), éœ€è¦æ­¤å‚æ•°.</span><br><span class="line">        OneDrive by 21Vianet.</span><br><span class="line">  -ms</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³</span><br><span class="line">        &#x2F;&#x2F; æˆæƒä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ), éœ€è¦æ­¤å‚æ•°.</span><br><span class="line">        OneDrive by Microsoft.</span><br></pre></td></tr></table></figure><p>5ã€å‘½ä»¤ç¤ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#å°†å½“å‰ç›®å½•ä¸‹çš„mm00.jpgæ–‡ä»¶ä¸Šä¼ åˆ°OneDriveç½‘ç›˜æ ¹ç›®å½•</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -s &quot;mm00.jpg&quot;</span><br><span class="line"></span><br><span class="line">#å°†å½“å‰ç›®å½•ä¸‹çš„mm00.jpgæ–‡ä»¶ä¸Šä¼ åˆ°OneDriveç½‘ç›˜æ ¹ç›®å½•ï¼Œå¹¶æ”¹åä¸ºmm01.jpg</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -s &quot;mm00.jpg&quot; -n &quot;mm01.jpg&quot;</span><br><span class="line"></span><br><span class="line">#å°†å½“å‰ç›®å½•ä¸‹çš„Downloadæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°OneDriveç½‘ç›˜æ ¹ç›®å½•</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -s &quot;Download&quot; </span><br><span class="line"></span><br><span class="line">#å°†å½“å‰ç›®å½•ä¸‹çš„Downloadæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°OneDriveç½‘ç›˜Testç›®å½•ä¸­</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -s &quot;Download&quot; -r &quot;Test&quot;</span><br><span class="line"></span><br><span class="line">#å°†åŒç›®å½•ä¸‹çš„Downloadæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°OneDrivç½‘ç›˜Testç›®å½•ä¸­ï¼Œä½¿ç”¨10çº¿ç¨‹</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -t 10 -s &quot;Download&quot; -r &quot;Test&quot;</span><br><span class="line"></span><br><span class="line">#å°†åŒç›®å½•ä¸‹çš„Downloadæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°OneDriveç½‘ç›˜Testç›®å½•ä¸­ï¼Œä½¿ç”¨15çº¿ç¨‹ï¼Œå¹¶è®¾ç½®åˆ†å—å¤§å°ä¸º20M</span><br><span class="line">OneDriveUploader -c &#x2F;path&#x2F;to&#x2F;file&#x2F;auth.json -t 15 -b 20 -s &quot;Download&quot; -r &quot;Test&quot;</span><br></pre></td></tr></table></figure><p><code>/path/to/file/auth.json</code>ä¸ºåˆå§‹åŒ–æ—¶ï¼Œç”Ÿæˆçš„<code>auth.json</code>ç»å¯¹è·¯å¾„åœ°å€ï¼Œæœ¬æ–‡é»˜è®¤<code>/root/auth.json</code>ï¼Œè‡ªè¡Œè°ƒæ•´ã€‚</p><p>ä¾‹å¦‚ï¼šä¸Šä¼ åˆ°OneDriveï¼Œè¿›å…¥è¦ä¸Šä¼ çš„æ–‡ä»¶/æ–‡ä»¶å¤¹æ‰€åœ¨çš„ç›®å½•ï¼Œè¾“å…¥<code>OneDriveUploader -c /root/auth.json -t 3 -b 20 -s &quot;æ–‡ä»¶å/æ–‡ä»¶å¤¹å&quot; -r &quot;offline&quot;</code></p><div class="note info flat"><p>æ³¨æ„ï¼šå¦‚æœä½ ä¹‹å‰ä¸Šä¼ æ‰‹åŠ¨ä¸­æ–­è¿‡ï¼Œå†ä¸Šä¼ çš„æ—¶å€™ï¼Œè¯·ä½¿ç”¨<code>-skip</code>å‚æ•°ï¼Œé»˜è®¤ä¼šè·³è¿‡ä½ å·²ç»ä¸Šä¼ è¿‡çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ã€‚</p></div><h1 id="Aria2è‡ªåŠ¨ä¸Šä¼ "><a href="#Aria2è‡ªåŠ¨ä¸Šä¼ " class="headerlink" title="Aria2è‡ªåŠ¨ä¸Šä¼ "></a>Aria2è‡ªåŠ¨ä¸Šä¼ </h1><p>ä¸Šä¼ è„šæœ¬ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">GID&#x3D;&quot;$1&quot;;</span><br><span class="line">FileNum&#x3D;&quot;$2&quot;;</span><br><span class="line">File&#x3D;&quot;$3&quot;;</span><br><span class="line">MaxSize&#x3D;&quot;15728640&quot;;</span><br><span class="line">Thread&#x3D;&quot;3&quot;;  #é»˜è®¤3çº¿ç¨‹ï¼Œè‡ªè¡Œä¿®æ”¹ï¼ŒæœåŠ¡å™¨é…ç½®ä¸å¥½çš„è¯ï¼Œä¸å»ºè®®å¤ªå¤š</span><br><span class="line">Block&#x3D;&quot;20&quot;;  #é»˜è®¤åˆ†å—20mï¼Œè‡ªè¡Œä¿®æ”¹</span><br><span class="line">RemoteDIR&#x3D;&quot;offline&quot;;  #ä¸Šä¼ åˆ°Onedriveçš„è·¯å¾„ï¼Œé»˜è®¤ä¸ºæ ¹ç›®å½•ï¼Œå¦‚æœè¦ä¸Šä¼ åˆ°MOERATSç›®å½•ï¼Œ&quot;&quot;é‡Œé¢è¯·å¡«æˆMOERATS</span><br><span class="line">LocalDIR&#x3D;&quot;&#x2F;data&#x2F;ccaaDown&#x2F;&quot;;  #Aria2ä¸‹è½½ç›®å½•ï¼Œè®°å¾—æœ€åé¢åŠ ä¸Š&#x2F;</span><br><span class="line">Uploader&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;OneDriveUploader&quot;;  #ä¸Šä¼ çš„ç¨‹åºå®Œæ•´è·¯å¾„ï¼Œé»˜è®¤ä¸ºæœ¬æ–‡å®‰è£…çš„ç›®å½•</span><br><span class="line">Config&#x3D;&quot;&#x2F;root&#x2F;auth.json&quot;;  #åˆå§‹åŒ–ç”Ÿæˆçš„é…ç½®auth.jsonç»å¯¹è·¯å¾„ï¼Œå‚è€ƒç¬¬3æ­¥éª¤ç”Ÿæˆçš„è·¯å¾„</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if [[ -z $(echo &quot;$FileNum&quot; |grep -o &#39;[0-9]*&#39; |head -n1) ]]; then FileNum&#x3D;&#39;0&#39;; fi</span><br><span class="line">if [[ &quot;$FileNum&quot; -le &#39;0&#39; ]]; then exit 0; fi</span><br><span class="line">if [[ &quot;$#&quot; !&#x3D; &#39;3&#39; ]]; then exit 0; fi</span><br><span class="line"></span><br><span class="line">function LoadFile()&#123;</span><br><span class="line">  if [[ ! -e &quot;$&#123;Uploader&#125;&quot; ]]; then return; fi</span><br><span class="line">  IFS_BAK&#x3D;$IFS</span><br><span class="line">  IFS&#x3D;$&#39;\n&#39;</span><br><span class="line">  tmpFile&#x3D;&quot;$(echo &quot;$&#123;File&#x2F;#$LocalDIR&#125;&quot; |cut -f1 -d&#39;&#x2F;&#39;)&quot;</span><br><span class="line">  FileLoad&#x3D;&quot;$&#123;LocalDIR&#125;$&#123;tmpFile&#125;&quot;</span><br><span class="line">  if [[ ! -e &quot;$&#123;FileLoad&#125;&quot; ]]; then return; fi</span><br><span class="line">  ItemSize&#x3D;$(du -s &quot;$&#123;FileLoad&#125;&quot; |cut -f1 |grep -o &#39;[0-9]*&#39; |head -n1)</span><br><span class="line">  if [[ -z &quot;$ItemSize&quot; ]]; then return; fi</span><br><span class="line">  if [[ &quot;$ItemSize&quot; -ge &quot;$MaxSize&quot; ]]; then</span><br><span class="line">    echo -ne &quot;\033[33m$&#123;FileLoad&#125; \033[0mtoo large to spik.\n&quot;;</span><br><span class="line">    return;</span><br><span class="line">  fi</span><br><span class="line">  $&#123;Uploader&#125; -c &quot;$&#123;Config&#125;&quot; -t &quot;$&#123;Thread&#125;&quot; -b &quot;$&#123;Block&#125;&quot; -s &quot;$&#123;FileLoad&#125;&quot; -r &quot;$&#123;RemoteDIR&#125;&quot; -skip</span><br><span class="line">  if [[ $? &#x3D;&#x3D; &#39;0&#39; ]]; then</span><br><span class="line">    rm -rf &quot;$&#123;FileLoad&#125;&quot;;</span><br><span class="line">  fi</span><br><span class="line">  IFS&#x3D;$IFS_BAK</span><br><span class="line">&#125;</span><br><span class="line">LoadFile;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å¥½ä¸Šä¼ è„šæœ¬åï¼Œå¯ä»¥æ£€æµ‹ä¸‹è„šæœ¬ç¼–ç æ˜¯å¦æ­£ç¡®ï¼Œæ¯”å¦‚æˆ‘è„šæœ¬è·¯å¾„ä¸º<code>/root/upload.sh</code>ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x &#x2F;root&#x2F;upload.sh</span><br><span class="line">bash &#x2F;root&#x2F;upload.sh</span><br></pre></td></tr></table></figure><p>å¦‚æœæ— ä»»ä½•è¾“å‡ºï¼Œåˆ™æ­£ç¡®ï¼Œåä¹‹è¾“å‡ºç±»ä¼¼<code>$&#39;r&#39;: command not found</code>é”™è¯¯ï¼Œåˆ™éœ€è¦è½¬æ¢ä¸‹ç¼–ç æ ¼å¼ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ã€‚</p><p>å…ˆå®‰è£…<code>dos2unix</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#CentOSç³»ç»Ÿ</span><br><span class="line">yum install dos2unix -y</span><br><span class="line"></span><br><span class="line">#Debian&#x2F;Ubuntuç³»ç»Ÿ</span><br><span class="line">apt install dos2unix -y</span><br></pre></td></tr></table></figure><p>å†è½¬æ¢ç¼–ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#åé¢ä¸ºè„šæœ¬è·¯å¾„</span><br><span class="line">dos2unix &#x2F;root&#x2F;upload.sh</span><br></pre></td></tr></table></figure><p>æœ€ååœ¨<code>aria2.conf</code>æœ€ååŠ å…¥<code>on-download-complete=/root/upload.sh</code>,å°±æ˜¯ä¸‹è½½å®Œæˆåï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œä¸Šä¼ åˆ°<code>onedrive</code></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OneDrive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆä¸€ä¸ªOneDriveç›®å½•ç´¢å¼•--onelist</title>
      <link href="posts/ee1b50a3/"/>
      <url>posts/ee1b50a3/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡è½¬è‡ª<a href="https://www.moerats.com/archives/1016/">èŒé¼ å¤§ä½¬</a></p><p><code>OneList</code>ä¸»è¦çš„ç‰¹è‰²å°±æ˜¯è§£å†³äº†å› <code>OneDrive API</code>æŠ½é£å¯¼è‡´çš„å¾ˆå¤šé—®é¢˜ï¼Œç¨³å®šæ€§å’Œè®¿é—®é€Ÿåº¦éƒ½æ˜¯ä¸é”™çš„ã€‚ä¸è¿‡ç”±äºä½¿ç”¨<code>Python</code>å†™çš„ï¼Œè€ŒPyå•çº¿ç¨‹å®¹æ˜“é˜»å¡ï¼Œå“åº”ä¸å¤Ÿè¿…é€Ÿï¼Œåˆ·æ–°ç¼“å­˜æ—¶ï¼ŒWebç«¯è¯·æ±‚åŸºæœ¬ä¸å¯ç”¨ï¼Œæ‰€ä»¥åœ¨æ•´ä½“æ€§èƒ½ä¸Šæœ‰ç‚¹ç‘•ç–µã€‚åŸºäº<code>Golang</code>çš„æ€§èƒ½æ›´å¥½ï¼Œæ•ˆç‡æ›´é«˜ï¼Œå¤šç›˜å¹¶å‘ç¼“å­˜ç­‰ä¼—å¤šå¥½å¤„ï¼Œäºæ˜¯èŒå’–å¤§ä½¬å°±å¼ƒç”¨<code>Python</code>ç‰ˆæœ¬ï¼Œä½¿ç”¨<code>Golang</code>é‡å†™äº†<code>OneList</code>ï¼ŒåŒæ—¶æ”¯æŒå›½é™…ç‰ˆã€ä¸ªäººå…è´¹ç‰ˆ(å®¶åº­ç‰ˆ)ã€ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”)åŠå¤šç½‘ç›˜ç»‘å®šã€‚</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>Githubåœ°å€ï¼š<a href="https://github.com/MoeClub/OneList/tree/master/Rewrite">https://github.com/MoeClub/OneList/tree/master/Rewrite</a></p><p>1ã€æˆæƒè®¤è¯<br>ç‚¹å‡»å³ä¾§URLç™»å½•å¹¶æˆæƒï¼Œæˆæƒ<a href="https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=78d4dc35-7e46-42c6-9023-2d39314433a5&response_type=code&redirect_uri=http://localhost/onedrive-login&response_mode=query&scope=offline_access%20User.Read%20Files.ReadWrite.All">å›½é™…ç‰ˆã€ä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ)</a>ã€<a href="https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize?client_id=dfe36e60-6133-48cf-869f-4d15b8354769&response_type=code&redirect_uri=http://localhost/onedrive-login&response_mode=query&scope=offline_access%20User.Read%20Files.ReadWrite.All">ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”)</a>ã€‚</p><p>æˆæƒåä¼šè·å–ä¸€ä¸ª<code>localhost</code>å¼€å¤´æ‰“ä¸å¼€çš„é“¾æ¥ï¼Œè¿™é‡Œå¤åˆ¶å¥½æ•´ä¸ªé“¾æ¥åœ°å€ï¼ŒåŒ…æ‹¬<code>localhost</code>ã€‚</p><p>2ã€å®‰è£…OneList</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#æ–°å»ºå¹¶è¿›å…¥OneListç›®å½•</span><br><span class="line">mkdir &#x2F;opt&#x2F;OneList &amp;&amp; cd $_</span><br><span class="line"></span><br><span class="line">#64ä½ç³»ç»Ÿä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;Rewrite&#x2F;amd64&#x2F;linux&#x2F;OneList</span><br><span class="line">#32ä½ç³»ç»Ÿä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;&#x2F;master&#x2F;Rewrite&#x2F;i386&#x2F;linux&#x2F;OneList</span><br><span class="line">#armæ¶æ„ä¸‹è½½</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;Rewrite&#x2F;arm&#x2F;linux&#x2F;OneList</span><br><span class="line">    </span><br><span class="line">#ç»™äºˆæƒé™</span><br><span class="line">chmod +x OneList</span><br></pre></td></tr></table></figure><p>3ã€ä½¿ç”¨å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Usage of OneList:</span><br><span class="line">  -a string</span><br><span class="line">        &#x2F;&#x2F; åˆå§‹åŒ–é…ç½®æ–‡ä»¶,æ·»åŠ æ–°é…ç½®</span><br><span class="line">        Setup and Init auth.json.</span><br><span class="line">  -bind string</span><br><span class="line">        &#x2F;&#x2F; ç»‘å®šIPåœ°å€(å…¬ç½‘: 0.0.0.0)</span><br><span class="line">        Bind Address (default &quot;127.0.0.1&quot;)</span><br><span class="line">  -port string</span><br><span class="line">        &#x2F;&#x2F; ç»‘å®šç«¯å£(HTTP:80)</span><br><span class="line">        Port (default &quot;5288&quot;)</span><br><span class="line">  -s string</span><br><span class="line">        &#x2F;&#x2F; è®¾ç½® SubPath é¡¹, éœ€è¦ä¸ -a ä¸€èµ·ä½¿ç”¨.</span><br><span class="line">        Set SubPath. [unique per account] (default &quot;&#x2F;&quot;)</span><br><span class="line">  -c string</span><br><span class="line">        &#x2F;&#x2F; é…ç½®æ–‡ä»¶</span><br><span class="line">        Config file. (default &quot;config.json&quot;)</span><br><span class="line">  -t string</span><br><span class="line">        &#x2F;&#x2F; Index.html ç›®å½•æ ·å¼æ–‡ä»¶</span><br><span class="line">        Index file. (default &quot;index.html&quot;)</span><br><span class="line">  -cn</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³</span><br><span class="line">        &#x2F;&#x2F; æˆæƒä¸­å›½ç‰ˆ(ä¸–çºªäº’è”), éœ€è¦æ­¤å‚æ•°.</span><br><span class="line">        OneDrive by 21Vianet.</span><br><span class="line">  -ms</span><br><span class="line">        &#x2F;&#x2F; å¼€å…³</span><br><span class="line">        &#x2F;&#x2F; æˆæƒä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ), éœ€è¦æ­¤å‚æ•°.</span><br><span class="line">        OneDrive by Microsoft.</span><br></pre></td></tr></table></figure><p>4ã€ç”Ÿæˆé…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#å›½é™…ç‰ˆï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">.&#x2F;OneList -a &quot;url&quot; -s &quot;&#x2F;onedrive01&quot;</span><br><span class="line"></span><br><span class="line">#ä¸ªäººç‰ˆ(å®¶åº­ç‰ˆ)ï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">.&#x2F;OneList -ms -a &quot;url&quot; -s &quot;&#x2F;onedrive02&quot;</span><br><span class="line"></span><br><span class="line">#ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”)ï¼Œå°†urlæ¢æˆä½ ä¸Šé¢å¤åˆ¶çš„æˆæƒåœ°å€ï¼ŒåŒ…æ‹¬http:&#x2F;&#x2F;loaclhostã€‚</span><br><span class="line">.&#x2F;OneList -cn -a &quot;url&quot; -s &quot;&#x2F;onedrive03&quot;</span><br></pre></td></tr></table></figure><p>æç¤º<code>Success! Add config. &#39;/path/to/config.json&#39;</code>ä¿¡æ¯ï¼Œåˆ™æ·»åŠ æˆåŠŸã€‚</p><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼š</p><blockquote><p>1ã€æˆæƒurlåœ°å€åªèƒ½ç”¨ä¸€æ¬¡ï¼Œè¶…è¿‡éœ€è¦é‡æ–°æˆæƒã€‚<br>2ã€å‘½ä»¤ä¸­çš„/onedrive01å‚æ•°ä¸ºæŒ‡å®šç½‘ç›˜åœ°å€åç¼€ï¼Œæ¯”å¦‚<code>http://domain.com/onedrive01</code>ã€‚<br>3ã€æˆæƒå¤šä¸ªç½‘ç›˜çš„è¯ï¼Œé‡å¤æˆæƒå¤šæ¬¡å³å¯ï¼Œå‚æ•°å‡ä¼šæ·»åŠ åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸”åç¼€ä¸èƒ½é‡å¤ã€‚<br>4ã€åœ°å€åç¼€å¡«é”™äº†çš„ï¼Œå¯ä»¥ç¨ååœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚</p></blockquote><p>æœ¬æ–‡é»˜è®¤çš„é…ç½®æ–‡ä»¶è·¯å¾„<code>/opt/OneList/config.json</code>ï¼Œå‚æ•°è¯¦è§£ï¼Œå¯è‡ªè¡Œä¿®æ”¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &#x2F;&#x2F; å¦‚æœæ˜¯å®¶åº­ç‰ˆæˆ–è€…ä¸ªäººå…è´¹ç‰ˆ, æ­¤é¡¹åº”ä¸º true.</span><br><span class="line">    &quot;MSAccount&quot;: false,</span><br><span class="line">    &#x2F;&#x2F; å¦‚æœæ˜¯ä¸­å›½ç‰ˆ(ä¸–çºªäº’è”), æ­¤é¡¹åº”ä¸º true.</span><br><span class="line">    &quot;MainLand&quot;: false,</span><br><span class="line">    &#x2F;&#x2F; æˆæƒä»¤ç‰Œ</span><br><span class="line">    &quot;RefreshToken&quot;: &quot;1234564567890ABCDEF&quot;,</span><br><span class="line">    &#x2F;&#x2F; å•é…ç½®æ–‡ä»¶ä¸­,æ­¤é¡¹è¦å”¯ä¸€.å°†æ­¤OneDriveä¸­è®¾ç½®ä¸º&#96;RootPath&#96;ç›®å½•æ˜ å°„åœ¨&#96;http:&#x2F;&#x2F;127.0.0.1:5288&#x2F;onedrive&#96; ä¸‹.</span><br><span class="line">    &#x2F;&#x2F; (åªæ¨èä¸€ä¸ªç›˜ä½çš„æ—¶å€™ä½¿ç”¨æ ¹ç›®å½•&quot;&#x2F;&quot;.)</span><br><span class="line">    &quot;SubPath&quot;: &quot;&#x2F;onedrive&quot;,</span><br><span class="line">    &#x2F;&#x2F; è¯»å–OneDriveçš„æŸä¸ªç›®å½•ä½œä¸ºæ ¹ç›®å½•. (æ”¯æŒæ ¹ç›®å½•&quot;&#x2F;&quot;)</span><br><span class="line">    &quot;RootPath&quot;: &quot;&#x2F;Test&quot;,</span><br><span class="line">    &#x2F;&#x2F; éšè—OneDriveç›®å½•ä¸­çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶, æ¡ç›®é—´ä½¿ç”¨ &quot;|&quot; åˆ†å‰². (è·³è¿‡ç¼“å­˜è®¾ç½®çš„æ¡ç›®.)</span><br><span class="line">    &quot;HidePath&quot;: &quot;&#x2F;Test&#x2F;Obj01|&#x2F;Test&#x2F;Obj02&quot;,</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç åŠ å¯†OneDriveç›®å½•. ç›®å½•å’Œç”¨æˆ·åå¯†ç é—´ä½¿ç”¨ &quot;?&quot; åˆ†å‰², ç”¨æˆ·åå¯†ç ä½¿ç”¨ &quot;:&quot; åˆ†å‰², æ¡ç›®é—´ä½¿ç”¨ &quot;|&quot; åˆ†å‰². æ— æ•ˆæ¡ç›®å°†è·³è¿‡.</span><br><span class="line">    &quot;AuthPath&quot;: &quot;&#x2F;Test&#x2F;Auth01?user01:pwd01|&#x2F;Test&#x2F;Auth02?user02:pwd02&quot;,</span><br><span class="line">    &#x2F;&#x2F; ç¼“å­˜åˆ·æ–°é—´éš”.(æ‰€æœ‰é¡¹ç›®ä¸­çš„åˆ·æ–°æ—¶é—´å–æœ€å°å€¼ä¸ºæœ‰æ•ˆåˆ·æ–°é—´éš”)</span><br><span class="line">    &quot;RefreshInterval&quot;: 900</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ³¨æ„ï¼ŒæŒ‚è½½å¤šä¸ªç›˜ç¬¦çš„æ—¶å€™ï¼Œ<code>SubPath</code>å‚æ•°è¯·ä¸è¦ä¸º<code>/</code>ï¼Œå•ä¸ªç½‘ç›˜å»ºè®®ä¸º<code>/</code>ã€‚</p><p>5ã€è¿è¡ŒOneList</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ä¸‹è½½é»˜è®¤çš„index.htmlä¸»é¢˜ï¼Œä¸config.jsonåŒç›®å½•ï¼Œå³æœ¬æ–‡é»˜è®¤çš„&#x2F;opt&#x2F;OneList</span><br><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;Rewrite&#x2F;index.html -P &#x2F;opt&#x2F;OneList</span><br><span class="line">#ç›‘å¬8000åœ°å€ï¼Œè‡ªè¡Œä¿®æ”¹</span><br><span class="line">&#x2F;opt&#x2F;OneList&#x2F;OneList -bind 0.0.0.0 -port 8000</span><br></pre></td></tr></table></figure><p>æœ€åæ‰“å¼€<code>ip:ç«¯å£</code>è®¿é—®å³å¯ï¼Œå¦‚æœä½ æŒ‚è½½ç½‘ç›˜çš„æ—¶å€™<code>SubPath</code>ä¸º<code>/</code>ï¼Œé‚£ä¹ˆç›´æ¥é€šè¿‡æ ¹ç›®å½•æŸ¥çœ‹ï¼Œå¦‚æœä¸º<code>/onedrive1</code>ï¼Œé‚£ä¹ˆé€šè¿‡<code>ip:ç«¯å£/onedrive1</code>æŸ¥çœ‹ï¼Œå¦‚æœè¯¥è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæç¤º<code>No Found.</code>ã€‚</p><p>ä¸”é¦–æ¬¡è¿è¡Œä¼šå¼‚æ­¥ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯è‡³å°‘æœ‰ä¸€ä¸ªç›˜ç¼“å­˜æˆåŠŸäº†ï¼Œæ‰ä¼šæ˜¾ç¤ºã€‚</p><p>6ã€å¼€æœºè‡ªå¯</p><p>è¿™é‡Œæ–°å»ºä¸€ä¸ªç®€å•çš„systemdé…ç½®æ–‡ä»¶ï¼Œé€‚ç”¨<code>CentOS 7</code>ã€<code>Debian 8+</code>ã€<code>Ubuntu 16+</code>ã€‚</p><p>ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#æ³¨æ„ä¿®æ”¹ä½ çš„è¿è¡Œç›‘å¬ç«¯å£ï¼Œå³ä½ å¯ä»¥é€šè¿‡ip:ç«¯å£è®¿é—®ç¨‹åºï¼Œè¿™é‡Œé»˜è®¤8000ã€‚</span><br><span class="line">#å°†ä»¥ä¸‹ä»£ç ä¸€èµ·å¤åˆ¶åˆ°SSHè¿è¡Œ</span><br><span class="line">cat &gt; &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;onelist.service &lt;&lt;EOF</span><br><span class="line">[Unit]</span><br><span class="line">Description&#x3D;onelist</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D;&#x2F;opt&#x2F;OneList&#x2F;OneList -bind 0.0.0.0 -port 8000 </span><br><span class="line">Restart&#x3D;on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯</span><br><span class="line">systemctl start onelist</span><br><span class="line">systemctl enable onelist</span><br></pre></td></tr></table></figure><h1 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h1><p>å®å¡”å®‰è£…Nginxï¼Œå»ºç«‹ç«™ç‚¹ï¼Œè®¾ç½®åä»£ï¼Œåº”ä¸ºå‰é¢æ˜¯ç»‘å®šå…¬ç½‘ip<code>/opt/OneList/OneList -bind 0.0.0.0 -port 8000</code>è¿™æ ·è¿è¡Œçš„ï¼Œæ‰€ä»¥åä»£çš„æ—¶å€™è¦ä½¿ç”¨å…¬ç½‘ipæˆ–è€…è§£æå¥½çš„åŸŸåæ¥è¿›è¡Œè®¾ç½®ï¼Œå¦‚å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200408202011.png"></p><h1 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h1><blockquote><p>æç¤ºï¼šä¸‹è½½ä¸»é¢˜çš„index.htmlæ–‡ä»¶ï¼Œè¦†ç›–é»˜è®¤index.htmlæ–‡ä»¶ï¼Œæœ¬æ–‡é»˜è®¤å­˜æ”¾/opt/OneListï¼Œç„¶åé‡å¯ç¨‹åºå³å¯</p></blockquote><p>ä¸»é¢˜åœ°å€ï¼š<a href="https://github.com/MoeClub/OneList/tree/master/Rewrite/@Theme">https://github.com/MoeClub/OneList/tree/master/Rewrite/@Theme</a></p><p>1ã€HaorWu</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#ä½œè€…</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;HaorWu</span><br><span class="line"></span><br><span class="line">#ç‰¹ç‚¹</span><br><span class="line">æ”¯æŒç§»åŠ¨ç«¯è‡ªé€‚åº”</span><br><span class="line">æ”¯æŒå½“é¡µæœç´¢</span><br><span class="line">æ”¯æŒæŒ‰æ–‡ä»¶å, æ—¥æœŸ, å¤§å°æ’åº</span><br><span class="line">æ”¯æŒä¸»åŠ¨æŸ¥çœ‹å›¾ç‰‡</span><br><span class="line">æ”¯æŒåœ¨çº¿æ’­æ”¾è§†é¢‘</span><br><span class="line"></span><br><span class="line">#ä¸‹è½½åœ°å€</span><br><span class="line">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;Rewrite&#x2F;%40Theme&#x2F;HaorWu&#x2F;index.html</span><br></pre></td></tr></table></figure><p>2ã€jackjieYYY</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#ä½œè€…</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;jackjieYYY</span><br><span class="line">https:&#x2F;&#x2F;www.hostloc.com&#x2F;space-uid-38920.html</span><br><span class="line"></span><br><span class="line">#ç‰¹ç‚¹</span><br><span class="line">æ”¯æŒç§»åŠ¨ç«¯è‡ªé€‚åº”</span><br><span class="line">æ”¯æŒå½“é¡µæœç´¢</span><br><span class="line">æ”¯æŒæŒ‰æ–‡ä»¶å, æ—¥æœŸ, å¤§å°æ’åº</span><br><span class="line">æ”¯æŒåœ¨çº¿æ’­æ”¾è§†é¢‘</span><br><span class="line"></span><br><span class="line">#ä¸‹è½½åœ°å€</span><br><span class="line">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;MoeClub&#x2F;OneList&#x2F;master&#x2F;Rewrite&#x2F;%40Theme&#x2F;jackjieYYY&#x2F;index.html</span><br></pre></td></tr></table></figure><p>3ã€NomadJohn</p><p>è®ºå›å¤§ä½¬å†™çš„ï¼Œè§‰å¾—è¿˜ä¸é”™,æ”¯æŒåœ¨çº¿æµè§ˆå›¾ç‰‡ï¼Œè§†é¢‘ï¼Œæœç´¢æ–‡ä»¶ï¼Œä»¥åŠéŸ³ä¹æ’­æ”¾åŠŸèƒ½<br>å»ºç«‹æ–°çš„<code>index.html</code>å°†ä¸‹é¢ä»£ç å¤åˆ¶è¿›å»ï¼Œæ³¨æ„å’Œ<code>config.json</code>åœ¨åŒä¸€ç›®å½•ä¸‹</p><p><a href="https://raw.githubusercontent.com/NomadJohn/issue-blog/master/index.html">https://raw.githubusercontent.com/NomadJohn/issue-blog/master/index.html</a></p><h1 id="ç›¸å…³å‘½ä»¤"><a href="#ç›¸å…³å‘½ä»¤" class="headerlink" title="ç›¸å…³å‘½ä»¤"></a>ç›¸å…³å‘½ä»¤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¯åŠ¨ï¼šsystemctl start onelist</span><br><span class="line">åœæ­¢ï¼šsystemctl stop onelist</span><br><span class="line">é‡å¯ï¼šsystemctl restart onelist</span><br><span class="line">æŸ¥çœ‹çŠ¶æ€ï¼šsystemctl status onelist</span><br></pre></td></tr></table></figure><h1 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#æœªè®¾ç½®å¼€æœºè‡ªå¯</span><br><span class="line">rm -rf &#x2F;opt&#x2F;OneList</span><br><span class="line"></span><br><span class="line">#è®¾ç½®è¿‡å¼€æœºè‡ªå¯</span><br><span class="line">systemctl stop onelist</span><br><span class="line">systemctl disable onelist</span><br><span class="line">rm -rf &#x2F;opt&#x2F;OneList &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;onelist.service</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OneDrive </tag>
            
            <tag> Onelist </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå»ºaria2ç¦»çº¿ä¸‹è½½+è‡ªåŠ¨ä¸Šä¼ onedriveäº‘ç›˜</title>
      <link href="posts/79e427dd/"/>
      <url>posts/79e427dd/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç­‰äº†å¥½ä¹…ï¼Œç»ˆäºåœ¨ä»Šå¤©æ—©ä¸Šä¹°åˆ°äº†<a href="https://my.frantech.ca/aff.php?aff=3567">buyvm</a>å®¶çš„2åˆ€çš„é…ç½®ï¼Œå†é…åˆä»–ä»¬å®¶çš„1.25åˆ€256Gçš„å‚¨å­˜å—ï¼Œç”¨æ¥ç¦»çº¿ä¸‹è½½ç®€ç›´ä¸è¦å¤ªçˆ½</p><div class="note info flat"><p>1ã€Buyvmå®¶æ‰€æœ‰çš„KVM VPSå‡å…è´¹æä¾›Directadminé¢æ¿ï¼Œæœ‰éœ€è¦çš„å¯ä»¥è”ç³»å®¢æœã€‚<br>2ã€å¦‚æœæ²¡æœ‰ä¸­é€”é€€æ¬¾çš„éœ€æ±‚ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨æ”¯ä»˜å®ä»˜æ¬¾ï¼Œæ”¯ä»˜å®ä»˜æ¬¾æœ‰ç¥ç§˜åŠ æˆï¼Œé»˜è®¤åŠ å…ƒæ±‡ç‡ï¼Œä½¿ç”¨Paypalç­‰ä»˜æ¬¾æ˜¯ç¾å…ƒ<br>3ã€å‚¨å­˜å—åªèƒ½åœ¨æ‹‰æ–¯ç»´åŠ æ–¯è¿™ä¸ªæ•°æ®ä¸­å¿ƒæ‰æœ‰</p></div><h1 id="æ·»åŠ å‚¨å­˜å—åˆ°vps"><a href="#æ·»åŠ å‚¨å­˜å—åˆ°vps" class="headerlink" title="æ·»åŠ å‚¨å­˜å—åˆ°vps"></a>æ·»åŠ å‚¨å­˜å—åˆ°vps</h1><p>1ã€åœ¨Buyvmå®˜ç½‘è´­ä¹°ä¸€å°Las Vegasæœºæˆ¿çš„KVM VPSï¼Œå¦‚æœä»…ç”¨äºå­˜å‚¨ï¼Œä¹°æœ€ä½é…çš„512Må†…å­˜å°±è¡Œäº†ï¼›åŒæ—¶æŒ‰éœ€è´­ä¹°Block Storageç©ºé—´ã€‚</p><p>2ã€è¿›å…¥<a href="https://manage.buyvm.net/volumes/">Storage Volumes</a>åå°ï¼Œå°†[Block Storage]é™„åŠ åˆ°ï¼ˆAttached Toï¼‰ å¯¹åº”çš„VPS</p><p>3ã€æŸ¥çœ‹æ•°æ®å—ç¼–å·(å¼€é€šé‚®ä»¶é‡Œä¹Ÿæœ‰)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;</span><br></pre></td></tr></table></figure><p>4ã€å‡è®¾çœ‹åˆ°çš„ç»“æœæ˜¯scsi-0BUYVM_SLAB_VOLUME-2181ï¼Œé‚£ä¹ˆ2181å°±æ˜¯æ•°æ®å—çš„idï¼Œæˆ–è€…åå°ä¹Ÿèƒ½ç›´æ¥çœ‹åˆ°ã€‚</p><p>5ã€æ ¼å¼åŒ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 -F &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;scsi-0BUYVM_SLAB_VOLUME-2181</span><br></pre></td></tr></table></figure><p>6ã€åˆ›å»ºæ–‡ä»¶å¤¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;data</span><br></pre></td></tr></table></figure><p>7ã€æŒ‚è½½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o discard,defaults &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;scsi-0BUYVM_SLAB_VOLUME-2181 &#x2F;data</span><br></pre></td></tr></table></figure><p>8ã€è®¾ç½®å¼€æœº/é‡å¯è‡ªåŠ¨æŒ‚è½½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;&#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;scsi-0BUYVM_SLAB_VOLUME-2181 &#x2F;data ext4 defaults,nofail,discard 0 0&#39; | sudo tee -a &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure><h1 id="æ·»åŠ IPV6"><a href="#æ·»åŠ IPV6" class="headerlink" title="æ·»åŠ IPV6"></a>æ·»åŠ IPV6</h1><div class="tabs" id="ipv6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ipv6-1">Ubuntuè€ç‰ˆæœ¬</button></li><li class="tab"><button type="button" data-href="#ipv6-2">Ubuntu18ä»¥ä¸Š</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ipv6-1"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;network&#x2F;interfaces</span><br></pre></td></tr></table></figure><p>åœ¨æœ€ååŠ å…¥ä»¥ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iface eth0 inet6 static</span><br><span class="line">        address 2605:6400:0020:05a8:0000:0000:0000:0006</span><br><span class="line">        netmask 48</span><br><span class="line">        gateway 2605:6400:20::1</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ipv6-2"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;netplan&#x2F;01-netcfg.yaml</span><br></pre></td></tr></table></figure><p>åŸæœ¬é»˜è®¤ä¸ºå¦‚ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># This file describes the network interfaces available on your system</span><br><span class="line"># For more information, see netplan(5).</span><br><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: networkd</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      dhcp4: yes</span><br></pre></td></tr></table></figure><p>éœ€è¦æ·»åŠ åé¢çš„ä¸‰æ’ï¼Œ<code>addresses</code>ä¸ºbuyvmåå°ç”³è¯·çš„ipv6åœ°å€ï¼Œæ³¨æ„æ ¼å¼ä¸ºï¼š [â€˜ipv6/48â€™]ï¼Œ<code>gateway6</code>ä¸ºipv6çš„ç½‘å…³</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># This file describes the network interfaces available on your system</span><br><span class="line"># For more information, see netplan(5).</span><br><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: networkd</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      dhcp4: yes</span><br><span class="line">      dhcp6: no</span><br><span class="line">      addresses: [&#39;2605:6400:20:5a8::6&#x2F;48&#39;]</span><br><span class="line">      gateway6: 2605:6400:20::1</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="å®‰è£…ccaa"><a href="#å®‰è£…ccaa" class="headerlink" title="å®‰è£…ccaa"></a>å®‰è£…ccaa</h1><p><a href="https://github.com/helloxz/ccaa">CCAA</a>åŸä¸ºCentOS + Caddy + AriaNg + Aria2ï¼Œæ•…å‘½åä¸ºCCAAï¼Œä¸è¿‡ç°åœ¨å·²ç»ä¸ä»…ä»…æ”¯æŒCentOSï¼ŒåŒ…æ‹¬ä¸»æµçš„Debianã€Ubuntuä¹Ÿå·²ç»æ”¯æŒï¼Œè‡ª2.0(2020/02/28)ç‰ˆæœ¬å¼€å§‹å·²ç§»é™¤Caddyï¼Œæ”¹ç”¨Golangå†™äº†ä¸€ä¸ªç®€å•çš„WebServeræ¥è¿è¡ŒAriaNgã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Aria2 æä¾›ç¦»çº¿ä¸‹è½½</span><br><span class="line">ccaa_webæ”¯æ’‘AriaNgè¿è¡Œï¼Œä½¿ç”¨Golangç¼–å†™</span><br><span class="line">AriaNgä¸ºAria2 æä¾›WEBç•Œé¢</span><br><span class="line">Filemanageræä¾›æ–‡ä»¶ç®¡ç†</span><br></pre></td></tr></table></figure><h2 id="ä¸€é”®è„šæœ¬"><a href="#ä¸€é”®è„šæœ¬" class="headerlink" title="ä¸€é”®è„šæœ¬"></a>ä¸€é”®è„šæœ¬</h2><p>ç›®å‰æ”¯æŒçš„æ“ä½œç³»ç»Ÿä¸ºï¼šCentOS 7-8ã€Debian 8-10ã€Ubuntu 16-18ï¼Œæ“ä½œç³»ç»Ÿè¦æ±‚64ä½ã€‚è¯·æ ¹æ®è‡ªå·±çš„VPSä½ç½®å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#æµ·å¤–</span><br><span class="line">bash &lt;(curl -Lsk https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;helloxz&#x2F;ccaa&#x2F;master&#x2F;ccaa.sh)</span><br><span class="line">#å›½å†…</span><br><span class="line">bash &lt;(curl -Lsk https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;helloxz&#x2F;ccaa&#x2F;master&#x2F;ccaa.sh) cdn</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°<code>-bash: curl: command not found</code>é”™è¯¯ï¼Œè¯´æ˜curlå‘½ä»¤æ²¡å®‰è£…ï¼Œè¯·è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å…ˆå®‰è£…curlï¼Œå†å›è¿‡å¤´æ¥æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Debian or Ubuntu</span><br><span class="line">apt-get -y install curl</span><br><span class="line">#CentOS</span><br><span class="line">yum -y install curl</span><br></pre></td></tr></table></figure><ul><li>è®¿é—®åœ°å€é»˜è®¤ä¸º<a href="http://ip:6080/">http://IP:6080</a></li><li>Aria2 RPC å¯†é’¥:æ‚¨è‡ªè¡Œè®¾ç½®çš„</li><li>File Browser ç”¨æˆ·åï¼šé»˜è®¤ä¸ºccaa</li><li>File Browser å¯†ç ï¼šé»˜è®¤ä¸ºadmin</li></ul><p>è¾“å…¥<code>http://IP:6080</code>è®¿é—®AriaNg ï¼Œé¦–æ¬¡æ‰“å¼€ä¼šæç¤ºâ€œè®¤è¯å¤±è´¥â€ï¼Œè¿™ä¸ªæ˜¯æ­£å¸¸ç°è±¡ã€‚ä¾æ¬¡ç‚¹å‡»â€œAriaNgè®¾ç½® - RPC - å¡«å†™æ‚¨ä¹‹å‰è®¾ç½®çš„RPCå¯†é’¥â€</p><p>å¦‚æœæœåŠ¡å™¨æœ‰å¯ç”¨å®‰å…¨ç»„ï¼Œè¯·åŠ¡å¿…åœ¨å®‰å…¨ç»„æ”¾è¡Œä»¥ä¸‹ç«¯å£ï¼š<code>6080/6081/6800/6998/51413</code></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p>å®‰è£…æˆåŠŸåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥ç®¡ç†CCAAï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#è¿›å…¥CCAAç®¡ç†ç•Œé¢</span><br><span class="line">ccaa</span><br><span class="line">#æŸ¥çœ‹ccaaçŠ¶æ€</span><br><span class="line">ccaa status</span><br><span class="line">#å¯åŠ¨ccaa</span><br><span class="line">ccaa start</span><br><span class="line">#åœæ­¢ccaa</span><br><span class="line">ccaa stop</span><br><span class="line">#é‡å¯ccaa</span><br><span class="line">ccaa restart</span><br><span class="line">#æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</span><br><span class="line">ccaa -v</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨HTTPS"><a href="#ä½¿ç”¨HTTPS" class="headerlink" title="ä½¿ç”¨HTTPS"></a>ä½¿ç”¨HTTPS</h1><h2 id="å®å¡”æ·»åŠ AriaNgç«™ç‚¹"><a href="#å®å¡”æ·»åŠ AriaNgç«™ç‚¹" class="headerlink" title="å®å¡”æ·»åŠ AriaNgç«™ç‚¹"></a>å®å¡”æ·»åŠ AriaNgç«™ç‚¹</h2><p>AriaNgé¡µé¢çš„æºæ–‡ä»¶åœ¨<code>/etc/ccaa</code>,æ–°å»ºå¦‚ä¸‹ç«™ç‚¹ï¼Œé…ç½®å¥½<code>ssl</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200408205254.png"></p><h2 id="aria2åå‘ä»£ç†"><a href="#aria2åå‘ä»£ç†" class="headerlink" title="aria2åå‘ä»£ç†"></a>aria2åå‘ä»£ç†</h2><p>åŒæ ·çš„ï¼Œæ–°å»ºä¸€ä¸ªç«™ç‚¹é…ç½®å¥½ssl</p><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æœ€åä¸€ä¸ª<code>&#125;</code>å‰æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">location ^~ &#x2F;jsonrpc &#123;</span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    add_header Front-End-Https on;</span><br><span class="line">    proxy_set_header Connection &quot;&quot;;</span><br><span class="line">    proxy_set_header Host $http_host;</span><br><span class="line">    proxy_set_header X-NginX-Proxy true;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1:6800&#x2F;jsonrpc;</span><br><span class="line">    proxy_pass_header X-Transmission-Session-Id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200408205612.png"></p><p>æœ€ååœ¨<code>AriaNg</code>ä¸­ä¿®æ”¹RPCç«¯å£ä¸º443</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200408205749.png"></p><h1 id="æŒ‚è½½OneDriveç½‘ç›˜å¹¶å®ç°Aria2ä¸‹è½½ç»“æŸè‡ªåŠ¨ä¸Šä¼ æ–‡ä»¶"><a href="#æŒ‚è½½OneDriveç½‘ç›˜å¹¶å®ç°Aria2ä¸‹è½½ç»“æŸè‡ªåŠ¨ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="æŒ‚è½½OneDriveç½‘ç›˜å¹¶å®ç°Aria2ä¸‹è½½ç»“æŸè‡ªåŠ¨ä¸Šä¼ æ–‡ä»¶"></a>æŒ‚è½½OneDriveç½‘ç›˜å¹¶å®ç°Aria2ä¸‹è½½ç»“æŸè‡ªåŠ¨ä¸Šä¼ æ–‡ä»¶</h1><p>ä»¥ä¸‹æ–¹æ³•æ˜¯ä½¿ç”¨<code>Rclone</code>é»˜è®¤çš„<code>API</code>,å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå»º<code>API</code> å¯å‚è€ƒï¼š <a href="/posts/c4f1574a/" title="RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI">RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI</a></p><p>ä»¥ä¸‹åˆ†ä¸ºä¸‰å°æ­¥è¿™é‡Œåšä¸ªç®€ä»‹ï¼šç¬¬ä¸€æ­¥æ˜¯PCç«¯è·å–ç½‘ç›˜æˆæƒçš„ä»¤ç‰Œï¼›ç¬¬äºŒæ­¥æ˜¯åœ¨VPSé‡Œç»‘å®šè·å¾—çš„æˆæƒï¼›ç¬¬ä¸‰æ­¥æ‰æ˜¯çœŸæ­£æŒ‚è½½åˆ°ç½‘ç›˜ä¸Šã€‚å› ä¸ºOneDriveçš„æˆæƒéœ€è¦åœ¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€ŒVPSæ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œåªèƒ½å…ˆåœ¨PCç«¯è·å–æˆæƒï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥æœ‰ç‚¹é‡å¤ã€‚</p><p>é™¤äº†æŒ‚è½½OneDriveç½‘ç›˜ä¹‹å¤–ï¼Œè¿˜æ”¯æŒ Google Driveã€Megeã€Yandexç­‰å‡ åä¸ªå›½å¤–ç½‘ç›˜ï¼Œå…¶å®ƒç½‘ç›˜æŒ‚è½½æ•™ç¨‹è¿™é‡Œæˆ‘å°±ä¸è¯´äº†ï¼Œå–„ç”¨æœç´¢å¼•æ“ã€‚</p><h2 id="windowsï¼ˆPCï¼‰ç«¯å®‰è£…Rclone"><a href="#windowsï¼ˆPCï¼‰ç«¯å®‰è£…Rclone" class="headerlink" title="windowsï¼ˆPCï¼‰ç«¯å®‰è£…Rclone"></a>windowsï¼ˆPCï¼‰ç«¯å®‰è£…Rclone</h2><p>æ›´ç®€å•çš„æ–¹æ³•å¯å‚è§ï¼š<a href="/posts/c4f1574a/" title="RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI">RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI</a></p><p>ç™»å½•<a href="https://rclone.org/downloads/">Rclone</a>ç½‘å®˜ä¸‹è½½Rcloneçš„çª—æˆ·ç«¯çš„å®¢æˆ·(windows AMD64 - 64 Bit)ã€‚<br>ä¸‹è½½è§£å‹å°†é‡Œé¢çš„<code>rclone.exe</code>ç§»åŠ¨åˆ°ä½ ç”µè„‘<code>C:\Windows\System32</code>è¿™ä¸ªç›®å½•ï¼Œå…¶å®ƒçš„å¯ä»¥åˆ æ‰æ²¡å…³ç³»ã€‚<br>æŒ‰<code>win + R</code>å¿«æ·é”®æ‰“å¼€è¿è¡Œï¼Œè¾“å…¥<code>cmd</code>ç‚¹ç¡®å®šæ¥æ‰“å¼€CMDçª—å£ã€‚</p><p>è¾“å…¥ä¸‹é¢å‘½ä»¤å¼€å§‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>ç„¶åå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼ŒæŒ‰æç¤ºè¾“å…¥nå›è½¦åˆ›å»ºä¸ªæ–°çš„è¿œç¨‹ï¼Œç„¶åæç¤ºè¾“å…¥nameï¼Œåç§°éšæ„ä½†è¦è®°ä½ï¼Œè¿™é‡Œæˆ‘å¡«<code>onedrive</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">onedrive             onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; n   </span><br><span class="line">name&gt; onedrive</span><br></pre></td></tr></table></figure><p>å›è½¦åå‡ºç°ä¸€é•¿ä¸²ç½‘ç›˜åˆ—è¡¨è®©ä½ é€‰ï¼Œè¿™é‡ŒOneDriveæ˜¯19ï¼Œå¡«å…¥19å›è½¦ï¼Œä¸è¦æ­»è®°æ•°å­—ï¼Œä¸åŒç‰ˆæœ¬æ•°å­—é€‰é¡¹ä¼šå˜åŒ–ï¼ŒYandexè¿™é‡Œæ˜¯26ï¼Œæ ¹æ®ä½ éœ€è¦é€‰æ‹©ï¼Œåç»­æ“ä½œéƒ½å·®ä¸å¤š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">onedrive             onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; n</span><br><span class="line">name&gt; onedrive</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; A stackable unification remote, which can appear to merge the contents of several remotes</span><br><span class="line">   \ &quot;union&quot;</span><br><span class="line"> 2 &#x2F; Alias for a existing remote</span><br><span class="line">   \ &quot;alias&quot;</span><br><span class="line"> 3 &#x2F; Amazon Drive</span><br><span class="line">   \ &quot;amazon cloud drive&quot;</span><br><span class="line"> 4 &#x2F; Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ &quot;s3&quot;</span><br><span class="line"> 5 &#x2F; Backblaze B2</span><br><span class="line">   \ &quot;b2&quot;</span><br><span class="line"> 6 &#x2F; Box</span><br><span class="line">   \ &quot;box&quot;</span><br><span class="line"> 7 &#x2F; Cache a remote</span><br><span class="line">   \ &quot;cache&quot;</span><br><span class="line"> 8 &#x2F; Dropbox</span><br><span class="line">   \ &quot;dropbox&quot;</span><br><span class="line"> 9 &#x2F; Encrypt&#x2F;Decrypt a remote</span><br><span class="line">   \ &quot;crypt&quot;</span><br><span class="line">10 &#x2F; FTP Connection</span><br><span class="line">   \ &quot;ftp&quot;</span><br><span class="line">11 &#x2F; Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ &quot;google cloud storage&quot;</span><br><span class="line">12 &#x2F; Google Drive</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line">13 &#x2F; Hubic</span><br><span class="line">   \ &quot;hubic&quot;</span><br><span class="line">14 &#x2F; JottaCloud</span><br><span class="line">   \ &quot;jottacloud&quot;</span><br><span class="line">15 &#x2F; Koofr</span><br><span class="line">   \ &quot;koofr&quot;</span><br><span class="line">16 &#x2F; Local Disk</span><br><span class="line">   \ &quot;local&quot;</span><br><span class="line">17 &#x2F; Mega</span><br><span class="line">   \ &quot;mega&quot;</span><br><span class="line">18 &#x2F; Microsoft Azure Blob Storage</span><br><span class="line">   \ &quot;azureblob&quot;</span><br><span class="line">19 &#x2F; Microsoft OneDrive</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line">20 &#x2F; OpenDrive</span><br><span class="line">   \ &quot;opendrive&quot;</span><br><span class="line">21 &#x2F; Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ &quot;swift&quot;</span><br><span class="line">22 &#x2F; Pcloud</span><br><span class="line">   \ &quot;pcloud&quot;</span><br><span class="line">23 &#x2F; QingCloud Object Storage</span><br><span class="line">   \ &quot;qingstor&quot;</span><br><span class="line">24 &#x2F; SSH&#x2F;SFTP Connection</span><br><span class="line">   \ &quot;sftp&quot;</span><br><span class="line">25 &#x2F; Webdav</span><br><span class="line">   \ &quot;webdav&quot;</span><br><span class="line">26 &#x2F; Yandex Disk</span><br><span class="line">   \ &quot;yandex&quot;</span><br><span class="line">27 &#x2F; http Connection</span><br><span class="line">   \ &quot;http&quot;</span><br><span class="line">Storage&gt; 19</span><br></pre></td></tr></table></figure><p>æ¥ç€<code>client_id</code>å’Œ<code>client_secret</code> ç›´æ¥ä¸å¡«å›è½¦;<br><code>Edit advanced config?</code> è¾“å…¥nå›è½¦;<br><code>Already have a token - refresh?</code> è¾“å…¥<code>y</code>å›è½¦ï¼Œåé¢VPSé‡Œé…ç½®æ—¶æ²¡æœ‰è¿™ä¸ªæç¤ºçš„ï¼Œä¼šå‡ºç°ä¸‹ä¸ªè‡ªåŠ¨é…ç½®é€‰é¡¹ï¼Œåˆ«æ‰‹å¿«ç›´æ¥<code>y</code>;<br><code>Use auto config?</code> è¿™é‡Œè¾“å…¥<code>y</code>å›è½¦ï¼Œåé¢VPSé…ç½®æ—¶è¿™æ­¥è¦é€‰<code>n</code><br>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½ä¼šæœ‰å˜åŒ–ï¼Œåæ­£å°±æ˜¯åšé€‰æ‹©é¢˜ï¼Œçœ‹ä¸æ‡‚å¤åˆ¶å‡ºæ¥å¯ä»¥ç¿»è¯‘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Microsoft App Client Id</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_id&gt;</span><br><span class="line">Microsoft App Client Secret</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_secret&gt;</span><br><span class="line">Edit advanced config? (y&#x2F;n) </span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n</span><br><span class="line">Remote config </span><br><span class="line">Already have a token - refresh?  </span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; y</span><br><span class="line">Use auto config?  </span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; y</span><br></pre></td></tr></table></figure><p>æ¥ç€æµè§ˆå™¨ä¼šè‡ªåŠ¨å¼¹å‡ºçª—å£ï¼Œç„¶åç™»å½•ä½ è¦æŒ‚è½½çš„OneDriveè´¦å·ï¼Œå¾æ±‚è®¸å¯æ¥å—å°±è¡Œäº†ï¼Œå‡ºç°ä¸‹å›¾ç•Œé¢å³æˆæƒæˆåŠŸã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200408152848.png"></p><p>æˆæƒæˆåŠŸåè¿”å›cmdçª—å£å‡ºç°ä»¥ä¸‹ç•Œé¢ï¼Œè¿™é‡Œé€‰<code>1</code>å›è½¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Choose a number from below, or type in an existing value</span><br><span class="line"> 1 &#x2F; OneDrive Personal or Business  #ä¸ªäººå’Œå•†ç”¨</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line"> 2 &#x2F; Root Sharepoint site</span><br><span class="line">   \ &quot;sharepoint&quot;</span><br><span class="line"> 3 &#x2F; Type in driveID</span><br><span class="line">   \ &quot;driveid&quot;</span><br><span class="line"> 4 &#x2F; Type in SiteID</span><br><span class="line">   \ &quot;siteid&quot;</span><br><span class="line"> 5 &#x2F; Search a Sharepoint site</span><br><span class="line">   \ &quot;search&quot;</span><br><span class="line">Your choice&gt;1</span><br></pre></td></tr></table></figure><p>æç¤ºæ‰¾åˆ°ä¸€ä¸ªé©±åŠ¨å™¨ï¼Œè®©ä½ é€‰æ‹©ï¼Œè¿™é‡Œå°±ä¸€ä¸ªé€‰é¡¹0ï¼Œé‚£å°±å¡«0å›è½¦ï¼Œç„¶åé—®ä½ æ˜¯å¦ç¡®å®šï¼Œé€‰<code>y</code>å›è½¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Found 1 drives, please select the one you want to use:</span><br><span class="line">0: OneDrive (business) id&#x3D;huioaeuiaeagioioieuiaaefe@#%gaege94#</span><br><span class="line">Chose drive to use:&gt;0</span><br><span class="line">Found drive &#39;root&#39; of type &#39;business&#39;, URL:https:&#x2F;&#x2F;jxjjxy-my.sharepoint.com&#x2F;personal&#x2F;meeaghvp_t_odmail_cn&#x2F;Documents</span><br><span class="line">Is that okay?</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; y</span><br></pre></td></tr></table></figure><p>æ¥ç€ä¼šå‡ºç°ä¸€ä¸²é•¿ä»¤ç‰Œï¼ŒPCç«¯çš„æ“ä½œå…¨æ˜¯ä¸ºäº†è¿™ä¸ªä»¤ç‰Œï¼Œå°†ä¸‹å›¾çº¢æ¡†å†…çš„æ•´ä¸ªå¤åˆ¶ï¼Œå¤åˆ¶èŒƒå›´<code>&#123;&quot;access_token&quot;:â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦2019-04-21T16:41:25.1595637+08:00&quot;&#125;</code>ä¿å­˜å¥½ï¼Œä»¥åå°±å¯ä»¥çœäº†è¿™æ­¥PCç«¯æ“ä½œï¼Œä¸‹é¢å°±å›åˆ°VPSæ“ä½œ</p><h2 id="VPSå®‰è£…Rclone"><a href="#VPSå®‰è£…Rclone" class="headerlink" title="VPSå®‰è£…Rclone"></a>VPSå®‰è£…Rclone</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~  #è¿”å›å®¿ä¸»ç›®å½•</span><br><span class="line">curl https:&#x2F;&#x2F;rclone.org&#x2F;install.sh | sudo bash  #å®‰è£…Rclone</span><br><span class="line">rclone config  #é…ç½®Rclone</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¾“å…¥å®Œ<code>rclone config</code>å›è½¦åçš„è¿‡ç¨‹è·Ÿå‰é¢åœ¨PCç«¯çš„é…ç½®æ­¥éª¤åŸºæœ¬ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸å¤è¿°äº†ï¼Œåˆ°äº†<code>Use auto config?</code> é—®ä½ æ˜¯å¦ä½¿ç”¨è‡ªåŠ¨é…ç½®è¿™æ­¥ä¸åŒï¼Œè¿™é‡Œé€‰<code>n</code>å›è½¦ï¼Œç„¶ååœ¨å‡ºç°çš„<code>result&gt;</code>åé¢ç²˜è´´ä¸Šä½ å‰é¢è·å¾—çš„<code>token</code>ç„¶åå›è½¦ï¼Œæ¥ç€ä¼šæœ‰å‡ ä¸ªç¡®è®¤ï¼ˆé—®ä½ æ˜¯å¦OKï¼‰ï¼ŒæŒ‰æç¤ºå¡« <code>y</code> å°±è¡Œï¼Œ<br>ç›´åˆ°åˆå›åˆ°ä¸‹å›¾é…ç½®å¼€å¤´ç•Œé¢ï¼Œè¾“å…¥qå›è½¦é€€å‡ºé…ç½®å³å¯ï¼Œåˆ°æ­¤æˆ‘ä»¬å®Œæˆäº†ç½‘ç›˜çš„æˆæƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">onedrive             onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; q</span><br></pre></td></tr></table></figure><div class="note info flat"><p>ä»¥ä¸Šä¸¤æ­¥å°±æ˜¯ä¸ºäº†å¾—åˆ°tokenï¼Œå¹¶åœ¨VPSé‡Œåˆ›å»ºä¸€ä¸ªrclone.confé…ç½®æ–‡ä»¶ï¼Œè¯¥é…ç½®æ–‡ä»¶ç›®å½•åœ¨<code>/root/.config/rclone/rclone.conf</code>ï¼Œå¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä»¥åå¦‚æœé‡è£…åªéœ€VPSä¸Šå®‰è£…å¥½rcloneï¼Œç„¶åå°†è¿™ä¸ªé…ç½®æ–‡ä»¶æ”¾è¿›è¿™ä¸ªç›®å½•å³å¯ï¼Œå…å»ç¹çé…ç½®è¿‡ç¨‹ã€‚</p></div><h2 id="è‡ªåŠ¨ä¸Šä¼ è®¾ç½®"><a href="#è‡ªåŠ¨ä¸Šä¼ è®¾ç½®" class="headerlink" title="è‡ªåŠ¨ä¸Šä¼ è®¾ç½®"></a>è‡ªåŠ¨ä¸Šä¼ è®¾ç½®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install vim*  #å…ˆå®‰è£…ä¸‹vimï¼Œä¹Ÿå¯ä»¥ä¸å®‰è£…ç”¨viå‘½ä»¤</span><br><span class="line">vim &#x2F;root&#x2F;rcloneupload.sh  #åˆ›å»ºå¹¶æ‰“å¼€åä¸º rcloneupload.sh çš„è„šæœ¬ï¼Œç”¨æ¥å¤„ç†è‡ªåŠ¨ä¸Šè½½</span><br></pre></td></tr></table></figure><p>ä¸ä¼šç”¨<code>vi</code>å‘½ä»¤å¯ä»¥ç½‘ä¸Šå…ˆäº†è§£ä¸‹ã€‚<br>è¿™é‡Œå¤åˆ¶ä»¥ä¸‹å…¨éƒ¨å†…å®¹ç²˜è´´è¿›å»ï¼Œç¡®ä¿é‡Œé¢ä»¥ä¸‹ä¸‰é¡¹çš„è·¯å¾„è·Ÿä½ å‰é¢è®¾ç½®çš„ä¸€è‡´ï¼Œæœ€åæ£€æŸ¥ä¸‹æœ‰æ²¡æœ‰å¤åˆ¶æ¼äº†çš„éƒ¨åˆ†ï¼Œæˆ‘è¿™è¾¹å¤åˆ¶æ€»æ˜¯ç¼ºå¤±å¤´éƒ¨ä¸¤è¡Œçš„å†…å®¹ã€‚<br>ä»¥ä¸‹ä¸‰è¡Œå†…å®¹è·Ÿä½ è®¾ç½®çš„ç›®å½•å¯¹ä¸Šâ†“<br><code>downloadpath=&#39;/data/ccaaDown&#39;</code> #Aria2ä¸‹è½½ç›®å½•<br><code>name=&#39;onedrive&#39;</code> #é…ç½®Rcloneæ—¶çš„name<br><code>folder=&#39;/offline&#39;</code> #ç½‘ç›˜é‡Œçš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ˜¯æ ¹ç›®å½•ç›´æ¥ç•™ç©º<br>æ²¡é—®é¢˜å°±ä¿å­˜é€€å‡ºã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">filepath&#x3D;$3     #å–æ–‡ä»¶åŸå§‹è·¯å¾„ï¼Œå¦‚æœæ˜¯å•æ–‡ä»¶åˆ™ä¸º&#x2F;Download&#x2F;a.mp4ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™è¯¥å€¼ä¸ºæ–‡ä»¶å¤¹å†…ç¬¬ä¸€ä¸ªæ–‡ä»¶æ¯”å¦‚&#x2F;Download&#x2F;a&#x2F;1.mp4</span><br><span class="line">path&#x3D;$&#123;3%&#x2F;*&#125;     #å–æ–‡ä»¶æ ¹è·¯å¾„ï¼Œå¦‚æŠŠ&#x2F;Download&#x2F;a&#x2F;1.mp4å˜æˆ&#x2F;Download&#x2F;a</span><br><span class="line">downloadpath&#x3D;&#39;&#x2F;data&#x2F;ccaaDown&#39;    #Aria2ä¸‹è½½ç›®å½•</span><br><span class="line">name&#x3D;&#39;onedrive&#39; #é…ç½®Rcloneæ—¶çš„name</span><br><span class="line">folder&#x3D;&#39;&#x2F;offline&#39;     #ç½‘ç›˜é‡Œçš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ˜¯æ ¹ç›®å½•ç›´æ¥ç•™ç©º</span><br><span class="line">MinSize&#x3D;&#39;10k&#39;     #é™åˆ¶æœ€ä½ä¸Šä¼ å¤§å°ï¼Œé»˜è®¤10kï¼ŒBTä¸‹è½½æ—¶å¯é˜²æ­¢ä¸Šä¼ å…¶ä»–æ— ç”¨æ–‡ä»¶ã€‚ä¼šåˆ é™¤æ–‡ä»¶ï¼Œè°¨æ…è®¾ç½®ã€‚</span><br><span class="line">MaxSize&#x3D;&#39;15G&#39;     #é™åˆ¶æœ€é«˜æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤15Gï¼ŒOneDriveä¸Šä¼ é™åˆ¶ã€‚</span><br><span class="line"></span><br><span class="line">if [ $2 -eq 0 ]; then exit 0; fi</span><br><span class="line"></span><br><span class="line">while true; do</span><br><span class="line">if [ &quot;$path&quot; &#x3D; &quot;$downloadpath&quot; ] &amp;&amp; [ $2 -eq 1 ]    #å¦‚æœä¸‹è½½çš„æ˜¯å•ä¸ªæ–‡ä»¶</span><br><span class="line">    then</span><br><span class="line">    rclone move -v &quot;$filepath&quot; $&#123;name&#125;:$&#123;folder&#125; --tpslimit 1 --buffer-size&#x3D;10M --min-size $MinSize --max-size $MaxSize</span><br><span class="line">    rm -vf &quot;$filepath&quot;.aria2    #åˆ é™¤æ®‹ç•™çš„.aria.2æ–‡ä»¶</span><br><span class="line">    exit 0</span><br><span class="line">elif [ &quot;$path&quot; !&#x3D; &quot;$downloadpath&quot; ]    #å¦‚æœä¸‹è½½çš„æ˜¯æ–‡ä»¶å¤¹</span><br><span class="line">    then</span><br><span class="line">    while [[ &quot;&#96;ls -A &quot;$path&#x2F;&quot;&#96;&quot; !&#x3D; &quot;&quot; ]]; do</span><br><span class="line">    rclone move -v &quot;$path&quot; $&#123;name&#125;:&#x2F;$&#123;folder&#125;&#x2F;&quot;$&#123;path##*&#x2F;&#125;&quot; --tpslimit 1 --buffer-size&#x3D;10M --min-size $MinSize --max-size $MaxSize --delete-empty-src-dirs</span><br><span class="line">    rclone delete -v &quot;$path&quot; --max-size $MinSize    #åˆ é™¤å¤šä½™çš„æ–‡ä»¶</span><br><span class="line">    rclone rmdirs -v &quot;$downloadpath&quot; --leave-root    #åˆ é™¤ç©ºç›®å½•ï¼Œ--delete-empty-src-dirs å‚æ•°å·²å®ç°ï¼ŒåŠ ä¸Šæ— æ‰€è°“ã€‚</span><br><span class="line">    done</span><br><span class="line">    rm -vf &quot;$path&quot;.aria2    #åˆ é™¤æ®‹ç•™çš„.aria2æ–‡ä»¶</span><br><span class="line">    exit 0</span><br><span class="line">fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ä¿å­˜åç»™äºˆæ‰§è¡Œæƒé™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x &#x2F;root&#x2F;rcloneupload.sh</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–è¾‘<code>Aria2</code>é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ«å°¾åŠ ä¸Šä¸€è¡Œ<code>on-download-complete=/root/rcloneupload.sh</code>å³å¯ï¼Œåé¢ä¸ºè„šæœ¬çš„è·¯å¾„ï¼Œæ„æ€æ˜¯ä¸‹è½½å®Œæˆæ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬å…·æœ‰å˜é‡åƒä¸‡ä¸è¦æ‰‹åŠ¨æ‰§è¡Œã€‚é‡å¯<code>CCAA</code>ä½¿<code>Aria2</code>é…ç½®æ–‡ä»¶ç”Ÿæ•ˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ccaa&#x2F;aria2.conf  #ç¼–è¾‘aria2.conf</span><br><span class="line">on-download-complete&#x3D;&#x2F;root&#x2F;rcloneupload.sh  #æœ«å°¾å¦èµ·ä¸€è¡ŒåŠ ä¸Š</span><br><span class="line">ccaa restart  #é‡å¯ccaa</span><br></pre></td></tr></table></figure><p>å¤§åŠŸå‘Šæˆèµ¶ç´§å»ä¸‹è½½çœ‹çœ‹å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OneDrive </tag>
            
            <tag> Aria2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å²ä¸Šæœ€ç¨³ç§‘å­¦ä¸Šç½‘å§¿åŠ¿-å®å¡”+v2+ws+tls+cdn</title>
      <link href="posts/8eabdcaf/"/>
      <url>posts/8eabdcaf/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note info flat"><p>æœ¬æ•™ç¨‹ä»…ä¸ºäº†æä¾›æŠ€æœ¯äº¤æµï¼Œåˆ‡å‹¿å»åšè¿æ³•ä¹‹äº‹(æ‰‹åŠ¨æ»‘ç¨½)</p></div><p>ä»¥å‰ä¸€ç›´ç”¨çš„ <a href="/posts/9585444e/" title="233çš„ä¸€é”®è„šæœ¬">233çš„ä¸€é”®è„šæœ¬</a> æ­å»ºv2rayçš„ï¼Œä¸Šæ¬¡ä¸æ˜¯ç™½å«–åˆ°<code>euserv</code>å®¶çš„å…è´¹ipv6å°é¸¡ã€‚å°±æƒ³ç€æ­å»ºä¸€ä¸‹v2rayï¼Œç»“æœä¸€ç›´ä¸æˆåŠŸã€‚ç»è¿‡ä¸€ç•ªæœç´¢ï¼Œç»ˆäºä½¿ç”¨å®˜æ–¹åŸç‰ˆçš„è„šæœ¬æ­å»ºæˆåŠŸäº†</p><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><p>é¦–å…ˆï¼Œä½ éœ€è¦å‡†å¤‡ä¸€ä¸ªåŸŸåæ·»åŠ Aè®°å½•è§£æåˆ°ä½ çš„æœåŠ¡å™¨ã€‚<br>sshåˆ°vpsï¼Œåˆ‡æ¢åˆ°rootï¼Œå®‰è£…BTé¢æ¿ <a href="https://www.bt.cn/">https://www.bt.cn/</a><br>æˆåŠŸå®‰è£…åï¼Œç™»å½•å®å¡”ï¼ŒæˆåŠŸç™»å½•åä¼šå¼¹å‡ºæ¨èå®‰è£…å¥—ä»¶ï¼Œé€‰æ‹©ä¸€é”®å®‰è£…ç›¸åº”çš„æ¨èæœåŠ¡ï¼Œå»ºè®®ä½¿ç”¨centos7ã€‚<br>å®‰è£…å®Œæˆå<br>æ¥ä¸‹æ¥å¼€å§‹å®‰è£…v2ray</p><h1 id="å®‰è£…v2ray"><a href="#å®‰è£…v2ray" class="headerlink" title="å®‰è£…v2ray"></a>å®‰è£…v2ray</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># æ­¤è„šæœ¬å·²æ›´æ–°è‡³ä¸‹é¢çš„åœ°å€</span><br><span class="line">#bash &lt;(curl -L -s https:&#x2F;&#x2F;install.direct&#x2F;go.sh)</span><br><span class="line"></span><br><span class="line"># å®‰è£…è„šæœ¬</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh</span><br><span class="line">bash install-release.sh</span><br><span class="line"></span><br><span class="line"># å¸è½½v2ray</span><br><span class="line">bash install-release.sh --remove</span><br><span class="line"></span><br><span class="line"># æ›´æ–°æœ€æ–°çš„geoip.dat å’Œ geosite.dat</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-dat-release.sh</span><br><span class="line">bash install-dat-release.sh</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start v2ray   # å¯åŠ¨</span><br><span class="line">systemctl enable v2ray  # è®¾ç½®å¼€æœºè‡ªå¯</span><br><span class="line">systemctl restart v2ray # é‡å¯</span><br><span class="line">systemctl status v2ray  # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨é…ç½®ï¼Œæ³¨æ„å»é™¤ä»¥ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„ä¸­æ–‡æ³¨é‡Šã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;v2ray&#x2F;config.json</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;log&quot; : &#123;</span><br><span class="line">  &quot;access&quot;: &quot;&#x2F;var&#x2F;log&#x2F;v2ray&#x2F;access.log&quot;,</span><br><span class="line">  &quot;error&quot;: &quot;&#x2F;var&#x2F;log&#x2F;v2ray&#x2F;error.log&quot;,</span><br><span class="line">  &quot;loglevel&quot;: &quot;warning&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;inbound&quot;: &#123;</span><br><span class="line">  &quot;port&quot;: 233, #è‡ªåŠ¨ç”Ÿæˆçš„ç«¯å£ï¼Œé¡»ä¸Nignxè®¾ç½®çš„ç›¸ä¸€è‡´ï¼Œå¯è‡ªå®šä¹‰</span><br><span class="line">  &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;clients&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;id&quot;: &quot;d113539f-aef8-46a8-a570-8132baa0b680&quot;, #è‡ªåŠ¨ç”Ÿæˆçš„UUID</span><br><span class="line">        &quot;level&quot;: 1,</span><br><span class="line">        &quot;alterId&quot;: 64</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;streamSettings&quot;: &#123;</span><br><span class="line">  &quot;network&quot;:&quot;ws&quot;,</span><br><span class="line">  &quot;wsSettings&quot;: &#123;</span><br><span class="line">  &quot;path&quot;: &quot;&#x2F;ws&quot;, #pathå¯è‡ªå®šä¹‰ï¼Œè¿™é‡Œæ˜¯&#x2F;wsï¼Œé¡»ä¸Nginxå’Œå®¢æˆ·ç«¯çš„pathç›¸ä¸€è‡´</span><br><span class="line">  &quot;headers&quot;: &#123;</span><br><span class="line">  &quot;Host&quot;: &quot;&quot; #Hostå¯è‡ªå®šäºä»»æ„åŸŸåï¼Œæ­¤å¤„æ²¡æœ‰æ·»åŠ </span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;outbound&quot;: &#123;</span><br><span class="line">  &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;outboundDetour&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;,</span><br><span class="line">    &quot;tag&quot;: &quot;blocked&quot;</span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line">&quot;routing&quot;: &#123;</span><br><span class="line">  &quot;strategy&quot;: &quot;rules&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;rules&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;ip&quot;: [</span><br><span class="line">          &quot;0.0.0.0&#x2F;8&quot;,</span><br><span class="line">          &quot;10.0.0.0&#x2F;8&quot;,</span><br><span class="line">          &quot;100.64.0.0&#x2F;10&quot;,</span><br><span class="line">          &quot;127.0.0.0&#x2F;8&quot;,</span><br><span class="line">          &quot;169.254.0.0&#x2F;16&quot;,</span><br><span class="line">          &quot;172.16.0.0&#x2F;12&quot;,</span><br><span class="line">          &quot;192.0.0.0&#x2F;24&quot;,</span><br><span class="line">          &quot;192.0.2.0&#x2F;24&quot;,</span><br><span class="line">          &quot;192.168.0.0&#x2F;16&quot;,</span><br><span class="line">          &quot;198.18.0.0&#x2F;15&quot;,</span><br><span class="line">          &quot;198.51.100.0&#x2F;24&quot;,</span><br><span class="line">          &quot;203.0.113.0&#x2F;24&quot;,</span><br><span class="line">          &quot;::1&#x2F;128&quot;,</span><br><span class="line">          &quot;fc00::&#x2F;7&quot;,</span><br><span class="line">          &quot;fe80::&#x2F;10&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;outboundTag&quot;: &quot;blocked&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®å¡”æ­å»ºwebé¡µé¢"><a href="#å®å¡”æ­å»ºwebé¡µé¢" class="headerlink" title="å®å¡”æ­å»ºwebé¡µé¢"></a>å®å¡”æ­å»ºwebé¡µé¢</h1><p>æ–°å»ºä¸€ä¸ªç½‘ç«™ï¼Œé…ç½®sslï¼Œåˆ©ç”¨å®å¡”Letâ€™s Encryptå…è´¹çš„sslã€‚<br>ç„¶åé€‰æ‹©é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ€åä¸€ä¸ª<code>&#125;</code>å‰ä¸€è¡Œå¤åˆ¶å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;ws &#123;</span><br><span class="line"> proxy_redirect off;</span><br><span class="line"> proxy_pass http:&#x2F;&#x2F;127.0.0.1:233;</span><br><span class="line"> proxy_http_version 1.1;</span><br><span class="line"> proxy_set_header Upgrade $http_upgrade;</span><br><span class="line"> proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line"> proxy_set_header Host $http_host;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ€åé‡å¯v2rayå’Œnginx</p><h1 id="cfè‡ªé€‰èŠ‚ç‚¹"><a href="#cfè‡ªé€‰èŠ‚ç‚¹" class="headerlink" title="cfè‡ªé€‰èŠ‚ç‚¹"></a>cfè‡ªé€‰èŠ‚ç‚¹</h1><a href="/posts/f019efb0/" title="cloudflareè‡ªé€‰èŠ‚ç‚¹">cloudflareè‡ªé€‰èŠ‚ç‚¹</a> ]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®å¡” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®å¡”æ­å»ºcloudreveå¹¶é…ç½®aria2ç¦»çº¿ä¸‹è½½</title>
      <link href="posts/eeb69578/"/>
      <url>posts/eeb69578/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><h2 id="Cloudreveæ˜¯ä»€ä¹ˆ"><a href="#Cloudreveæ˜¯ä»€ä¹ˆ" class="headerlink" title="Cloudreveæ˜¯ä»€ä¹ˆ"></a>Cloudreveæ˜¯ä»€ä¹ˆ</h2><p>Cloudreve æ˜¯ä¸ªå…¬æœ‰ç½‘ç›˜ç¨‹åºï¼Œä½ å¯ä»¥ç”¨å®ƒå¿«é€Ÿæ­å»ºèµ·è‡ªå·±çš„ç½‘ç›˜æœåŠ¡ï¼Œå…¬æœ‰äº‘/ç§æœ‰äº‘éƒ½å¯ã€‚Cloudreve åº•å±‚æ”¯æŒ æœ¬æœºå­˜å‚¨ã€ä»æœºå­˜å‚¨ã€é˜¿é‡Œäº‘OSSã€åˆæ‹äº‘ã€è…¾è®¯äº‘COSã€ä¸ƒç‰›äº‘å­˜å‚¨ã€OneDriveï¼ˆå›½é™…ç‰ˆ/ä¸–çºªäº’è”ç‰ˆï¼‰ï¼Œæ¯ç§å­˜å‚¨æ–¹å¼çš„ä¸Šä¼ ä¸‹è½½éƒ½æ˜¯å®¢æˆ·ç«¯ç›´ä¼ ã€‚ä½ å¯ä»¥ä¸ºä¸åŒç”¨æˆ·ç»„ç»‘å®šä¸åŒå­˜å‚¨ç­–ç•¥ï¼ŒæåŠ©è·å¾—Proç‰ˆåï¼Œå¯ä»¥ä¸ºä¸€ä¸ªç”¨æˆ·ç»„åˆ†é…å¤šä¸ªå­˜å‚¨æ–¹å¼ï¼Œç”¨æˆ·å¯ä»¥åœ¨å‰å°è‡ªç”±åˆ‡æ¢ã€‚</p><h2 id="ç‰¹æ€§åˆ—è¡¨"><a href="#ç‰¹æ€§åˆ—è¡¨" class="headerlink" title="ç‰¹æ€§åˆ—è¡¨"></a>ç‰¹æ€§åˆ—è¡¨</h2><ul><li>æ”¯æŒæœ¬æœºã€ä»æœºã€ä¸ƒç‰›ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€åˆæ‹äº‘ã€OneDrive (åŒ…æ‹¬ä¸–çºªäº’è”ç‰ˆ) ä½œä¸ºå­˜å‚¨ç«¯</li><li>ä¸Šä¼ /ä¸‹è½½ æ”¯æŒå®¢æˆ·ç«¯ç›´ä¼ ï¼Œæ”¯æŒä¸‹è½½é™é€Ÿ</li><li>å¯å¯¹æ¥ Aria2 ç¦»çº¿ä¸‹è½½ï¼ˆæ”¯æŒæ‰€æœ‰å­˜å‚¨ç­–ç•¥ï¼Œä¸‹è½½å®Œæˆåè‡ªåŠ¨ä¸­è½¬ï¼‰</li><li>åœ¨çº¿ å‹ç¼©/è§£å‹ç¼©ã€å¤šæ–‡ä»¶æ‰“åŒ…ä¸‹è½½ï¼ˆæ”¯æŒæ‰€æœ‰å­˜å‚¨ç­–ç•¥ï¼‰</li><li>è¦†ç›–å…¨éƒ¨å­˜å‚¨ç­–ç•¥çš„ WebDAV åè®®æ”¯æŒ</li><li>æ‹–æ‹½ä¸Šä¼ ã€ç›®å½•ä¸Šä¼ ã€æµå¼ä¸Šä¼ å¤„ç†</li><li>æ–‡ä»¶æ‹–æ‹½ç®¡ç†</li><li>å¤šç”¨æˆ·ã€ç”¨æˆ·ç»„</li><li>åˆ›å»ºæ–‡ä»¶ã€ç›®å½•çš„åˆ†äº«é“¾æ¥ï¼Œå¯è®¾å®šè‡ªåŠ¨è¿‡æœŸ</li><li>è§†é¢‘ã€å›¾åƒã€éŸ³é¢‘ã€æ–‡æœ¬ã€Office æ–‡æ¡£åœ¨çº¿é¢„è§ˆ</li><li>è‡ªå®šä¹‰é…è‰²ã€é»‘æš—æ¨¡å¼ã€PWA åº”ç”¨ã€å…¨ç«™å•é¡µåº”ç”¨</li><li>All-In-One æ‰“åŒ…ï¼Œå¼€ç®±å³ç”¨</li></ul><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>å»githubä¸Šä¸‹è½½æºç åŒ…ï¼š<a href="https://github.com/cloudreve/Cloudreve/releases">https://github.com/cloudreve/Cloudreve/releases</a></p><p>è§£å‹å¹¶å®‰è£…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#è§£å‹è·å–åˆ°çš„ä¸»ç¨‹åº</span><br><span class="line">tar -zxvf cloudreve_VERSION_OS_ARCH.tar.gz</span><br><span class="line"></span><br><span class="line"># èµ‹äºˆæ‰§è¡Œæƒé™</span><br><span class="line">chmod +x .&#x2F;cloudreve</span><br><span class="line"></span><br><span class="line"># å¯åŠ¨ Cloudreve</span><br><span class="line">.&#x2F;cloudreve</span><br></pre></td></tr></table></figure><p>Cloudreve åœ¨é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šåˆ›å»ºåˆå§‹ç®¡ç†å‘˜è´¦å·ï¼Œè¯·æ³¨æ„ä¿ç®¡ç®¡ç†å‘˜å¯†ç ï¼Œæ­¤å¯†ç åªä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶å‡ºç°ã€‚å¦‚æœæ‚¨å¿˜è®°åˆå§‹ç®¡ç†å‘˜å¯†ç ï¼Œéœ€è¦åˆ é™¤åŒçº§ç›®å½•ä¸‹çš„cloudreve.dbï¼Œé‡æ–°å¯åŠ¨ä¸»ç¨‹åºä»¥åˆå§‹åŒ–æ–°çš„ç®¡ç†å‘˜è´¦æˆ·ã€‚<br>Cloudreve é»˜è®¤ä¼šç›‘å¬5212ç«¯å£ã€‚ä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>http://æœåŠ¡å™¨IP:521</code>è¿›å…¥ Cloudreveã€‚</p><h1 id="å®å¡”åå‘ä»£ç†å’Œè¿›ç¨‹å®ˆæŠ¤"><a href="#å®å¡”åå‘ä»£ç†å’Œè¿›ç¨‹å®ˆæŠ¤" class="headerlink" title="å®å¡”åå‘ä»£ç†å’Œè¿›ç¨‹å®ˆæŠ¤"></a>å®å¡”åå‘ä»£ç†å’Œè¿›ç¨‹å®ˆæŠ¤</h1><ul><li>å®‰è£…Supervisorç®¡ç†å™¨ï¼Œå¹¶æ·»åŠ å®ˆæŠ¤è¿›ç¨‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200323122803.png"></p><ul><li>æ·»åŠ åå‘ä»£ç†</li></ul><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°ç«™ç‚¹</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200323123001.png"></p><p>ç”³è¯·sslï¼Œå¹¶åˆ›å»ºåå‘ä»£ç†ã€‚è¦å…ˆç”³è¯·sslï¼Œå†åˆ›å»ºåå‘ä»£ç†ã€‚ä¸ç„¶ç”³è¯·sslä¼šä¸æˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200323123215.png"></p><h1 id="å®‰è£…aria2"><a href="#å®‰è£…aria2" class="headerlink" title="å®‰è£…aria2"></a>å®‰è£…aria2</h1><p>è¿™é‡Œä½¿ç”¨<a href="https://www.moerats.com/">èŒé¼ çš„è„šæœ¬</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https:&#x2F;&#x2F;www.moerats.com&#x2F;usr&#x2F;shell&#x2F;Aria2&#x2F;aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹å¯†ç ã€ä¸‹è½½æ–‡ä»¶ä½ç½®ã€ç«¯å£çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤bash aria2.shï¼Œå†é€‰æ‹©ä¿®æ”¹é…ç½®å³å¯ï¼Œè¿™é‡Œå»ºè®®ä½¿ç”¨è¯¥è„šæœ¬é…ç½®è‡ªåŠ¨æ›´æ–°<code>BT-Tracker</code>æœåŠ¡å™¨ï¼Œå¯¹ä¸‹è½½BTæœ‰åŠ æˆã€‚</p><p>åœ¨cloudreveé…ç½®aria2</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200323132623.png"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudreve </tag>
            
            <tag> Aria2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>debianå®‰è£…docker</title>
      <link href="posts/36e1b6fa/"/>
      <url>posts/36e1b6fa/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.docker.com/install/linux/docker-ce/debian/">https://docs.docker.com/install/linux/docker-ce/debian/</a></p><h1 id="å¸è½½æ—§ç‰ˆæœ¬"><a href="#å¸è½½æ—§ç‰ˆæœ¬" class="headerlink" title="å¸è½½æ—§ç‰ˆæœ¬"></a>å¸è½½æ—§ç‰ˆæœ¬</h1><p>æ—§ç‰ˆæœ¬è¢«ç§°ä¸ºdockerï¼Œdocker.io æˆ–docker-engineã€‚å¦‚æœå·²å®‰è£…ï¼Œè¯·å¸è½½å®ƒä»¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®å­˜å‚¨åº“"><a href="#è®¾ç½®å­˜å‚¨åº“" class="headerlink" title="è®¾ç½®å­˜å‚¨åº“"></a>è®¾ç½®å­˜å‚¨åº“</h1><ul><li>æ›´æ–°aptåŒ…ç´¢å¼•ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…åŒ…ä»¥å…è®¸apté€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg2 \</span><br><span class="line">    software-properties-common</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ Dockerçš„å®˜æ–¹GPGå¯†é’¥ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian&#x2F;gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure><ul><li>éªŒè¯æ‚¨ç°åœ¨æ‹¥æœ‰å¸¦æŒ‡çº¹çš„å¯†é’¥</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-key fingerprint 0EBFCD88</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ æº</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository \</span><br><span class="line">   &quot;deb [arch&#x3D;amd64] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian \</span><br><span class="line">   $(lsb_release -cs) \</span><br><span class="line">   stable&quot;</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…DOCKER-CE"><a href="#å®‰è£…DOCKER-CE" class="headerlink" title="å®‰è£…DOCKER CE"></a>å®‰è£…DOCKER CE</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><h1 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h1><ul><li>å¯åŠ¨docker(å¦‚æœæ²¡æœ‰å¯åŠ¨)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹ç‰ˆæœ¬</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ipv4çš„vpsè·å–ipv6åœ°å€</title>
      <link href="posts/2242452b/"/>
      <url>posts/2242452b/</url>
      
        <content type="html"><![CDATA[<h1 id="æ³¨å†Œè´¦æˆ·"><a href="#æ³¨å†Œè´¦æˆ·" class="headerlink" title="æ³¨å†Œè´¦æˆ·"></a>æ³¨å†Œè´¦æˆ·</h1><p>é¦–å…ˆå‰å¾€ä¸‹é¢è¿™ä¸ªç½‘ç«™æ³¨å†Œä¸€ä¸ªè´¦æˆ·ï¼š</p><p><a href="https://www.tunnelbroker.net/">https://www.tunnelbroker.net</a></p><p>æ³¨å†Œè´¦æˆ·çš„è¿‡ç¨‹å°±ä¸è¯´äº†ï¼Œæ³¨å†Œå®Œè´¦æˆ·ä¹‹åï¼Œç‚¹å‡»å·¦ä¾§çš„ Create Regular Tunnelï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319110333.png"></p><h1 id="ä¿®æ”¹vpsç«¯é…ç½®"><a href="#ä¿®æ”¹vpsç«¯é…ç½®" class="headerlink" title="ä¿®æ”¹vpsç«¯é…ç½®"></a>ä¿®æ”¹vpsç«¯é…ç½®</h1><p>é€‰æ‹©ä½ å¯¹åº”çš„æ“ä½œç³»ç»Ÿï¼Œæˆ‘çš„æ˜¯debainï¼Œæ‰€ä»¥å°±å°†ä¸‹é¢çš„å†…å®¹å†™å…¥<code>/etc/network/interfaces</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">auto he-ipv6</span><br><span class="line">iface he-ipv6 inet6 v4tunnel</span><br><span class="line">        address 2001:470:1f06:6f3::2</span><br><span class="line">        netmask 64</span><br><span class="line">        endpoint 209.51.161.14</span><br><span class="line">        local your_ip</span><br><span class="line">        ttl 255</span><br><span class="line">        gateway 2001:470:1f06:6f3::1</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319110603.png"></p><p>é‡å¯å°±å¯ä»¥è®¿é—®ipv6äº†ï¼Œ<code>ping6 www.google.com</code>æ¥æµ‹è¯•</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ipv6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ipv6çš„å°é¸¡å®‰è£…å®å¡”é¢æ¿</title>
      <link href="posts/ea73cc4c/"/>
      <url>posts/ea73cc4c/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å‰å‡ å¤©åœ¨è®ºå›çœ‹åˆ°å¾·å›½çš„ä¸€å®¶vpså•†å®¶æœ‰å…è´¹çš„ipv6å°é¸¡ï¼Œå°±å»ç™½å«–äº†ä¸€ä¸ªï¼Œå°±æ˜¯è¿™å®¶<a href="https://www.euserv.com/en/">euserv</a></p><h1 id="ä¿®æ”¹dns"><a href="#ä¿®æ”¹dns" class="headerlink" title="ä¿®æ”¹dns"></a>ä¿®æ”¹dns</h1><p>é¦–å…ˆç»™ipv6å°é¸¡å®‰è£…å¥½ç³»ç»Ÿï¼Œæˆ‘é€‰æ‹©çš„<code>debain9</code>,ä¿®æ”¹dns</p><p>ä¿®æ”¹<code>/etc/resolv.conf</code>çš„<code>nameserver</code>å€¼å³å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nameserver 2001:67c:2b0::4</span><br><span class="line">nameserver 2001:67c:2b0::6</span><br></pre></td></tr></table></figure><blockquote><p>æ¬§æ´²æœ‰ä¸€äº›å…¬ç›Šç»„ç»‡æä¾›å…è´¹çš„DNS64+NAT64æœåŠ¡ï¼Œè®©ipv6 only è®¿é—®ipv4çš„ç½‘ç«™æ¯”å¦‚ä¸‹é¢è¿™ä¸¤ä¸ªã€‚</p></blockquote><blockquote><p><a href="http://www.trex.fi/2011/dns64.html">http://www.trex.fi/2011/dns64.html</a><br>2001:67c:2b0::4<br>2001:67c:2b0::6</p></blockquote><blockquote><p><a href="https://go6lab.si/current-ipv6-tests/nat64dns64-public-test/">https://go6lab.si/current-ipv6-tests/nat64dns64-public-test/</a><br>2001:67c:27e4:15::6411<br>2001:67c:27e4::64</p></blockquote><h1 id="å®‰è£…bt"><a href="#å®‰è£…bt" class="headerlink" title="å®‰è£…bt"></a>å®‰è£…bt</h1><ol><li>å»<a href="https://www.bt.cn/bbs/thread-19376-1-1.html">å®å¡”å®˜ç½‘</a>æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…å‘½ä»¤ï¼Œæˆ‘çš„æ—¶debainï¼Œå‘½ä»¤å¦‚ä¸‹</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£…lnmpç¯å¢ƒï¼Œè¿›å…¥å®å¡”é¢æ¿ä¼šå¼¹å‡ºä¸€é”®å®‰è£…é¡µé¢</li></ol><h1 id="btå¥—cf"><a href="#btå¥—cf" class="headerlink" title="btå¥—cf"></a>btå¥—cf</h1><h2 id="å‡†å¤‡åŸŸå"><a href="#å‡†å¤‡åŸŸå" class="headerlink" title="å‡†å¤‡åŸŸå"></a>å‡†å¤‡åŸŸå</h2><p>ä½ éœ€è¦ä¸€ä¸ªåŸŸåï¼Œå¹¶æ·»åŠ AAAAè®°å½•åˆ°ä½ çš„ipv6å°é¸¡</p><h2 id="btæ”¾è¡Œ8080ç«¯å£"><a href="#btæ”¾è¡Œ8080ç«¯å£" class="headerlink" title="btæ”¾è¡Œ8080ç«¯å£"></a>btæ”¾è¡Œ8080ç«¯å£</h2><p>cloudflareæ”¯æŒä¸€ä¸‹ç«¯å£ï¼Œæ‰€ä»¥è¦æ›´æ”¹bté¢æ¿çš„ç«¯å£<br>By default, Cloudflare proxies traffic destined for the HTTP/HTTPS ports listed below<br>HTTP ports supported by Cloudflare:<br>80<br>8080<br>8880<br>2052<br>2082<br>2086<br>2095<br>HTTPS ports supported by Cloudflare:<br>443<br>2053<br>2083<br>2087<br>2096</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319081913.png"></p><h2 id="ä¿®æ”¹btç«¯å£å’ŒåŸŸåç»‘å®š"><a href="#ä¿®æ”¹btç«¯å£å’ŒåŸŸåç»‘å®š" class="headerlink" title="ä¿®æ”¹btç«¯å£å’ŒåŸŸåç»‘å®š"></a>ä¿®æ”¹btç«¯å£å’ŒåŸŸåç»‘å®š</h2><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319082401.png"></p><h2 id="æ–°å»ºä¸€ä¸ªç«™ç‚¹"><a href="#æ–°å»ºä¸€ä¸ªç«™ç‚¹" class="headerlink" title="æ–°å»ºä¸€ä¸ªç«™ç‚¹"></a>æ–°å»ºä¸€ä¸ªç«™ç‚¹</h2><p>å®å¡”é¢æ¿ä¸­æ–°å»ºä¸€ä¸ªç«™ç‚¹ã€‚ä¹Ÿä¸è¦ä»€ä¹ˆphpç‰ˆæœ¬äº†ï¼Œé€‰æ‹©çº¯é™æ€å°±å¯ä»¥äº†ã€‚åŸŸåï¼Œå°±æ˜¯ä½ å‡†å¤‡å¥½çš„åŸŸåã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319082956.png"></p><h2 id="è®¾ç½®åä»£"><a href="#è®¾ç½®åä»£" class="headerlink" title="è®¾ç½®åä»£"></a>è®¾ç½®åä»£</h2><p>è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œåœ¨åˆšåˆšçš„æ–°å»ºçš„ç½‘ç«™é‡Œé¢è®¾ç½®ä¸€ä¸ªåä»£ã€‚</p><p>ç›®æ ‡URLï¼š<a href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319083219.png"></p><h2 id="æ›´æ”¹è§£æåˆ°cf"><a href="#æ›´æ”¹è§£æåˆ°cf" class="headerlink" title="æ›´æ”¹è§£æåˆ°cf"></a>æ›´æ”¹è§£æåˆ°cf</h2><p>å¯ä»¥è‡ªé€‰èŠ‚ç‚¹ï¼Œæˆ–è€…ä½¿ç”¨é»˜è®¤åˆ†é…çš„èŠ‚ç‚¹</p><a href="/posts/f019efb0/" title="cloudflareè‡ªé€‰èŠ‚ç‚¹">cloudflareè‡ªé€‰èŠ‚ç‚¹</a> <h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™æ ·å¥—äº†cfä¹‹åï¼Œå°±ä¸éœ€è¦è€ƒè™‘æœ¬åœ°æ˜¯å¦æœ‰ipv6äº†ï¼Œå› ä¸ºæ˜¯è®¿é—®çš„cfçš„èŠ‚ç‚¹</p><p>2020-03-22æ›´æ–°ï¼š</p><div class="note info flat"><p>å®å¡”é¢æ¿æœ‰ä¸ªæ’ä»¶æ˜¯<code>å ¡å¡”é¢æ¿é™æ€æ–‡ä»¶åŠ é€Ÿ 1.0</code>ï¼Œå¯ä»¥å®ç°å®å¡”çš„é™æ€æ–‡ä»¶åŠ é€Ÿï¼Œå¯ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦</p></div>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ipv6 </tag>
            
            <tag> å®å¡” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vpsæµ‹é€ŸåŠç§‘å­¦ä¸Šç½‘å¸¸ç”¨è„šæœ¬</title>
      <link href="posts/9585444e/"/>
      <url>posts/9585444e/</url>
      
        <content type="html"><![CDATA[<h1 id="ç§‘å­¦ä¸Šç½‘"><a href="#ç§‘å­¦ä¸Šç½‘" class="headerlink" title="ç§‘å­¦ä¸Šç½‘"></a>ç§‘å­¦ä¸Šç½‘</h1><h2 id="ssr"><a href="#ssr" class="headerlink" title="ssr"></a>ssr</h2><p>é€—æ¯”ssrè„šæœ¬ï¼Œä¼šè‡ªåŠ¨å¼€å¯é”é€Ÿï¼Œå¯é…ç½®é”é€Ÿå’Œbbr</p><h3 id="å•ç”¨æˆ·è„šæœ¬"><a href="#å•ç”¨æˆ·è„šæœ¬" class="headerlink" title="å•ç”¨æˆ·è„šæœ¬"></a>å•ç”¨æˆ·è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/liuyaanng/SSR/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; ./ssr.sh</span><br></pre></td></tr></table></figure><h3 id="å¤šç”¨æˆ·ç®¡ç†è„šæœ¬"><a href="#å¤šç”¨æˆ·ç®¡ç†è„šæœ¬" class="headerlink" title="å¤šç”¨æˆ·ç®¡ç†è„šæœ¬"></a>å¤šç”¨æˆ·ç®¡ç†è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/ssrmu.sh &amp;&amp; chmod +x ssrmu.sh &amp;&amp; bash ssrmu.sh</span><br></pre></td></tr></table></figure><blockquote><p>é€—æ¯”çš„ssrè„šæœ¬ï¼Œå®‰è£…chaccha20çš„é‚£ä¸ªé€‰é¡¹æ˜¯åçš„ï¼Œå®‰è£…ä¸Šchacha20ï¼Œè€Œä¸”å®‰è£…æ—¶é—´éå¸¸ç¹çï¼Œå¤§å®¶å¯ä»¥å»ç™¾åº¦å»æœç´¢å¯¹åº”ä½ ç³»ç»Ÿçš„chacha20çš„å®‰è£…æ–¹å¼ã€‚</p></blockquote><blockquote><p>ä»‹ç»ä¸ªé»‘ç§‘æŠ€ æ··æ·†é€‰æ‹© tls1.2_ticket_auth ï¼ŒåŒæ—¶æ··æ·†å‚æ•°ä½¿ç”¨ officecdn.microsoft.com</p></blockquote><h2 id="v2ray"><a href="#v2ray" class="headerlink" title="v2ray"></a>v2ray</h2><p>2333çš„v2rayè„šæœ¬ï¼Œä¼šè‡ªåŠ¨å¼€å¯bbrï¼Œå¯é…ç½®bbrå’Œé”é€Ÿ</p><h3 id="ipv4è„šæœ¬"><a href="#ipv4è„šæœ¬" class="headerlink" title="ipv4è„šæœ¬"></a>ipv4è„šæœ¬</h3><p>ä¸€èˆ¬æœ‰ipv4çš„é€‰è¿™ä¸ªå°±å¯ä»¥äº†ï¼Œåªæœ‰ipv6çš„vpsé€‰ä¸‹é¢çš„ipv6ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">apt-get update -y &amp;&amp; apt-get install curl -y</span><br><span class="line"></span><br><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä»–è„šæœ¬çš„ws+tlså¤§éƒ¨åˆ†äººä¸èƒ½ç”¨ï¼Œæ˜¯è„šæœ¬çš„é—®é¢˜ã€‚(æˆ‘è‡ªå·±èƒ½ç”¨)</p></blockquote><p>æ¨èå¦ä¸€ä¸ªè„šæœ¬ ï¼ˆåªæœ‰ws+tls+webçš„åŠŸèƒ½ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure><blockquote><p>ä¸æ¨èä½¿ç”¨é‚£äº›å¸¦webçš„v2è„šæœ¬ï¼Œæ‰§è¡Œæ•ˆç‡å·®ï¼Œå ç”¨å†…å­˜é«˜ï¼Œè¿˜ä¼šå’Œå®å¡”ç­‰æ“ä½œç•Œé¢å†²çªï¼Œå¯¼è‡´å®å¡”ç­‰æ‰“ä¸å¼€ã€‚</p></blockquote><h3 id="ipv6ç‰ˆæœ¬"><a href="#ipv6ç‰ˆæœ¬" class="headerlink" title="ipv6ç‰ˆæœ¬"></a>ipv6ç‰ˆæœ¬</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è®¾ç½®æ—¶é—´</span><br><span class="line">cp &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹æ˜¯å¦æ­£ç¡®</span><br><span class="line">date -R</span><br><span class="line"></span><br><span class="line">å®‰è£…v2ray_ipv6</span><br><span class="line">apt-get update &amp;&amp; apt-get install curl -y</span><br><span class="line">bash &lt;(curl -sL https:&#x2F;&#x2F;scaleya.netlify.com&#x2F;share&#x2F;v2ray233_6.sh)</span><br></pre></td></tr></table></figure><blockquote><p>æ¬§æ´²æœ‰ä¸€äº›å…¬ç›Šç»„ç»‡æä¾›å…è´¹çš„DNS64+NAT64æœåŠ¡ï¼Œè®©ipv6 only è®¿é—®ipv4çš„ç½‘ç«™æ¯”å¦‚ä¸‹é¢è¿™ä¸¤ä¸ªã€‚</p></blockquote><blockquote><p><a href="http://www.trex.fi/2011/dns64.html">http://www.trex.fi/2011/dns64.html</a><br>2001:67c:2b0::4<br>2001:67c:2b0::6</p></blockquote><blockquote><p><a href="https://go6lab.si/current-ipv6-tests/nat64dns64-public-test/">https://go6lab.si/current-ipv6-tests/nat64dns64-public-test/</a><br>2001:67c:27e4:15::6411<br>2001:67c:27e4::64<br>ä¸€èˆ¬ä¿®æ”¹/etc/resolv.confçš„nameserverå€¼å³å¯</p></blockquote><h2 id="BBr-é”é€Ÿå››åˆä¸€è„šæœ¬"><a href="#BBr-é”é€Ÿå››åˆä¸€è„šæœ¬" class="headerlink" title="BBr/é”é€Ÿå››åˆä¸€è„šæœ¬"></a>BBr/é”é€Ÿå››åˆä¸€è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span> &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå››åˆä¸€è„šæœ¬ä¸­é”é€Ÿä¸èƒ½ä½¿ç”¨ï¼Œæ•™å¤§å®¶ä¸€ä¸ªä½¿ç”¨é”é€Ÿçš„åŠæ³•ï¼Œå…ˆç”¨å››åˆä¸€çš„è„šæœ¬å®‰è£…ä¸Šé”é€Ÿå†…æ ¸ï¼Œç„¶åç”¨èŒå’–å¤§ä½¬çš„å¯åŠ¨æ–¹å¼<a href="https://moeclub.org/2017/03/09/14/?spm=33.3">https://moeclub.org/2017/03/09/14/?spm=33.3</a> å»å¯åŠ¨é”é€Ÿ</p></blockquote><h2 id="bbr-é”é€Ÿå››åˆä¸€è„šæœ¬å‡çº§ç‰ˆ"><a href="#bbr-é”é€Ÿå››åˆä¸€è„šæœ¬å‡çº§ç‰ˆ" class="headerlink" title="bbr/é”é€Ÿå››åˆä¸€è„šæœ¬å‡çº§ç‰ˆ"></a>bbr/é”é€Ÿå››åˆä¸€è„šæœ¬å‡çº§ç‰ˆ</h2><p>æ­¤è„šæœ¬å¯ä»¥ä¸€é”®å¿«é€Ÿå®‰è£…BBRåŸç‰ˆå†…æ ¸ï¼ˆ5.4.13/5.4.14/5.5.0ï¼‰ã€BBRplusç‰ˆå†…æ ¸ï¼ˆ4.14.168ï¼‰ã€å¤šç§Lotserver(é”é€Ÿ)å†…æ ¸ã€xanmodç‰ˆå†…æ ¸ï¼ˆ5.5.1ï¼‰ã€BBR2æµ‹è¯•ç‰ˆå†…æ ¸ï¼ˆ5.4.0ï¼‰ã€Zenç‰ˆå†…æ ¸ï¼ˆ5.5.2ï¼‰ã€‚åŠ é€Ÿæ–¹æ¡ˆä¹Ÿæœ‰å¤šç§é€‰æ‹©ï¼šBBR+FQåŠ é€Ÿã€BBR+CAKEåŠ é€Ÿ ã€BBRplus+FQç‰ˆåŠ é€Ÿã€Lotserver(é”é€Ÿ)åŠ é€Ÿã€BBR2+FQåŠ é€Ÿã€BBR2+CAKEåŠ é€Ÿã€BBR2+FQ+ECNåŠ é€Ÿã€BBR2+CAKE+ECNåŠ é€Ÿï¼ŒåŠ é€Ÿæ¨¡å¼æŒºå…¨é¢çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://github.000060000.xyz/tcpx.sh&quot;</span> &amp;&amp; chmod +x tcpx.sh &amp;&amp; ./tcpx.sh</span><br></pre></td></tr></table></figure><p>å¸è½½å†…æ ¸ç‰ˆæœ¬ï¼ŒåŒåŸä½œè€…ç‰ˆæœ¬ï¼Œåˆ é™¤å®‰è£…å†…æ ¸ä»¥å¤–çš„æ‰€æœ‰å†…æ ¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://github.000060000.xyz/tcp.sh&quot;</span> &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>æ”¯æŒç‰ˆæœ¬:</p><p>for bbr/bbrplus</p><p>centos6,7,8<br>debian8.9.10<br>ubuntu16,18,19</p><p>é”é€Ÿå†…æ ¸ç¨å¾®æ›´æ–°</p><p>xanmod/Zen/BBR2 åªæ·»åŠ äº†centos7,8 debian9,10</p><p>æç¤ºAbort kernel removal? é€‰æ‹©No</p><p>5.5å†…æ ¸åŠBBR2å†…æ ¸æ”¯æŒcakeé˜Ÿåˆ—</p><p>åŒæŒbbr+é”é€Ÿ</p><p>bbr æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é”é€Ÿæ–‡ä»¶<br><code>nano /appex/etc/config</code></p><p>æ£€æµ‹ä»£ç æœ‰BUGï¼Œå¦‚æœé”é€Ÿæ­£å¸¸ è¿è¡ŒæŸ¥çœ‹<br><code>bash /appex/bin/lotServer.sh status | grep &quot;LotServer&quot;</code></p><p>æ£€æŸ¥bbr å†…æ ¸é»˜è®¤bbrç®—æ³•ä¸ä¼šæœ‰è¾“å‡º<br><code>lsmod | grep bbr</code></p><p>æ£€æŸ¥centoså®‰è£…å†…æ ¸<br><code>grubby --info=ALL|awk -F= &#39;$1==&quot;kernel&quot; &#123;print i++ &quot; : &quot; $2&#125;&#39;</code></p><p>æŸ¥çœ‹å½“å‰æ”¯æŒTCPç®—æ³•<br><code>cat /proc/sys/net/ipv4/tcp_allowed_congestion_control</code></p><p>æŸ¥çœ‹å½“å‰è¿è¡Œçš„ç®—æ³•<br><code>cat /proc/sys/net/ipv4/tcp_congestion_control</code></p><p>æŸ¥çœ‹å½“å‰é˜Ÿåˆ—ç®—æ³•<br><code>sysctl net.core.default_qdisc</code></p><p>å‘½ä»¤ï¼š <code>uname -a</code><br>ä½œç”¨ï¼š æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬å·åŠç³»ç»Ÿåç§°</p><p>å‘½ä»¤ï¼š <code>cat /proc/version</code><br>ä½œç”¨ï¼š æŸ¥çœ‹ç›®å½•â€/procâ€ä¸‹versionçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°å½“å‰ç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬å·åŠç³»ç»Ÿåç§°</p><p>çœŸå®é˜Ÿåˆ—æŸ¥çœ‹ï¼Ÿ æ›´æ”¹é˜Ÿåˆ—ç®—æ³•å¯èƒ½éœ€è¦é‡å¯ç”Ÿæ•ˆ<br><code>tc -s qdisc show</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote><p>bbrplusæ˜¯é€‚ç”¨æ€§æœ€å¹¿çš„ï¼Œæ•ˆæœå…¼å®¹æ€§åˆå¥½çš„åŠ é€Ÿæ–¹å¼ï¼Œå¦‚æœä½ ä¸çŸ¥é“ç”¨å•¥åŠ é€Ÿï¼Œå°±é€‰å®ƒã€‚åªæ˜¯æœ‰çš„æœºå™¨ä¸Šä¼šæœ‰æ–­æµçš„é—®é¢˜ã€‚</p></blockquote><blockquote><p>é”é€Ÿæ˜¯åŠ é€Ÿæ•ˆæœæœ€å¥½çš„ï¼Œç¼ºç‚¹å°±æ˜¯å†…æ ¸å¤ªè€ï¼Œè€Œä¸”å ç”¨å†…å­˜é«˜ï¼Œå¹¶ä¸”åœ¨çº¿è·¯ä¸æ˜¯å¾ˆå¥½çš„æœºå™¨ä¸Šç”¨é”é€Ÿå¥½ï¼Œçº¿è·¯å¥½çš„è¯ç”¨BBRæ¯”é”é€Ÿåˆé€‚ã€‚</p></blockquote><blockquote><p>æœ€ç¨³å¦¥çš„æ–¹å¼å°±æ˜¯v2 ws+tls+webè¿™ç±»æ–¹å¼ï¼Œæ˜¯è¿™ç±»ã€‚ç›®å‰æˆ‘è§‰å¾—å¥—cfå®Œå…¨æ²¡å¿…è¦ï¼Œç­‰åˆ°ipè¢«å¢™äº†å†å¥—ä¹Ÿä¸è¿Ÿï¼Œè¿™é‡Œæœ‰ä¸€ç§æƒ…å†µæ˜¯æ¨èå¥—cfçš„ï¼Œå°±æ˜¯ä½ vpsçš„çº¿è·¯å¹¶ä¸å¥½ï¼Œä½ ç”¨èµ·æ¥æ²¡é€Ÿåº¦ï¼Œè€Œä½ çš„ç½‘ç»œåˆå’Œcfçš„å…¼å®¹æ€§æ¯”è¾ƒå¥½ï¼Œè¿™æ ·å¯ä»¥å¥—cfï¼Œè¿™é‡Œå°±ç›¸å½“äºä½ ç”¨çš„äº‹cfå•¦å“ˆå“ˆå“ˆï¼Œå½“ç„¶æ™šä¸Šè¯¥ç‚¸è¿˜æ˜¯ç‚¸ï¼Œè¿™å°±æ˜¯æˆ‘ä¸ºå•¥ä¸æ¨èå¥—cfçš„åŸå› ï¼Œæ™šä¸Šå¤ªå·®å•¦ã€‚</p></blockquote><blockquote><p>v2å¯¹cpuè´Ÿè½½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œssrä¸åœ¨é«˜å¢™å‘å¨æœŸé—´ä¹Ÿæ˜¯å¤Ÿç”¨çš„ï¼Œå¹¶ä¸”æ¨èä½¿ç”¨chacha20å’Œtls1.2_ticket_authï¼Œè°ç”¨éƒ½è¯´å¥½ã€‚</p></blockquote><h1 id="æµ‹è¯•è„šæœ¬"><a href="#æµ‹è¯•è„šæœ¬" class="headerlink" title="æµ‹è¯•è„šæœ¬"></a>æµ‹è¯•è„šæœ¬</h1><h2 id="Bench-sh"><a href="#Bench-sh" class="headerlink" title="Bench.sh"></a>Bench.sh</h2><p>ç§‹æ°´é€¸å†°å¤§ä½¬çš„å†™çš„Bench.shè„šæœ¬</p><blockquote><p>ç‰¹ç‚¹<br>æ˜¾ç¤ºå½“å‰æµ‹è¯•çš„å„ç§ç³»ç»Ÿä¿¡æ¯ï¼›<br>å–è‡ªä¸–ç•Œå¤šå¤„çš„çŸ¥åæ•°æ®ä¸­å¿ƒçš„æµ‹è¯•ç‚¹ï¼Œä¸‹è½½æµ‹è¯•æ¯”è¾ƒå…¨é¢ï¼›<br>æ”¯æŒ IPv6 ä¸‹è½½æµ‹é€Ÿï¼›<br>IO æµ‹è¯•ä¸‰æ¬¡ï¼Œå¹¶æ˜¾ç¤ºå¹³å‡å€¼ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- bench.sh | bash</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">curl -Lso- bench.sh | bash</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">wget -qO- 86.re/bench.sh | bash</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">curl -so- 86.re/bench.sh | bash</span><br></pre></td></tr></table></figure><h2 id="SuperBench-sh"><a href="#SuperBench-sh" class="headerlink" title="SuperBench.sh"></a>SuperBench.sh</h2><p>è€é¬¼å¤§ä½¬çš„SuperBenchæµ‹è¯•è„šæœ¬</p><blockquote><p>ç‰¹ç‚¹<br>æ”¹è¿›äº†æ˜¾ç¤ºçš„æ¨¡å¼ï¼ŒåŸºæœ¬å‚æ•°æ·»åŠ äº†é¢œè‰²ï¼Œæ–¹é¢åŒºåˆ†ä¸æŸ¥æ‰¾ã€‚<br>I/Oæµ‹è¯•ï¼Œæ›´æ”¹äº†åŸæ¥é»˜è®¤çš„æµ‹è¯•çš„å†…å®¹ï¼Œé‡‡ç”¨å°æ–‡ä»¶ï¼Œä¸­ç­‰æ–‡ä»¶ï¼Œå¤§æ–‡ä»¶ï¼Œåˆ†åˆ«æµ‹è¯•IOæ€§èƒ½ï¼Œç„¶åå–å¹³å‡å€¼ã€‚<br>é€Ÿåº¦æµ‹è¯•æ›¿æ¢æˆäº† Superspeed é‡Œé¢çš„æµ‹è¯•ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤èŠ‚ç‚¹æ˜¯ï¼ŒSpeedtest é»˜è®¤ï¼Œå…¶ä»–åˆ†åˆ«æµ‹è¯•åˆ°ä¸­å›½ç”µä¿¡ï¼Œè”é€šï¼Œç§»åŠ¨ï¼Œå„ä¸‰ä¸ªä¸åŒåœ°åŒºçš„é€Ÿåº¦ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- --no-check-certificate https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash</span><br></pre></td></tr></table></figure><h2 id="Zbench-sh"><a href="#Zbench-sh" class="headerlink" title="Zbench.sh"></a>Zbench.sh</h2><p>æ¼æ°´å’Œkiritoå¤§ä½¬çš„æµ‹è¯•è„šæœ¬</p><blockquote><p>ç‰¹ç‚¹<br>åŸºäºSuperBenchäºŒæ¬¡ä¿®æ”¹<br>å¢åŠ Pingä»¥åŠè·¯ç”±æµ‹è¯•åŠŸèƒ½<br>å¯ä»¥ç”Ÿæˆæµ‹è¯„æŠ¥å‘Šï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ†äº«ç»™å…¶ä»–æœ‹å‹çœ‹è‡ªå·±çš„æµ‹è¯„æ•°æ®ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh &amp;&amp; bash ZBench-CN.sh</span><br></pre></td></tr></table></figure><h2 id="LemonBench-sh"><a href="#LemonBench-sh" class="headerlink" title="LemonBench.sh"></a>LemonBench.sh</h2><p>LemonBenchå·¥å…·(åˆ«åLBenchã€æŸ æª¬Bench)ï¼Œæ˜¯ä¸€æ¬¾é’ˆå¯¹LinuxæœåŠ¡å™¨è®¾è®¡çš„æœåŠ¡å™¨æ€§èƒ½æµ‹è¯•å·¥å…·ã€‚é€šè¿‡ç»¼åˆæµ‹è¯•ï¼Œå¯ä»¥å¿«é€Ÿè¯„ä¼°æœåŠ¡å™¨çš„ç»¼åˆæ€§èƒ½ï¼Œä¸ºä½¿ç”¨è€…æä¾›æœåŠ¡å™¨ç¡¬ä»¶é…ç½®ä¿¡æ¯ã€‚</p><blockquote><p>ç‰¹ç‚¹<br>æœåŠ¡å™¨åŸºç¡€ä¿¡æ¯(CPUä¿¡æ¯/å†…å­˜ä¿¡æ¯/Swapä¿¡æ¯/ç£ç›˜ç©ºé—´ä¿¡æ¯ç­‰)<br>Speedtestç½‘é€Ÿæµ‹è¯• (æœ¬åœ°åˆ°æœ€è¿‘æºåŠå›½å†…å„åœ°åŸŸä¸åŒçº¿è·¯çš„ç½‘é€Ÿ)<br>ç£ç›˜æµ‹è¯•(4Kå—/1Må— ç›´æ¥å†™å…¥æµ‹è¯•)<br>è·¯ç”±è¿½è¸ªæµ‹è¯•(è¿½è¸ªåˆ°å›½å†…å’Œæµ·å¤–ä¸åŒçº¿è·¯çš„è·¯ç”±ä¿¡æ¯)<br>Spooferæµ‹è¯•(è·å–è¯¦ç»†ç½‘ç»œä¿¡æ¯ï¼Œå¿«é€Ÿåˆ¤æ–­æœåŠ¡å™¨æ¥å…¥çº¿è·¯)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsL https://ilemonra.in/LemonBenchIntl | bash -s fast</span><br></pre></td></tr></table></figure><h2 id="SuperSpeed"><a href="#SuperSpeed" class="headerlink" title="SuperSpeed"></a>SuperSpeed</h2><p>æµ‹è¯•ä¸‰ç½‘é€Ÿåº¦ï¼ŒèŠ‚ç‚¹å¤š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lso- https:&#x2F;&#x2F;git.io&#x2F;superspeed)</span><br></pre></td></tr></table></figure><h1 id="Swapäº¤æ¢åˆ†åŒºè„šæœ¬"><a href="#Swapäº¤æ¢åˆ†åŒºè„šæœ¬" class="headerlink" title="Swapäº¤æ¢åˆ†åŒºè„šæœ¬"></a>Swapäº¤æ¢åˆ†åŒºè„šæœ¬</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;www.moerats.com&#x2F;usr&#x2F;shell&#x2F;swap.sh &amp;&amp; bash swap.sh</span><br></pre></td></tr></table></figure><h1 id="PTå·¥å…·å®‰è£…è„šæœ¬"><a href="#PTå·¥å…·å®‰è£…è„šæœ¬" class="headerlink" title="PTå·¥å…·å®‰è£…è„šæœ¬"></a>PTå·¥å…·å®‰è£…è„šæœ¬</h1><blockquote><p>è¿™ä¸ª<code>Github</code>é¡¹ç›®åŒ…å«äº†å‡ ä¹æ‰€æœ‰çš„PTå·¥å…·è„šæœ¬ï¼Œå…¶ä¸­<code>qBittorrent</code>å¯ä»¥ä½¿ç”¨<code>debåŒ…</code>å®‰è£…æœ€æ–°ç‰ˆ,æˆ–é™æ€ç¼–è¯‘å¥½çš„æ¥è¿›è¡Œå®‰è£…ã€‚è„šæœ¬ç›®å‰æ”¯æŒ <code>Debian 9/10</code>, <code>Ubuntu 16.04/18.04</code>. æ¨èä½¿ç”¨ <code>Debian 10</code> æˆ– <code>Ubuntu 18.04</code>ã€‚</p></blockquote><p><a href="https://github.com/Aniverse/inexistence">https://github.com/Aniverse/inexistence</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- https:&#x2F;&#x2F;github.com&#x2F;Aniverse&#x2F;inexistence&#x2F;raw&#x2F;master&#x2F;inexistence.sh)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…HTML5_Speedtestæµ‹è¯•æœåŠ¡å™¨åˆ°æœ¬åœ°é€Ÿåº¦å’Œå»¶è¿Ÿ</title>
      <link href="posts/afe4c68d/"/>
      <url>posts/afe4c68d/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>HTML5 Speedtestç›¸å¯¹äºæµ‹è¯•æ–‡ä»¶ï¼Œèƒ½æµ‹çš„ä¸œè¥¿æ›´å¤šï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒå¤šçº¿ç¨‹ä¸‹è½½çš„é—®é¢˜ï¼ŒæœåŠ¡å™¨æµ‹è¯•æˆ–è€…ä¹°å–äºŒæ‰‹æœåŠ¡å™¨æ˜¯å¾ˆå®ç”¨çš„å·¥å…·ã€‚</p><h1 id="å®å¡”é¢æ¿æ­å»º-HTML5-Speedtest"><a href="#å®å¡”é¢æ¿æ­å»º-HTML5-Speedtest" class="headerlink" title="å®å¡”é¢æ¿æ­å»º HTML5 Speedtest"></a>å®å¡”é¢æ¿æ­å»º HTML5 Speedtest</h1><p>ä½œè€…æºç ï¼š<a href="https://codeload.github.com/librespeed/speedtest/zip/master">https://codeload.github.com/librespeed/speedtest/zip/master</a></p><p>å®å¡”é¢æ¿ â€“ ç½‘ç«™ â€“ æ–°å»ºç«™ç‚¹</p><p>å¯ä»¥ä½¿ç”¨åŸŸåä¹Ÿå¯ä»¥ä½¿ç”¨IPï¼Œå¦‚æœä½¿ç”¨IPï¼Œæœ€å¥½æŒ‡å®šç«¯å£ï¼Œç„¶ååœ¨é¢æ¿ä¸­æ”¾è¡Œç«¯å£å³å¯ï¼›</p><p>æ³¨æ„ï¼šPHPç‰ˆæœ¬è‡³å°‘è¦æ˜¯7.0ä»¥ä¸Š</p><p>å°†ä¸‹è½½çš„æºç å‹ç¼©åŒ…ä¸Šä¼ è§£å‹è‡³ç½‘ç«™æ ¹ç›®å½•æˆ–è€…ç›´æ¥åœ¨å®å¡”è¿œç¨‹ä¸‹è½½æ–‡ä»¶</p><p>è¿™é‡Œéœ€è¦ä¿®æ”¹ä¸‹æºç æ–‡ä»¶ï¼Œæ‰¾åˆ° example-singleServer-pretty.html æ–‡ä»¶</p><p>ç„¶åå°†æ–‡ä»¶é‡å‘½åä¸º index.html</p><p>æ­å»ºå®Œæˆï¼Œç°åœ¨å¯ä»¥æ‰“å¼€åŸŸåæˆ–IPå³å¯ï¼›</p><p>æˆªå›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200318175450.png"></p><h1 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h1><p>å¦‚æœæ‰“ä¸å¼€ï¼Œéœ€è¦å®å¡”é¢æ¿æˆ–VPSæ§åˆ¶åå°æ”¾è¡Œ6688ç«¯å£</p><p>æ­å»ºå®Œæˆï¼Œæ‰“å¼€ http://ä½ VPSçš„IP:6688 å³å¯</p><p>å¦‚æœCentOS 7æ‰“ä¸å¼€ï¼Œéœ€è¦æ‰“å¼€é˜²ç«å¢™ç«¯å£ï¼Œæˆ–è€…å…³æ‰é˜²ç«å¢™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æ‰“å¼€6688ç«¯å£</span><br><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;6688&#x2F;tcp --permanent</span><br><span class="line"></span><br><span class="line">#å…³é—­é˜²ç«å¢™</span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl disable firewalld.service</span><br></pre></td></tr></table></figure><h1 id="goç‰ˆæœ¬çš„speedtest"><a href="#goç‰ˆæœ¬çš„speedtest" class="headerlink" title="goç‰ˆæœ¬çš„speedtest"></a>goç‰ˆæœ¬çš„speedtest</h1><p>htmlæ­å»ºèµ·æ¥å¾ˆç¹çï¼Œä»Šå¤©æ¨èä¸ªä¸€é”®çš„è„šæœ¬ã€‚</p><p>GITHUBä½œè€…åŸé¡¹ç›®ï¼š<a href="https://github.com/BigMangos/speedtest-go-script">https://github.com/BigMangos/speedtest-go-script</a></p><blockquote><p>æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šCentOS 7-8ã€Debian 8-10ã€Ubuntu 16-18<br>æ“ä½œç³»ç»Ÿè¦æ±‚64ä½</p></blockquote><p>ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆä½¿ç”¨rootç”¨æˆ·ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lsk https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;BigMangos&#x2F;speedtest-go-script&#x2F;master&#x2F;install.sh)</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°<code>-bash: curl: command not found</code>é”™è¯¯ï¼Œè¯´æ˜<code>curl</code>å‘½ä»¤æ²¡å®‰è£…ï¼Œè¯·è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å…ˆå®‰è£…curlï¼Œå†å›è¿‡å¤´æ¥æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤å†æ¥ä¸€æ¬¡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Debian or Ubuntu</span><br><span class="line">apt-get -y install curl</span><br><span class="line">#CentOS</span><br><span class="line">yum -y install curl</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpeedTest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ServerStatus-Hotaruäº‘æ¢é’ˆçš„å®‰è£…ä¸é…ç½®</title>
      <link href="posts/c51b991a/"/>
      <url>posts/c51b991a/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è„šæœ¬æ¥è‡ªï¼š<a href="https://www.aptx.xin/serverstatus-hotaru.html">https://www.aptx.xin/serverstatus-hotaru.html</a></p><p>Githubï¼š<a href="https://github.com/CokeMine/ServerStatus-Hotaru">https://github.com/CokeMine/ServerStatus-Hotaru</a></p><h1 id="æœåŠ¡ç«¯å®‰è£…"><a href="#æœåŠ¡ç«¯å®‰è£…" class="headerlink" title="æœåŠ¡ç«¯å®‰è£…"></a>æœåŠ¡ç«¯å®‰è£…</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;CokeMine&#x2F;ServerStatus-Hotaru&#x2F;master&#x2F;status.sh</span><br><span class="line">bash status.sh </span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1ã€é€‰æ‹©1ï¼Œé…ç½®æœåŠ¡ç«¯</span><br><span class="line"></span><br><span class="line">2ã€æ²¡ä»€ä¹ˆéœ€æ±‚çš„è¯ï¼Œç«¯å£å»ºè®®é»˜è®¤å°±å¥½</span><br><span class="line"></span><br><span class="line">3ã€å¦‚æœæœ¬åœ°æ²¡è£…åˆ«çš„å¦‚Nginxæˆ–è€…Apacheä¹‹ç±»çš„ï¼Œç›´æ¥Yå°±å¥½ï¼Œå¦‚æœå¸Œæœ›åœ¨btç®¡ç†ï¼Œé€‰æ‹©nï¼Œå¹¶è®°å½•ç½‘ç«™çš„ç›®å½•ä½ç½®</span><br><span class="line"></span><br><span class="line">4ã€ç»‘å®šåŸŸåæˆ–IPè®¿é—®</span><br><span class="line"></span><br><span class="line">5ã€ç«¯å£è‡ªä¸»é€‰æ‹©</span><br><span class="line"></span><br><span class="line">6ã€æ·»åŠ å®¢æˆ·ç«¯ï¼šé€‰æ‹©7åé€‰1</span><br><span class="line"></span><br><span class="line">å‰©ä¸‹çš„ä¿¡æ¯è‡ªå·±å¡«å°±å¥½äº†</span><br><span class="line"></span><br><span class="line">7ã€åˆ é™¤ï¼ˆä¿®æ”¹ï¼‰æœåŠ¡ç«¯ï¼šé€‰7ååœ¨é€‰æ‹©</span><br></pre></td></tr></table></figure><h1 id="å®¢æˆ·ç«¯å®‰è£…"><a href="#å®¢æˆ·ç«¯å®‰è£…" class="headerlink" title="å®¢æˆ·ç«¯å®‰è£…"></a>å®¢æˆ·ç«¯å®‰è£…</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash status.sh c</span><br></pre></td></tr></table></figure><p>åé€‰1ç„¶åæŒ‰ç…§æœåŠ¡ç«¯å¡«å†™çš„å³å¯</p><blockquote><p>ä¸»è¦æ€è·¯å°±æ˜¯å®‰è£…å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯</p></blockquote><h1 id="å®å¡”ç®¡ç†"><a href="#å®å¡”ç®¡ç†" class="headerlink" title="å®å¡”ç®¡ç†"></a>å®å¡”ç®¡ç†</h1><p>å…¶å®æˆ‘ä»¬å¯ä»¥é€‰æ‹©å®å¡”æ¥ç®¡ç†è¿™ä¸ªé¡µé¢ï¼Œå®‰è£…æœåŠ¡ç«¯æ—¶ä¼šè®©ä½ é€‰æ‹©æ˜¯å¦è‡ªåŠ¨éƒ¨ç½²ï¼Œé€‰æ‹©å¦ï¼Œå¹¶è®°å½•ç½‘ç«™ç›®å½•ã€‚è®°å¾—åœ¨å®å¡”æ”¾è¡Œå½“æ—¶é€‰æ‹©çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯35601</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319090236.png"></p><h1 id="ipv6å®¢æˆ·ç«¯"><a href="#ipv6å®¢æˆ·ç«¯" class="headerlink" title="ipv6å®¢æˆ·ç«¯"></a>ipv6å®¢æˆ·ç«¯</h1><blockquote><p>å½“æœåŠ¡ç«¯æ˜¯<code>ipv6 only</code>æ—¶,å…¶ä»–æœåŠ¡å™¨å®‰è£…å®¢æˆ·ç«¯çš„æ“ä½œ</p></blockquote><p>å®‰è£…å¥½å®¢æˆ·ç«¯åè¿˜éœ€è¦ï¼š</p><p>æ›¿æ¢æ–‡ä»¶status-client.pyæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rm -f &#x2F;usr&#x2F;local&#x2F;ServerStatus&#x2F;client&#x2F;status-client.py</span><br><span class="line"></span><br><span class="line">wget -O &#x2F;usr&#x2F;local&#x2F;ServerStatus&#x2F;client&#x2F;status-client.py https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;CokeMine&#x2F;ServerStatus-Hotaru&#x2F;master&#x2F;clients&#x2F;status-client_ipv6.py</span><br><span class="line"></span><br><span class="line">bash status.sh c #ä¿®æ”¹é…ç½®</span><br></pre></td></tr></table></figure><h1 id="ç›¸å…³å¼€æºé¡¹ç›®"><a href="#ç›¸å…³å¼€æºé¡¹ç›®" class="headerlink" title="ç›¸å…³å¼€æºé¡¹ç›®"></a>ç›¸å…³å¼€æºé¡¹ç›®</h1><ul><li>ServerStatus-Toyoï¼š<a href="https://github.com/ToyoDAdoubiBackup/ServerStatus-Toyo">https://github.com/ToyoDAdoubiBackup/ServerStatus-Toyo</a></li><li>ServerStatusï¼š<a href="https://github.com/BotoX/ServerStatus">https://github.com/BotoX/ServerStatus</a></li><li>mojeda: <a href="https://github.com/mojeda">https://github.com/mojeda</a></li><li>mojedaâ€™s ServerStatus: <a href="https://github.com/mojeda/ServerStatus">https://github.com/mojeda/ServerStatus</a></li><li>BlueVMâ€™s project: <a href="http://www.lowendtalk.com/discussion/comment/169690#Comment_169690">http://www.lowendtalk.com/discussion/comment/169690#Comment_169690</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ServerStatus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TestRace-VPSå›ç¨‹è·¯ç”±ä¸€é”®æµ‹è¯•è„šæœ¬</title>
      <link href="posts/bcc8a0c7/"/>
      <url>posts/bcc8a0c7/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>è¿™æ˜¯ä¸€ä¸ªç”¨äºåœ¨Linuxä¸Šæµ‹è¯•å›ç¨‹è·¯ç”±çš„è„šæœ¬ï¼Œè¿™é‡Œçš„å›ç¨‹è·¯ç”±æ˜¯æŒ‡ä»ä½ çš„æœºå™¨å‡ºå‘åˆ°æŒ‡å®šèŠ‚ç‚¹çš„è·¯ç”±ã€‚</p><p>Githubåœ°å€ï¼š<a href="https://github.com/nanqinlang-script/testrace">https://github.com/nanqinlang-script/testrace</a></p><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>è¿è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;nanqinlang-script&#x2F;testrace&#x2F;master&#x2F;testrace.sh</span><br><span class="line">bash testrace.sh</span><br></pre></td></tr></table></figure><p>åœ¨è¿è¡Œè„šæœ¬åï¼Œä¼šå‡ºç°ä¸‰ä¸ªé€‰é¡¹ä¾›ä»¥é€‰æ‹©ï¼š</p><pre><code>- é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæµ‹è¯•- å››ç½‘è·¯ç”±å¿«é€Ÿæµ‹è¯•- æ‰‹åŠ¨è¾“å…¥ipè¿›è¡Œæµ‹è¯•</code></pre><p>é€‰é¡¹è¯´æ˜ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1ã€é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæµ‹è¯•</span><br><span class="line">æœ¬è„šæœ¬ä»¥å†…ç½®ç§»åŠ¨&#x2F;è”é€š&#x2F;ç”µä¿¡&#x2F;æ•™è‚²ç½‘å››ç½‘çš„å¤šä¸ªèŠ‚ç‚¹ã€‚</span><br><span class="line">é€‰æ‹©1å›è½¦åï¼Œä¼šåˆ—å‡ºè¿™äº›èŠ‚ç‚¹çš„åˆ—è¡¨ã€‚</span><br><span class="line">é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæµ‹è¯•å®Œæˆåï¼Œå¯ä»¥ç»§ç»­é€‰æ‹©èŠ‚ç‚¹æµ‹è¯•ã€‚</span><br><span class="line"></span><br><span class="line">2ã€å››ç½‘è·¯ç”±å¿«é€Ÿæµ‹è¯•</span><br><span class="line">æ­¤æ¨¡å¼ä¼šå¯¹ä»¥ä¸‹å‡ ä¸ªèŠ‚ç‚¹è¿›è¡Œå›ç¨‹è·¯ç”±æµ‹è¯•ã€‚</span><br><span class="line">æ­¤æ¨¡å¼æµ‹è¯•çš„èŠ‚ç‚¹åŒ…æ‹¬ï¼š</span><br><span class="line">ç”µä¿¡</span><br><span class="line">ä¸Šæµ·ç”µä¿¡(å¤©ç¿¼äº‘)</span><br><span class="line">å¦é—¨ç”µä¿¡CN2</span><br><span class="line">è”é€š</span><br><span class="line">æµ™æ±Ÿæ­å·è”é€š</span><br><span class="line">ç§»åŠ¨</span><br><span class="line">æµ™æ±Ÿæ­å·ç§»åŠ¨</span><br><span class="line">æ•™è‚²ç½‘</span><br><span class="line">åŒ—äº¬æ•™è‚²ç½‘</span><br><span class="line"></span><br><span class="line">3ã€æ‰‹åŠ¨è¾“å…¥ipè¿›è¡Œæµ‹è¯•</span><br><span class="line">æ­¤æ¨¡å¼æ˜¯ç”±ç”¨æˆ· æ‰‹åŠ¨è¾“å…¥è¦æµ‹è¯•çš„ç›®æ ‡ip</span><br><span class="line">æ¯æ¬¡æµ‹è¯•å®Œæˆåï¼Œå¯é€‰æ‹©ç»§ç»­æµ‹è¯•å…¶å®ƒip</span><br></pre></td></tr></table></figure><h1 id="ç›¸å…³ç›®å½•"><a href="#ç›¸å…³ç›®å½•" class="headerlink" title="ç›¸å…³ç›®å½•"></a>ç›¸å…³ç›®å½•</h1><p>è„šæœ¬çš„å®‰è£…ç›®å½•ä½äº<code>/home/testrace</code><br>æµ‹è¯•å®Œæˆå¹¶é€€å‡ºè„šæœ¬åï¼Œä¼šç”Ÿæˆæµ‹è¯•çš„è®°å½•æ–‡ä»¶äº<code>/home/testrace/testrace.log</code></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TestRace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨herokuæ­å»ºå…è´¹çš„onemanager</title>
      <link href="posts/7386aa8e/"/>
      <url>posts/7386aa8e/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æ­å»ºäº†ä¸€ä¸ª<code>rclone</code> å®ç°onedriveåœ¨windowsä¸­ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ï¼ŒæŒ‰ç†è¯´æ˜¯å¯ä»¥è§¦å‘officeçš„apiçš„ï¼Œåœ¨ç½‘ä¸Šçˆ¬æ–‡ï¼Œå‘ç°äº†<code>onemanager</code>ã€‚<br>onemanageræ˜¯ä¸€æ¬¾å¼ºå¤§çš„OneDriveç›®å½•åˆ—è¡¨ç¨‹åºï¼Œæ”¯æŒçš„åŠŸèƒ½æ¯”OneIndexæ›´å¤šã€‚æ”¯æŒæ— æœåŠ¡å™¨ä¸€é”®æ­å»ºï¼Œæ”¯æŒè…¾è®¯SCFæœåŠ¡æ­å»ºï¼ŒåŸºæœ¬ä¸Šèƒ½ç”¨çš„æ­å»ºæ–¹å¼éƒ½æ”¯æŒï¼Œè€Œä¸”æ”¯æŒOneDriveå•†ä¸šç‰ˆã€OneDriveä¸ªäººç‰ˆå’Œä¸–çºªäº’è”ç‰ˆã€‚æ”¯æŒå¤šç›˜ç»‘å®šï¼Œæ”¯æŒè®¿å®¢ä¸Šä¼ æ–‡ä»¶ï¼Œå›¾åºŠæ¨¡å¼ï¼Œå¯ä»¥è®©è®¿å®¢ä¸Šä¼ æ–‡ä»¶åšä¸ºå›¾åºŠä½¿ç”¨ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><h2 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h2><p>GitHubå¼€æºç½‘å€ï¼š<a href="https://github.com/qkqpttgf/OneManager-php">https://github.com/qkqpttgf/OneManager-php</a></p><p>è¿›å…¥åˆ°githubä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªé†’ç›®çš„buttonï¼Œè¿™ç¯‡æ–‡ç« æ­£æ˜¯åˆ©ç”¨herokuæ­å»ºå…è´¹çš„onemanagerï¼Œä¸éœ€è¦å…¶ä»–çš„æœåŠ¡å™¨å’Œä¸»æœºã€‚<br>ç‚¹å‡»é‚£ä¸ªæŒ‰é’®ï¼Œè¿›å…¥æ³¨å†Œï¼ˆéœ€è¦å¯Œå¼ºï¼Œæ³¨å†Œå¼•å…¥äº†googleäººæœºéªŒè¯ï¼‰ï¼Œqqé‚®ç®±å·²è¢«å±è”½ï¼Œæ¨èä½¿ç”¨gmail</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306104640.png"></p><h2 id="åˆ›å»ºapp"><a href="#åˆ›å»ºapp" class="headerlink" title="åˆ›å»ºapp"></a>åˆ›å»ºapp</h2><ul><li>åœ¨â€œApp nameâ€å¡«å†™æ‚¨çš„åº”ç”¨åç§°ï¼Œâ€œChoose a regionâ€é€‰æ‹©ä¸€ä¸ªæœåŠ¡åŒºåŸŸé€‰æ‹©â€œUnited Statesâ€ã€‚ æ³¨æ„ï¼šâ€œApp nameâ€å¡«å†™çš„åº”ç”¨åç§°å°±æ˜¯æ‚¨æ¬¡åŸŸå.herokuapp.comçš„å‰ç¼€ï¼Œåç§°å¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102109.png"></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102147.png"></p><ul><li><p>ç‚¹å‡»â€œDeploy appâ€éƒ¨ç½²åº”ç”¨ç¨ç­‰ç‰‡åˆ»å³å¯å®Œæˆåˆå§‹åŒ–ã€‚å†ç‚¹å‡»â€œManager APPâ€ç®¡ç†åº”ç”¨ç¨‹åº</p></li><li><p>ç‚¹å‡»â€œSettingâ€è®¾ç½®åº”ç”¨ï¼Œç›´æ¥å¾€ä¸‹æ‹‰åœ¨â€œDomainsâ€å¤„å¯ä»¥çœ‹åˆ°æ‚¨çš„æ¬¡åŸŸåï¼ˆå¦‚æœæ‚¨å·²ç»å¡«åŠ äº†ä¿¡ç”¨å¡è´¦æˆ·å·²éªŒè¯ï¼Œå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåï¼‰ç‚¹å‡»æ‚¨çš„æ¬¡åŸŸåã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102226.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102251.png"></p><ul><li>å•å‡»æ­¤å¤„â€œClick to install the projectâ€å®‰è£…OneManager-PHPé¡¹ç›®</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102314.png"></p><ul><li>ç‚¹å‡»â€œæ–°å»ºAPI Keyâ€è·å¾—APIï¼Œåœ¨â€œAPI Keyâ€å¤„ç‚¹å‡»åé¢çš„â€œRevealâ€æ˜¾ç¤ºæ‚¨çš„API Keyï¼Œå¤åˆ¶API Keyç²˜è´´è‡³API Keyã€‚â€œSet admin passwordâ€è®¾ç½®ç®¡ç†å‘˜å¯†ç ï¼Œç‚¹å‡»â€œç¡®è®¤â€ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102617.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102421.png"></p><ul><li>å®‰è£…å®Œæˆåç™»é™†â ç®¡ç†â è®¾ç½®ï¼Œæ·»åŠ OneDriveç›˜ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102705.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102705.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102808.png"></p><ul><li>é€‰æ‹©â€œMSC:å›½é™…ç‰ˆï¼Œè‡ªå·±ç”³è¯·åº”ç”¨IDä¸æœºå¯†â€ï¼Œç‚¹å‡»â€œç”³è¯·åº”ç”¨IDä¸æœºå¯†â€ã€‚ç”³è¯·æ•™è‚²ç‰ˆçš„OneDriveè´¦æˆ·å³å¯ç”³è¯·è·å–IDå’Œé’¥å¯†ï¼Œç›®å‰æ™®é€šå¸å·ä¹Ÿå·²ç»å¯ä»¥ç”³è¯·è·å–åº”ç”¨IDå’Œé’¥å¯†ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102854.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306102940.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306103008.png"></p><ul><li>å°†è·å–çš„åº”ç”¨æœºå¯†å’Œåº”ç”¨IDåˆ†åˆ«å¡«å…¥client_secretå’Œclient_idï¼Œç‚¹å‡»â€œç¡®è®¤â€ã€‚ä¹‹åå°±ä¼šè·³è½¬åˆ°ä¸‹ä¹°ä½ çš„ç•Œé¢</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306103100.png"></p><h1 id="åå‘ä»£ç†-è‡ªé€‰cloudflareèŠ‚ç‚¹"><a href="#åå‘ä»£ç†-è‡ªé€‰cloudflareèŠ‚ç‚¹" class="headerlink" title="åå‘ä»£ç†,è‡ªé€‰cloudflareèŠ‚ç‚¹"></a>åå‘ä»£ç†,è‡ªé€‰cloudflareèŠ‚ç‚¹</h1><p>ç”±äºherokuä¸ç»‘å®šä¿¡ç”¨å¡ï¼Œå°±ä¸èƒ½è‡ªå®šä¹‰åŸŸåã€‚æˆ‘è§‰å¾—åœ¨herokuä¸Šç»‘å¡æ²¡å¿…è¦ã€‚æ‰€ä»¥æˆ‘åˆ©ç”¨äº†cloudflareçš„workersåŠŸèƒ½å®ç°äº†è‡ªå®šä¹‰åŸŸåã€‚</p><p>é¦–å…ˆä½ éœ€è¦æŠŠåŸŸåæ·»åŠ è¿›cloudflareï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡dnsæ¥å…¥ï¼Œè¿™ç§æ–¹å¼å®Œå…¨æŠŠåŸŸåäº¤ç»™cloudflareäº†ã€‚å¦ä¸€æ–¹å¼æ˜¯é€šè¿‡cloudflare Partnersçš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä¸ç”¨dnsæ¥å…¥ã€‚æˆ‘æ˜¯ç”¨çš„æ˜¯<a href="https://cdn.moeelf.com/">èŒç²¾çµ</a>ï¼Œè¯¦ç»†çš„cfè‡ªé€‰èŠ‚ç‚¹æ–¹æ³•å‚è§ï¼š<a href="/posts/f019efb0/" title="cloudflareè‡ªé€‰èŠ‚ç‚¹">cloudflareè‡ªé€‰èŠ‚ç‚¹</a> </p><ul><li><p>è¿›å…¥èŒç²¾çµï¼Œç™»å½•ä½ çš„cloudflareè´¦å·ï¼Œæ·»åŠ åŸŸåã€‚</p></li><li><p>æ·»åŠ å¥½åŸŸååå°±éœ€è¦è¿›å…¥<a href="https://www.cloudflare.com/">cloudflare</a>,è¿›å…¥ä½ åˆšæ‰æ·»åŠ çš„åŸŸåä¸­ï¼Œæ‰¾åˆ°<code>workers</code>-&gt;<code>manager workers</code>ï¼Œç¬¬ä¸€æ¬¡è¦å«ä½ è®¾ç½®ä¸€ä¸ªåŸŸå<code>ä½ éœ€è¦è®¾ç½®çš„å‰ç¼€ï¼ˆé»˜è®¤ä¸ºä½ é‚®ç®±å‰ç¼€ï¼‰.workers.dev</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306134315.png"></p></li><li><p>ç‚¹<code>create a worker</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306134429.png"></p><ul><li>å°†ä¸‹é¢çš„ä»£ç åŠ å…¥å·¦è¾¹æ–¹æ¡†ä¸­ï¼Œæ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±çš„appåç§°</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(</span><br><span class="line">  &quot;fetch&quot;,event &#x3D;&gt; &#123;</span><br><span class="line">     let url&#x3D;new URL(event.request.url);</span><br><span class="line">     url.hostname&#x3D;&quot;åº”ç”¨åç§°.herokuapp.com&quot;;</span><br><span class="line">     let request&#x3D;new Request(url,event.request);</span><br><span class="line">     event. respondWith(</span><br><span class="line">       fetch(request)</span><br><span class="line">     )</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306134915.png"></p><ul><li>å®Œæˆåè¿”å›è¿™é‡Œï¼Œç‚¹å‡»æ·»åŠ <code>route</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306134315.png"></p><ul><li>æ·»åŠ ä¸€ä¸ª<code>route</code>,æ ¼å¼ä¸º<code>å‰ç¼€.ä½ çš„åŸŸå/*</code>ï¼Œæ¯”å¦‚<code>pan.gyh.im/*</code>,workeré€‰æ‹©ä½ åˆšæ‰åˆ›å»ºçš„</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306135459.png"></p><ul><li><p>å›åˆ°èŒç²¾çµä¸­æ·»åŠ ä¸€ä¸ªcnameè®°å½•ï¼Œå°†ä½ æ·»åŠ çš„routeåŸŸåï¼Œè§£æåˆ°åˆ†é…çš„workersåŸŸåä¸­ã€‚</p></li><li><p>ç„¶ååœ¨ä½ çš„åŸŸådnsæä¾›å•†å“ªé‡Œï¼Œæ·»åŠ ä¸‹é¢çš„è§£æè®°å½•</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200306140521.png"></p><ul><li>æœ€åä½ å¯ä»¥æŒ‡å®šclodflareçš„è®¿é—®èŠ‚ç‚¹ï¼Œä¸éœ€è¦ç”¨cloudflareåˆ†é…çš„èŠ‚ç‚¹äº†ï¼Œåˆ†é…çš„èŠ‚ç‚¹ä¸€èˆ¬è¾ƒæ…¢ã€‚åªéœ€å†æ·»åŠ ä¸€ä¸ªAè®°å½•ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯æ·»åŠ çš„<code>pan.gyh.im</code> Aè®°å½•åˆ°<code>1.0.0.1</code></li><li>å…·ä½“å¯ä»¥æŒ‡å®šåˆ°å“ªäº›èŠ‚ç‚¹å¯å‚è€ƒ<a href="https://ofvps.com/201907510">è¿™é‡Œ</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">é€‚åˆç”µä¿¡çš„èŠ‚ç‚¹</span><br><span class="line">104.23.240.*</span><br><span class="line">èµ°æ¬§æ´²å„å›½å‡ºå£ è‹±å›½å¾·å›½è·å…°ç­‰ å»¶è¿Ÿæ¯”ç¾å›½é«˜ä¸€äº› é€‚åˆæºç«™åœ¨æ¬§æ´²çš„ç½‘ç«™</span><br><span class="line">172.64.32.*</span><br><span class="line">è™½ç„¶å»ç¨‹èµ°æ–°åŠ å¡ï¼Œä½†æ˜¯å›ç¨‹çº¿è·¯çš„ç»•è·¯çš„ï¼Œå®é™…æ•ˆæœä¸å¥½ï¼Œä¸æ¨è</span><br><span class="line">104.16.160.*</span><br><span class="line">åœ£ä½•å¡çš„çº¿è·¯ï¼Œæ¯”æ´›æ‰çŸ¶è¦å¿«ä¸€ç‚¹ï¼Œæ¨è</span><br><span class="line">108.162.236.*</span><br><span class="line">äºšç‰¹å…°å¤§çº¿è·¯ï¼Œå»¶è¿Ÿç¨³å®šï¼Œä½†æ˜¯å»¶è¿Ÿè¾ƒé«˜</span><br><span class="line"></span><br><span class="line">é€‚åˆç§»åŠ¨çš„èŠ‚ç‚¹</span><br><span class="line">162.158.133.* èµ°çš„ä¸¹éº¦ï¼Œè¿™ä¸€æ®µipåªæœ‰éƒ¨åˆ†èƒ½ç”¨ï¼Œå¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚ç»•ç¾å›½ã€‚</span><br><span class="line">198.41.214.*</span><br><span class="line">198.41.212.*</span><br><span class="line">198.41.208.*</span><br><span class="line">198.41.209.*</span><br><span class="line">172.64.32.*</span><br><span class="line">141.101.115.*</span><br><span class="line">ç§»åŠ¨èµ°é¦™æ¸¯çš„IPæ®µæœ‰å¾ˆå¤šï¼Œä»¥ä¸Šå¹¶ä¸æ˜¯å…¨éƒ¨ã€‚CFç§»åŠ¨èµ°é¦™æ¸¯çš„åˆ†ç›´è¿å’Œèµ°nttçš„æ•ˆæœéƒ½æŒºä¸é”™çš„ï¼Œä¸è¿‡éƒ¨åˆ†åœ°åŒºæ™šä¸Šè¿˜æ˜¯ä¼šä¸¢åŒ…ã€‚</span><br><span class="line">172.64.0. è¿™æ˜¯èµ°åœ£ä½•å¡çš„ï¼Œä¸€èˆ¬ç”¨é¦™æ¸¯çš„å°±è¡Œ</span><br><span class="line">172.64.16.* æ¬§æ´²çº¿è·¯.ç»•</span><br><span class="line"></span><br><span class="line">1.0.0.1æ•ˆæœè¾ƒå¥½</span><br><span class="line">ç”µä¿¡éƒ¨åˆ†</span><br><span class="line">å¤§å¤šæ•°çœç›´æ¥ä½¿ç”¨1.0.0.0å³å¯ï¼Œå»¶è¿Ÿä½ï¼Œä¸¢åŒ…å°‘ï¼Œ</span><br><span class="line">å°‘éƒ¨åˆ†è¿˜æ˜¯éœ€è¦æ¢ip</span><br></pre></td></tr></table></figure><h1 id="httpsè®¿é—®"><a href="#httpsè®¿é—®" class="headerlink" title="httpsè®¿é—®"></a>httpsè®¿é—®</h1><p>æ·»åŠ å¦‚ä¸‹é¡µé¢è§„åˆ™</p><p><code>http://domain/*</code>ä¹Ÿå¯æ¢æˆ<code>domain/*</code>,ä¹Ÿå°±æ˜¯å¯ä»¥ä¸è¦ä¸‹å›¾ä¸­çš„<code>http</code></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200319095023.png"></p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://github.com/qkqpttgf/OneManager-php">onemanageræ–‡æ¡£</a></li><li><a href="https://ibcl.us/Heroku-V2Ray_20191014/">åœ¨ Heroku æ­å»º V2Ray</a></li><li><a href="https://bili33.top/2019/10/25/CloudFlare-Workers-Section1/">Cloudflare Workersåä»£å®æˆ˜ï¼ˆä¸Šï¼‰</a></li><li><a href="https://bili33.top/2020/01/17/Cloudflare-Workers-Section2/">Cloudflare Workersåä»£å®æˆ˜ï¼ˆä¸‹ï¼‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OneDrive </tag>
            
            <tag> OneManager </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI</title>
      <link href="posts/c4f1574a/"/>
      <url>posts/c4f1574a/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä¸Šä¸€ç¯‡è¯´åˆ°ç”³è¯·office 365 E5çš„æ–¹æ³•ã€‚ä½†æ˜¯ä»–éœ€è¦è°ƒç”¨å¾®è½¯çš„ä¸€äº›apiæ‰èƒ½ç»­è®¢ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨azureåˆ›å»ºåº”ç”¨ï¼Œæ¥è°ƒç”¨ä»–çš„apiã€‚</p><p>è¿™é‡Œä»‹ç»ä¸€æ¬¾<code>Rclone</code>çš„åº”ç”¨ï¼Œå®ƒå¯ä»¥è°ƒç”¨onedriveçš„æ¥å£ã€‚</p><h1 id="åˆ›å»º-OneDrive-API"><a href="#åˆ›å»º-OneDrive-API" class="headerlink" title="åˆ›å»º OneDrive API"></a>åˆ›å»º OneDrive API</h1><h2 id="è·å–-Client-ID"><a href="#è·å–-Client-ID" class="headerlink" title="è·å– Client ID"></a>è·å– Client ID</h2><p>è¿›å…¥<a href="https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade">Microsoft Azure</a> åº”ç”¨æ³¨å†Œé¡µé¢ã€‚ç‚¹å‡»æ–°æ³¨å†Œã€‚</p><p>åç§°éšæ„ï¼Œè´¦æˆ·ç±»å‹é€‰æ‹©æœ€åä¸€ä¸ªï¼Œé‡å®šå‘ URL å¡«å†™<code>http://localhost</code>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305130452.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305130528.png"></p><p>åˆ›å»ºæˆåŠŸåä½ ä¼šçœ‹åˆ° Client IDï¼ˆå®¢æˆ·ç«¯ IDï¼‰ï¼Œå¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305130617.png"></p><h2 id="è·å–-Client-secret"><a href="#è·å–-Client-secret" class="headerlink" title="è·å– Client secret"></a>è·å– Client secret</h2><p>ç‚¹å‡»<code>è¯ä¹¦å’Œå¯†ç </code>ï¼ŒæŒ‰ç…§å›¾ä¸­åºå·çš„é¡ºåºæ“ä½œæ·»åŠ å¯†ç ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305130817.png"></p><p>ç„¶åä½ ä¼šçœ‹åˆ° Client secretï¼ˆå®¢æˆ·ç«¯å¯†ç ï¼‰ï¼Œå¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚</p><h2 id="è®¾ç½®-API-æƒé™"><a href="#è®¾ç½®-API-æƒé™" class="headerlink" title="è®¾ç½® API æƒé™"></a>è®¾ç½® API æƒé™</h2><p>ç‚¹å‡»<code>API æƒé™</code>ï¼ŒæŒ‰ç…§å›¾ç¤ºè¿›è¡Œæ“ä½œï¼Œæ·»åŠ <code>Files.Read</code>ã€<code>Files.ReadWrite</code>ã€<code>Files.Read.All</code>ã€<code>Files.ReadWrite.All</code>ã€<code>offline_access</code>ã€<code>User.Read</code>è¿™äº›æƒé™ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305131305.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305131334.png"></p><h1 id="è·å–-token"><a href="#è·å–-token" class="headerlink" title="è·å– token"></a>è·å– token</h1><p>åœ¨æœ¬åœ°ç”µè„‘ä¸Šä¸‹è½½ <a href="https://rclone.org/downloads/">rclone</a>ã€‚<br>ä»¥ Windows ä¸ºä¾‹å­ï¼Œè§£å‹å¹¶è¿›å…¥<code>rclone.exe</code>æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œåœ¨èµ„æºç®¡ç†å™¨åœ°å€æ è¾“å…¥cmdï¼Œå›è½¦å°±ä¼šåœ¨å½“å‰è·¯å¾„æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ã€‚<br>æ›¿æ¢ä»¥ä¸‹å‘½ä»¤ä¸­çš„<code>Client_ID</code>ã€<code>Client_secret</code>å¹¶æ‰§è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone authorize &quot;onedrive&quot; &quot;Client_ID&quot; &quot;Client_secret&quot;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä¼šå¼¹å‡ºæµè§ˆå™¨ï¼Œè¦æ±‚ä½ ç™»å½•è´¦å·è¿›è¡Œæˆæƒã€‚æˆæƒå®Œåå‘½ä»¤æç¤ºç¬¦çª—å£ä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">If your browser doesn&#39;t open automatically go to the following link: http:&#x2F;&#x2F;127.0.0.1:53682&#x2F;auth</span><br><span class="line">Log in and authorize rclone for access</span><br><span class="line">Waiting for code...</span><br><span class="line">Got code</span><br><span class="line">Paste the following into your remote machine ---&gt;</span><br><span class="line">&#123;&quot;access_token&quot;:&quot;xxxxxxxxxxxxxxxxxx&quot;,&quot;expiry&quot;:&quot;2020-02-22T21:18:39.5036298+08:00&quot;&#125;</span><br><span class="line">&lt;---End paste</span><br></pre></td></tr></table></figure><p><code>&#123;&quot;access_token&quot;:&quot;xxxxxxxxxxxxxxxxxx&quot;,&quot;expiry&quot;:&quot;2020-02-22T21:18:39.5036298+08:00&quot;&#125;</code>æ•´ä¸ªå†…å®¹ï¼ˆåŒ…å«æ‹¬å·ï¼‰å°±æ˜¯ toÂ­ken ï¼Œå¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚</p><h1 id="Rclone-è¿æ¥-OneDrive"><a href="#Rclone-è¿æ¥-OneDrive" class="headerlink" title="Rclone è¿æ¥ OneDrive"></a>Rclone è¿æ¥ OneDrive</h1><p>è¾“å…¥ <code>rclone config</code> å‘½ä»¤ï¼Œä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼Œå‚ç…§ä¸‹é¢çš„æ³¨é‡Šè¿›è¡Œæ“ä½œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">$ rclone config</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; n # è¾“å…¥ nï¼Œæ–°å»º</span><br><span class="line">name&gt; od-e5-api # è¾“å…¥ç½‘ç›˜åç§°ï¼Œç±»ä¼¼äºæ ‡ç­¾ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„ç½‘ç›˜ã€‚</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 &#x2F; 1Fichier</span><br><span class="line">   \ &quot;fichier&quot;</span><br><span class="line"> 2 &#x2F; Alias for an existing remote</span><br><span class="line">   \ &quot;alias&quot;</span><br><span class="line"> 3 &#x2F; Amazon Drive</span><br><span class="line">   \ &quot;amazon cloud drive&quot;</span><br><span class="line"> 4 &#x2F; Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ &quot;s3&quot;</span><br><span class="line"> 5 &#x2F; Backblaze B2</span><br><span class="line">   \ &quot;b2&quot;</span><br><span class="line"> 6 &#x2F; Box</span><br><span class="line">   \ &quot;box&quot;</span><br><span class="line"> 7 &#x2F; Cache a remote</span><br><span class="line">   \ &quot;cache&quot;</span><br><span class="line"> 8 &#x2F; Citrix Sharefile</span><br><span class="line">   \ &quot;sharefile&quot;</span><br><span class="line"> 9 &#x2F; Dropbox</span><br><span class="line">   \ &quot;dropbox&quot;</span><br><span class="line">10 &#x2F; Encrypt&#x2F;Decrypt a remote</span><br><span class="line">   \ &quot;crypt&quot;</span><br><span class="line">11 &#x2F; FTP Connection</span><br><span class="line">   \ &quot;ftp&quot;</span><br><span class="line">12 &#x2F; Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ &quot;google cloud storage&quot;</span><br><span class="line">13 &#x2F; Google Drive</span><br><span class="line">   \ &quot;drive&quot;</span><br><span class="line">14 &#x2F; Google Photos</span><br><span class="line">   \ &quot;google photos&quot;</span><br><span class="line">15 &#x2F; Hubic</span><br><span class="line">   \ &quot;hubic&quot;</span><br><span class="line">16 &#x2F; JottaCloud</span><br><span class="line">   \ &quot;jottacloud&quot;</span><br><span class="line">17 &#x2F; Koofr</span><br><span class="line">   \ &quot;koofr&quot;</span><br><span class="line">18 &#x2F; Local Disk</span><br><span class="line">   \ &quot;local&quot;</span><br><span class="line">19 &#x2F; Mail.ru Cloud</span><br><span class="line">   \ &quot;mailru&quot;</span><br><span class="line">20 &#x2F; Mega</span><br><span class="line">   \ &quot;mega&quot;</span><br><span class="line">21 &#x2F; Microsoft Azure Blob Storage</span><br><span class="line">   \ &quot;azureblob&quot;</span><br><span class="line">22 &#x2F; Microsoft OneDrive</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line">23 &#x2F; OpenDrive</span><br><span class="line">   \ &quot;opendrive&quot;</span><br><span class="line">24 &#x2F; Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ &quot;swift&quot;</span><br><span class="line">25 &#x2F; Pcloud</span><br><span class="line">   \ &quot;pcloud&quot;</span><br><span class="line">26 &#x2F; Put.io</span><br><span class="line">   \ &quot;putio&quot;</span><br><span class="line">27 &#x2F; QingCloud Object Storage</span><br><span class="line">   \ &quot;qingstor&quot;</span><br><span class="line">28 &#x2F; SSH&#x2F;SFTP Connection</span><br><span class="line">   \ &quot;sftp&quot;</span><br><span class="line">29 &#x2F; Transparently chunk&#x2F;split large files</span><br><span class="line">   \ &quot;chunker&quot;</span><br><span class="line">30 &#x2F; Union merges the contents of several remotes</span><br><span class="line">   \ &quot;union&quot;</span><br><span class="line">31 &#x2F; Webdav</span><br><span class="line">   \ &quot;webdav&quot;</span><br><span class="line">32 &#x2F; Yandex Disk</span><br><span class="line">   \ &quot;yandex&quot;</span><br><span class="line">33 &#x2F; http Connection</span><br><span class="line">   \ &quot;http&quot;</span><br><span class="line">34 &#x2F; premiumize.me</span><br><span class="line">   \ &quot;premiumizeme&quot;</span><br><span class="line">Storage&gt; 22 # é€‰æ‹© Microsoft OneDrive ï¼Œæˆªæ­¢2020å¹´2æœˆ23æ—¥åºå·ä¸º 22</span><br><span class="line">** See help for onedrive backend at: https:&#x2F;&#x2F;rclone.org&#x2F;onedrive&#x2F; **</span><br><span class="line"></span><br><span class="line">Microsoft App Client Id</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_id&gt; # è¾“å…¥ Client Id ï¼ˆå®¢æˆ·ç«¯ IDï¼‰</span><br><span class="line">Microsoft App Client Secret</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_secret&gt; # è¾“å…¥ Client Secret ï¼ˆå®¢æˆ·ç«¯å¯†ç ï¼‰</span><br><span class="line">Edit advanced config? (y&#x2F;n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n # è¾“å…¥ n</span><br><span class="line">Remote config</span><br><span class="line">Make sure your Redirect URL is set to &quot;http:&#x2F;&#x2F;localhost:53682&#x2F;&quot; in your custom config.</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; n # è¾“å…¥ n</span><br><span class="line">For this to work, you will need rclone available on a machine that has a web browser available.</span><br><span class="line">Execute the following on your machine (same rclone version recommended) :</span><br><span class="line">    rclone authorize &quot;onedrive&quot; &quot;client_id&quot; &quot;client_secret&quot;</span><br><span class="line">Then paste the result below:</span><br><span class="line">result&gt; &#123;&quot;access_token&quot;:&quot;XXXXXXXXX&quot;,&quot;expiry&quot;:&quot;2020-02-22T21:18:39.5036298+08:00&quot;&#125;   # è¾“å…¥ token</span><br><span class="line">Choose a number from below, or type in an existing value</span><br><span class="line"> 1 &#x2F; OneDrive Personal or Business</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line"> 2 &#x2F; Root Sharepoint site</span><br><span class="line">   \ &quot;sharepoint&quot;</span><br><span class="line"> 3 &#x2F; Type in driveID</span><br><span class="line">   \ &quot;driveid&quot;</span><br><span class="line"> 4 &#x2F; Type in SiteID</span><br><span class="line">   \ &quot;siteid&quot;</span><br><span class="line"> 5 &#x2F; Search a Sharepoint site</span><br><span class="line">   \ &quot;search&quot;</span><br><span class="line">Your choice&gt; 1 # # è¿™é‡Œé—®ä½ è¦é€‰æ‹©çš„ç±»å‹ï¼Œå› ä¸ºæ˜¯ä½¿ç”¨ OneDrive ï¼Œæ‰€ä»¥è¾“å…¥ 1</span><br><span class="line">Found 1 drives, please select the one you want to use:</span><br><span class="line">0: OneDrive (business) id&#x3D;xxxxxxxxxxxxxx</span><br><span class="line">Chose drive to use:&gt; 0 # æ£€æµ‹åˆ°äº†ç½‘ç›˜ï¼Œè¿™é‡Œç¼–å·æ˜¯ 0 ï¼Œæ‰€ä»¥è¾“å…¥ 0</span><br><span class="line">Found drive &#39;root&#39; of type &#39;business&#39;, URL: https:&#x2F;&#x2F;p3terx-my.sharepoint.com&#x2F;personal&#x2F;xxxxxx&#x2F;Documents</span><br><span class="line">Is that okay?</span><br><span class="line">y) Yes</span><br><span class="line">n) No</span><br><span class="line">y&#x2F;n&gt; y # é—®ä½ æ˜¯å¦ç¡®è®¤ï¼Œå¦‚æœæ²¡é—®é¢˜åˆ™è¾“å…¥ y</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">[od-e5-api]</span><br><span class="line">type &#x3D; onedrive</span><br><span class="line">client_id &#x3D; xxxxxxxxxx</span><br><span class="line">client_secret &#x3D; xxxxxxxxxxxxxxxx</span><br><span class="line">token &#x3D; &#123;&quot;access_token&quot;:&quot;xxxxxxxxxxxxxxxxxx&quot;,&quot;expiry&quot;:&quot;2020-02-22T21:18:39.5036298+08:00&quot;&#125;</span><br><span class="line">drive_id &#x3D; xxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">drive_type &#x3D; business</span><br><span class="line">--------------------</span><br><span class="line">y) Yes this is OK</span><br><span class="line">e) Edit this remote</span><br><span class="line">d) Delete this remote</span><br><span class="line">y&#x2F;e&#x2F;d&gt; y # æœ€åä¼šæ˜¾ç¤ºç½‘ç›˜çš„é…ç½®ä¿¡æ¯å¹¶è¯¢é—®ä½ æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ²¡é—®é¢˜åˆ™è¾“å…¥ y</span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;                 &#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">od-e5-api            onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e&#x2F;n&#x2F;d&#x2F;r&#x2F;c&#x2F;s&#x2F;q&gt; q # è¾“å…¥ q é€€å‡º</span><br></pre></td></tr></table></figure><p>æœ€åéªŒè¯ä¸€ä¸‹æ˜¯å¦èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œæ›¿æ¢ä»¥ä¸‹å‘½ä»¤ä¸­çš„ <code>od-e5-api</code> å¹¶æ‰§è¡Œï¼Œæ³¨æ„æœ€åæœ‰<code>:</code>(å†’å·)ã€‚ç½‘ç›˜ä¸­å‡ºç° <code>test</code> æ–‡ä»¶å³è¡¨ç¤ºæˆåŠŸã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch test &amp;&amp; rclone move test od-e5-api:</span><br></pre></td></tr></table></figure><h1 id="æŒ‚è½½ä¸ºç£ç›˜"><a href="#æŒ‚è½½ä¸ºç£ç›˜" class="headerlink" title="æŒ‚è½½ä¸ºç£ç›˜"></a>æŒ‚è½½ä¸ºç£ç›˜</h1><p>é¦–å…ˆå®‰è£…<code>fuse</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Debian&#x2F;Ubuntuç³»ç»Ÿ</span><br><span class="line">apt-get install fuse -y</span><br><span class="line">#CentOSç³»ç»Ÿ</span><br><span class="line">yum install fuse -y</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#æ–°å»ºæœ¬åœ°æ–‡ä»¶å¤¹ï¼Œè·¯å¾„è‡ªå·±å®šï¼Œå³ä¸‹é¢çš„LocalFolder</span><br><span class="line">mkdir &#x2F;od</span><br><span class="line">#æŒ‚è½½ä¸ºç£ç›˜ï¼Œä¸‹é¢çš„DriveNameã€Folderã€LocalFolderå‚æ•°æ ¹æ®è¯´æ˜è‡ªè¡Œæ›¿æ¢</span><br><span class="line">rclone mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000</span><br></pre></td></tr></table></figure><p><code>DriveName</code>ä¸ºåˆå§‹åŒ–é…ç½®å¡«çš„nameï¼Œ<code>Folder</code>ä¸ºOneDriveé‡Œçš„æ–‡ä»¶å¤¹ï¼Œ<code>LocalFolder</code>ä¸ºVPSä¸Šçš„æœ¬åœ°æ–‡ä»¶å¤¹ã€‚</p><p>æŒ‚è½½æˆåŠŸåï¼Œè¾“å…¥<code>df -h</code>å‘½ä»¤æŸ¥çœ‹å³å¯ï¼</p><h1 id="å¼€æœºè‡ªå¯"><a href="#å¼€æœºè‡ªå¯" class="headerlink" title="å¼€æœºè‡ªå¯"></a>å¼€æœºè‡ªå¯</h1><p>å…ˆæ–°å»º<code>systemd</code>é…ç½®æ–‡ä»¶ï¼Œé€‚ç”¨<code>CentOS 7</code>ã€<code>Debian 8+</code>ã€<code>Ubuntu 16+</code>ã€‚</p><p><code>DriveName</code>ä¸º<code>Rclone</code>çš„é…ç½®åç§°ï¼Œæ¯”å¦‚ä½ é…ç½®<code>rclone</code>çš„æ—¶å€™ï¼Œ<code>Name</code>å¡«çš„<code>od</code><br><code>Folder</code>ä¸ºç½‘ç›˜é‡Œçš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œå¦‚æœä½ è¦æŒ‚è½½æ•´ä¸ªç½‘ç›˜ï¼Œç›´æ¥å¡«<code>/</code>æŒ‚è½½æ•´ä¸ªæ ¹ç›®å½•<br><code>LocalFolder</code>ä¸ºæœ¬åœ°æœåŠ¡å™¨ä¸Šçš„æŒ‚è½½æ–‡ä»¶å¤¹ï¼Œå¦‚æœä½ éœ€è¦å°†ç½‘ç›˜çš„æ–‡ä»¶å¤¹æŒ‚è½½åˆ°æœåŠ¡å™¨ä¸Šçš„<code>/Drive</code>æ–‡ä»¶å¤¹ï¼Œé‚£å°±å¡«<code>/Drive</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#ä»¥ä¸‹æ˜¯ä¸€æ•´æ¡å‘½ä»¤ï¼Œå…ˆä¿®æ”¹DriveName:Folderå’ŒLocalFolder(æœ‰ä¸‰å¤„åœ°æ–¹)çš„å€¼ï¼Œå†ä¸€èµ·å¤åˆ¶åˆ°SSHå®¢æˆ·ç«¯è¿è¡Œ</span><br><span class="line"></span><br><span class="line">cat &gt; &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;rclone.service &lt;&lt;EOF</span><br><span class="line">[Unit]</span><br><span class="line">Description&#x3D;Rclone</span><br><span class="line">AssertPathIsDirectory&#x3D;LocalFolder</span><br><span class="line">After&#x3D;network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;rclone mount DriveName:Folder LocalFolder \</span><br><span class="line"> --umask 0000 \</span><br><span class="line"> --default-permissions \</span><br><span class="line"> --allow-non-empty \</span><br><span class="line"> --allow-other \</span><br><span class="line"> --buffer-size 32M \</span><br><span class="line"> --dir-cache-time 12h \</span><br><span class="line"> --vfs-read-chunk-size 64M \</span><br><span class="line"> --vfs-read-chunk-size-limit 1G</span><br><span class="line">ExecStop&#x3D;&#x2F;bin&#x2F;fusermount -u LocalFolder</span><br><span class="line">Restart&#x3D;on-abort</span><br><span class="line">User&#x3D;root</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;default.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>å¼€å§‹å¯åŠ¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start rclone</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable rclone</span><br></pre></td></tr></table></figure><p>å…¶ä»–å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é‡å¯ï¼šsystemctl restart rclone</span><br><span class="line">åœæ­¢ï¼šsystemctl stop rclone</span><br><span class="line">çŠ¶æ€ï¼šsystemctl status rclone</span><br></pre></td></tr></table></figure><div class="note info flat"><p>è‡³æ­¤ï¼ŒRclone å·²æˆåŠŸä½¿ç”¨è‡ªå»º API è¿æ¥åˆ°äº† OneDrive ç½‘ç›˜ã€‚å¦‚æœéœ€è¦åœ¨vpsä¸ŠæŒ‚è½½ï¼Œä½ éœ€è¦åœ¨æœ¬åœ°è·å–tokenï¼Œç„¶åå†åœ¨vpsä¸Šé…ç½®rcloneé“¾æ¥OneDrive</p></div><h1 id="Windowsä¸‹å¯è§†åŒ–ä¸Šä¼ ä¸‹è½½-RcloneBrowser"><a href="#Windowsä¸‹å¯è§†åŒ–ä¸Šä¼ ä¸‹è½½-RcloneBrowser" class="headerlink" title="Windowsä¸‹å¯è§†åŒ–ä¸Šä¼ ä¸‹è½½ RcloneBrowser"></a>Windowsä¸‹å¯è§†åŒ–ä¸Šä¼ ä¸‹è½½ RcloneBrowser</h1><p>windowsä¸‹å¯é€‰ï¼Œéå¿…é¡»ï¼Œæ„Ÿè§‰OneDriveè‡ªå·±çš„å®¢æˆ·ç«¯éƒ½å¾ˆå¥½ç”¨äº†</p><p><code>RcloneBrowser</code>æ˜¯åŸºäº<code>rclone</code>æ¥å®ç°<code>OneDrive</code>æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½ï¼Œä¸ªäººè§‰å¾—å¾®è½¯è‡ªå·±çš„<code>OneDrive</code>å®¢æˆ·ç«¯è¿˜ä¸é”™æ²¡å¿…è¦ç”¨è¿™ä¸ª.ä½†æ˜¯å¦‚æœä¸ºäº†è°ƒç”¨<code>API</code>ä¿æ´»ï¼Œè¿™å¤§æ¦‚æ˜¯æœ€ç®€å•çš„æ–¹æ³•äº†</p><p>åœ¨ <a href="https://github.com/kapitainsky/RcloneBrowser/releases">https://github.com/kapitainsky/RcloneBrowser/releases</a> ä¸‹è½½RcloneBrowser</p><p>åœ¨ <a href="http://www.secfs.net/winfsp/download/">http://www.secfs.net/winfsp/download/</a> ä¸‹è½½å¿…è¦æ’ä»¶,è¿™ä¸ªæ’ä»¶æ˜¯æŒ‚è½½onedriveåˆ°æŸä¸ªç›˜ç¬¦è¦ç”¨åˆ°çš„</p><p>ä¸‹è½½å¥½åè¿›è¡Œå®‰è£…ï¼Œç„¶åè¿›è¡Œé…ç½®ã€‚é…ç½® <code>rclone.exe</code>çš„è·¯å¾„è¿˜æœ‰ <code>rclone.conf</code> é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305142403.png"></p><p>ä¸Šä¼ æ–‡ä»¶</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305142458.png"></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305142506.png"></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305142517.png"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Office </tag>
            
            <tag> Rclone </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…è´¹ç”³è¯·office365E5-é™„è‡ªåŠ¨è®¢é˜…ä¿æ´»æ–¹æ³•</title>
      <link href="posts/e968e4c0/"/>
      <url>posts/e968e4c0/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»¥å‰çš„Office 365å¼€å‘è€…è¯•ç”¨è®¢é˜…ï¼ˆç®€ç§°E3ï¼‰æœ‰æ•ˆæœŸåªæœ‰ä¸€å¹´ï¼Œä¸€å¹´è¿‡åæ•°æ®éƒ½æ²¡äº†ã€‚</p><p>ç°åœ¨å¾®è½¯æ¨å‡ºçš„æ–°ç‰ˆè®¢é˜…æœ‰æ•ˆæ—¶é—´ä½90å¤©ï¼Œå¯è‡ªåŠ¨è¿›è¡Œè®¢é˜…<br>å®˜æ–¹æ•™ç¨‹(æ‰‹åŠ¨å¤åˆ¶æ‰“å¼€)ï¼š<a href="https://docs.microsoft.com/en-us/office/developer-program/office-365-developer-program">https://docs.microsoft.com/en-us/office/developer-program/office-365-developer-program</a></p><blockquote><ul><li>åŒ…æ‹¬ 25 ä¸ªç”¨äºå¼€å‘ç›®çš„çš„ç”¨æˆ·è®¸å¯è¯</li><li>è®¿é—®æ ¸å¿ƒ Microsoft 365 å·¥ä½œè´Ÿè½½å’ŒåŠŸèƒ½ï¼ˆä¸åŒ…æ‹¬ Windowsï¼‰ï¼ŒåŒ…æ‹¬ï¼š</li><li>æ‰€æœ‰ Office 365 åº”ç”¨ï¼ŒåŒ…æ‹¬ SharePointã€OneDriveã€Outlook/Exchangeã€Teamsã€Plannerã€Wordã€Excelã€PowerPoint ç­‰</li><li>Office 365 é«˜çº§å¨èƒé˜²æŠ¤</li><li>Power BI é«˜çº§åˆ†æ</li><li>ç”¨äºåˆè§„æ€§å’Œä¿¡æ¯ä¿æŠ¤çš„ä¼ä¸šç§»åŠ¨æ€§ + å®‰å…¨æ€§ (EMS)</li><li>ç”¨äºæ„å»ºé«˜çº§æ ‡è¯†å’Œè®¿é—®ç®¡ç†è§£å†³æ–¹æ¡ˆçš„ Azure Active Directory</li></ul></blockquote><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><ol><li>é¦–å…ˆè¿›å…¥<a href="https://developer.microsoft.com/zh-cn/office">Officeå¼€å‘äººå‘˜ä¸­å¿ƒ</a>ç™»å½•ä½ çš„å¾®è½¯å¸å·ä¹‹åï¼Œç‚¹å‡»ç«‹å³åŠ å…¥ï¼›</li></ol><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305090732.png"></p><ol start="2"><li>å¼€é€šOfficeå¼€å‘è€…è´¦å·ï¼Œå¹¶ä¸”å®Œå–„ä¸ªäººä¿¡æ¯ï¼›</li></ol><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305090906.png"></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305091111.png"></p><ol start="3"><li>è¿›å…¥ä¸ªäººä¸­å¿ƒï¼Œç‚¹å‡»è®¾ç½®è®¢é˜…ï¼›</li></ol><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305092235.png"></p><ol start="4"><li><p>å¡«å†™è®¾ç½®å¼€å‘è€…è®¢é˜…ç›¸å…³çš„ä¿¡æ¯ï¼›(è¿™é‡Œè¦å¯Œå¼ºï¼Œä¸ç„¶æ¥æ”¶ä¸åˆ°éªŒè¯ç )<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305092411.png"></p></li><li><p>è¿™æ ·å°±æ³¨å†Œå¥½äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦å¯¹è‡ªå·±çš„è´¦å·æ·»åŠ è®¸å¯è¯ï¼Œä¸ç„¶ç”¨ä¸äº†çš„ã€‚</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305092544.png"></p><ol start="6"><li><p>æ·»åŠ è®¸å¯è¯</p><p>ç‚¹å‡»ä¸Šå›¾çš„ Go to subscription ï¼Œè¿›å…¥åå°</p></li></ol><p>ç®¡ç† â€“ &gt; ç”¨æˆ· -&gt; æ´»è·ƒç”¨æˆ· -&gt; ç‚¹å‡»ç”¨æˆ·å -&gt; è®¸å¯è¯å’Œç”¨æˆ· ,æ·»åŠ å¥½åç‚¹å‡»åº”ç”¨å°±å¯ä»¥äº†</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305093316.png"></p><ol start="7"><li>å¢å¤§onedriveå®¹é‡</li></ol><p>åœ¨<a href="https://admin.onedrive.com/">onedriveç®¡ç†</a>ä¸­ï¼Œæ‰¾åˆ°å‚¨å­˜</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200305095148.png"></p><h1 id="ä¿æ´»æ–¹æ³•"><a href="#ä¿æ´»æ–¹æ³•" class="headerlink" title="ä¿æ´»æ–¹æ³•"></a>ä¿æ´»æ–¹æ³•</h1><p>çœ‹äº†äº›å¤§ä½¬çš„æ–¹æ³•ï¼Œä¸»è¦é‡‡å–çš„è¿˜æ˜¯åˆ©ç”¨onedriveå’Œoutlookï¼Œå…¶å®åªè¦ä½ å»è°ƒç”¨äº†ä»–çš„apiå°±å¯ä»¥ä¿æ´»ã€‚</p><p>ä¿æ´»æ•™ç¨‹è§ä¸‹ä¸€æœŸã€‚ã€‚ã€‚</p><p>è¿™ä¸¤ç¯‡éƒ½æ˜¯è°ƒç”¨çš„onedriveçš„apiï¼Œä¸€ç¯‡æ˜¯åŸºäºrcloneï¼Œå¦ä¸€ç¯‡æ˜¯åŸºäºonemanager</p><a href="/posts/c4f1574a/" title="RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI">RcloneæŒ‚è½½OneDriveæ–¹æ³•-è‡ªå»ºAPI</a><a href="/posts/7386aa8e/" title="åˆ©ç”¨herokuæ­å»ºå…è´¹çš„onemanager">åˆ©ç”¨herokuæ­å»ºå…è´¹çš„onemanager</a><p>å¬è¯´è°ƒç”¨outlookçš„apiï¼Œå¯¹å·²ç»è¿‡æœŸçš„è´¦æˆ·ï¼Œä¸¤å¤©å°±è‡ªåŠ¨ç»­æœŸäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuå®‰è£…ohmyzsh</title>
      <link href="posts/29ade658/"/>
      <url>posts/29ade658/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…zshå’Œgit"><a href="#å®‰è£…zshå’Œgit" class="headerlink" title="å®‰è£…zshå’Œgit"></a>å®‰è£…zshå’Œgit</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install zsh git</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh my zsh"></a>å®‰è£…oh my zsh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)</span>&quot;</span></span><br></pre></td></tr></table></figure><h1 id="ä¿®æ”¹ä¸»é¢˜"><a href="#ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜"></a>ä¿®æ”¹ä¸»é¢˜</h1><p>åœ¨ <code>.zshrc</code>æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹<code>ZSH_THEME</code>,ä¸»é¢˜å±•ç¤ºå¯è§å®˜æ–¹<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">themes</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ‰¾åˆ°å¯¹åº”è¡Œæ”¹ä¸ºä½ å–œæ¬¢çš„ä¸»é¢˜</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;agnoster&quot;</span></span><br></pre></td></tr></table></figure><h1 id="æ·»åŠ æ’ä»¶"><a href="#æ·»åŠ æ’ä»¶" class="headerlink" title="æ·»åŠ æ’ä»¶"></a>æ·»åŠ æ’ä»¶</h1><h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>è¿™ä¸ªæ’ä»¶çš„ä½œç”¨æ˜¯ï¼šè¿æŒ‰ä¸¤æ¬¡Escæ·»åŠ æˆ–å»æ‰sudo<br>è¿™ä¸ªæ’ä»¶å®˜æ–¹å·²ç»é›†æˆï¼Œç›´æ¥åœ¨<code>.zshrc</code>ä¸­å¼€å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plugins&#x3D;(</span><br><span class="line">  git</span><br><span class="line">  sudo</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">)  </span><br></pre></td></tr></table></figure><h2 id="zsh-syntax-highlighting"><a href="#zsh-syntax-highlighting" class="headerlink" title="zsh-syntax-highlighting"></a>zsh-syntax-highlighting</h2><p>è¿™ä¸ªæ’ä»¶ä½œç”¨æ˜¯ï¼šé«˜äº®å¯ç”¨å‘½ä»¤</p><p>é¦–å…ˆä¸‹è½½æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>.zshrc</code>æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  sudo</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">  )  </span><br></pre></td></tr></table></figure><h2 id="zsh-autosuggestions"><a href="#zsh-autosuggestions" class="headerlink" title="zsh-autosuggestions"></a>zsh-autosuggestions</h2><p>è¿™ä¸ªæ’ä»¶ä½œç”¨æ˜¯ï¼šè®°å½•ä¸Šä¸€æ¡å‘½ä»¤ï¼Œå¹¶è‡ªåŠ¨å»ºè®®</p><p>åŒæ ·çš„éœ€è¦ä¸‹è½½æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹<code>.zshrc</code>æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  sudo</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  )  </span><br></pre></td></tr></table></figure><h2 id="extract"><a href="#extract" class="headerlink" title="extract"></a>extract</h2><p>è‡ªå¸¦æ’ä»¶ï¼Œä¸ç”¨å†ä½¿ç”¨å¤æ‚çš„taræ¥è§£å‹å‹ç¼©åŒ…äº†</p><p>æ¿€æ´»: æ·»åŠ åˆ°~/.zshrcçš„pluginsåˆ—è¡¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  sudo</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  extract</span><br><span class="line">  )</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://ohmyz.sh/">oh my zsh å®˜ç½‘</a><br>2.<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">oh my zsh ä¸»é¢˜ä»“åº“</a><br>3.<a href="https://github.com/ohmyzsh/ohmyzsh/">oh my zsh æºç ä»“åº“</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºCoding_CIå®ç°Hexoçš„æŒç»­é›†æˆä¸Githubå’ŒCodingçš„åŒæ­¥éƒ¨ç½²</title>
      <link href="posts/51df657a/"/>
      <url>posts/51df657a/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç½‘ä¸Šå…³äº <code>Hexo</code>æŒç»­é›†æˆçš„æ–‡ç« å¤§å¤šæ˜¯ä½¿ç”¨<code>Travis CI</code>ï¼Œä¹Ÿæœ‰ä¸å°‘åŒæ­¥éƒ¨ç½²åˆ°<code>Github</code>å’Œ<code>Coding</code>çš„æ•™ç¨‹ï¼Œä¸è¿‡<code>Travis</code>åªå¯¹<code>Github</code>çš„ä»“åº“æä¾›CIæœåŠ¡ï¼Œç”±äºæŸäº›åŸå› ï¼Œ<code>Github</code>åœ¨å›½å†…çš„è®¿é—®é€Ÿåº¦å¹¶ä¸ç†æƒ³ï¼Œæ‰€ä»¥é‡‡ç”¨<code>Coding CI</code>è¿›è¡Œéƒ¨ç½²ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ-CI-ï¼š"><a href="#ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ-CI-ï¼š" class="headerlink" title="ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ(CI)ï¼š"></a>ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ(CI)ï¼š</h1><blockquote><p>æŒç»­é›†æˆï¼ˆContinuous Integrationï¼Œç®€ç§°CIï¼‰æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œåœ¨å®è·µä¸­æŒ‡åªè¦ä»£ç æœ‰å˜æ›´ï¼Œå°±è‡ªåŠ¨è¿è¡Œæ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚</p></blockquote><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><h2 id="è·å–GitHubå’Œcodingçš„è®¿é—®ä»¤ç‰Œ"><a href="#è·å–GitHubå’Œcodingçš„è®¿é—®ä»¤ç‰Œ" class="headerlink" title="è·å–GitHubå’Œcodingçš„è®¿é—®ä»¤ç‰Œ"></a>è·å–GitHubå’Œcodingçš„è®¿é—®ä»¤ç‰Œ</h2><h3 id="coding"><a href="#coding" class="headerlink" title="coding"></a>coding</h3><p>åœ¨codingçš„ä¸ªäººè®¾ç½®ä¸­ï¼Œæ‰¾åˆ°è®¿é—®ä»¤ç‰Œï¼Œå¹¶åˆ›å»ºå®ƒ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174003.png"></p><p>ç‚¹å‡»åˆ›å»ºè®¿é—®ä»¤ç‰Œï¼Œæè¿°å¯ä»¥éšä¾¿å¡«å†™ï¼Œå‹¾é€‰<code>project:depot</code>çš„å¤é€‰æ¡†å³å¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174219.png"></p><p>å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å°†è·å–åˆ°çš„å¯†é’¥å¤åˆ¶ä¿å­˜ä¸‹æ¥ï¼Œå¹¶ä»¥<code>ç”¨æˆ·å:å¯†é’¥</code>çš„æ–¹å¼ç»„åˆèµ·æ¥ã€‚</p><h3 id="github"><a href="#github" class="headerlink" title="github"></a>github</h3><p>å’Œcodingç±»ä¼¼ï¼Œåœ¨<code>Settings-&gt;Developer settings-&gt;Personal access tokens</code>åˆ›å»º<a href="https://github.com/settings/tokens">githubè®¿é—®ä»¤ç‰Œ</a></p><p>ç‚¹å‡»åˆ›å»ºä»¤ç‰Œ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221174649.png"></p><p>åç§°éšæ„ï¼Œå‹¾é€‰<code>reop</code>å¤é€‰æ¡†<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221175002.png"></p><p>æ³¨æ„ä¿å­˜å¯†é’¥ï¼Œå¹¶ä»¥<code>ç”¨æˆ·å:å¯†é’¥</code>çš„æ–¹å¼ç»„åˆèµ·æ¥ã€‚</p><h2 id="é…ç½®æ„å»ºè„šæœ¬"><a href="#é…ç½®æ„å»ºè„šæœ¬" class="headerlink" title="é…ç½®æ„å»ºè„šæœ¬"></a>é…ç½®æ„å»ºè„šæœ¬</h2><p>å›åˆ°Codingï¼Œè¿›å…¥é¡¹ç›®ä»“åº“ï¼Œç‚¹å‡»æ„å»ºï¼Œç‚¹å‡»ä¸‹æ–¹çš„æ–°å»ºæ„å»ºè®¡åˆ’é…ç½®<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221175248.png"></p><p>æˆ‘çš„åšå®¢æºä»£ç åœ¨githubæ‰€ä»¥é€‰æ‹©githubï¼Œå‹¾é€‰é™æ€é…ç½®Jenkinsfileæ–‡ä»¶ï¼Œé€‰æ‹©è‡ªå®šä¹‰æ„å»ºè¿‡ç¨‹ï¼Œå‹¾é€‰å‰å¾€é…ç½®è¯¦æƒ…ï¼Œå¹¶ç‚¹å‡»ç¡®å®šã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221175530.png"></p><blockquote><p>æºç åœ¨githubéœ€è¦å…³è”å¤–éƒ¨ä»“åº“ï¼Œå¯æ ¹æ®æç¤ºæ¥é…ç½®</p></blockquote><p>ç‚¹å‡»æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ¸…ç©ºå†…å®¹ã€‚å°†ä¸‹æ–¹ä»£ç å¡«å…¥å…¶ä¸­ï¼Œæ³¨æ„æ›´æ”¹å…¶ä¸­çš„ç”¨æˆ·åï¼Œé‚®ç®±ï¼Œä»“åº“ç­‰ã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221175937.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">  agent any</span><br><span class="line">  stages &#123;</span><br><span class="line">    stage(&#39;æ‹‰å–æºç &#39;) &#123;</span><br><span class="line">      steps &#123;</span><br><span class="line">        checkout([$class: &#39;GitSCM&#39;,branches: [[name: env.GIT_BUILD_REF]],userRemoteConfigs: [[url: env.GIT_REPO_URL, credentialsId: env.CREDENTIALS_ID]]])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stage(&#39;å®‰è£…Hexo&#39;) &#123;</span><br><span class="line">      steps &#123;</span><br><span class="line">        echo &#39;æ­£åœ¨å®‰è£…Hexo-cli...&#39;</span><br><span class="line">        sh &#39;npm install -g hexo-cli&#39;</span><br><span class="line">        sh &#39;npm install hexo@4.1.1 --save&#39;</span><br><span class="line">        sh &#39;npm install&#39;</span><br><span class="line">        echo &#39;å®‰è£…å®Œæˆ.&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stage(&#39;ç”Ÿæˆé™æ€æ–‡ä»¶&#39;) &#123;</span><br><span class="line">      steps &#123;</span><br><span class="line">        echo &#39;ç”Ÿæˆé™æ€æ–‡ä»¶ä¸­...&#39;</span><br><span class="line">        sh &#39;hexo clean&#39;</span><br><span class="line">        sh &#39;hexo g&#39;</span><br><span class="line">        echo &#39;å·²ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå‡†å¤‡æ¨é€éƒ¨ç½².&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stage(&#39;æ¨é€éƒ¨ç½²&#39;) &#123;</span><br><span class="line">      steps &#123;</span><br><span class="line">        echo &#39;æ­£åœ¨æ¨é€é™æ€æ–‡ä»¶...&#39;</span><br><span class="line">        dir(path: &#39;public&#39;) &#123;</span><br><span class="line">          script &#123;</span><br><span class="line">            writeFile(file: &#39;CNAME&#39;, text: &#39;åŸŸå&#39;)</span><br><span class="line">            sh &#39;git init&#39;</span><br><span class="line">            sh &#39;git add -A&#39;</span><br><span class="line">            sh &#39;git config user.name &quot;ç”¨æˆ·å&quot;&#39;</span><br><span class="line">            sh &#39;git config user.email &quot;é‚®ç®±&quot;&#39;</span><br><span class="line">            sh &#39;git commit -m CI&#39;</span><br><span class="line">            sh &#39;git push -f https:&#x2F;&#x2F;$&#123;GH_Token&#125;@github.com&#x2F;ç”¨æˆ·å&#x2F;ä»“åº“.git master&#39;</span><br><span class="line">            sh &#39;git push -f https:&#x2F;&#x2F;$&#123;CO_Token&#125;@e.coding.net&#x2F;ç”¨æˆ·å&#x2F;ä»“åº“.git master&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        echo &#39;å·²å®Œæˆæ–‡ä»¶æ¨é€.&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚è‹¥æœªä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œå¯åˆ é™¤ç¬¬30è¡Œå†…å®¹ã€‚</p></blockquote><p>ç‚¹å‡»å˜é‡ä¸ç¼“å­˜ï¼Œå¢åŠ ç¯å¢ƒå˜é‡ï¼Œåˆ†åˆ«ä¸ºï¼š<br>å˜é‡åç§°ï¼šCO_Tokenï¼Œç±»å‹ï¼šå­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸ºä¸Šä¸€æ­¥Codingä»¤ç‰Œçš„ç»„åˆã€‚<br>å˜é‡åç§°ï¼šGH_Tokenï¼Œç±»å‹ï¼šå­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸ºä¸Šä¸€æ­¥Githubä»¤ç‰Œçš„ç»„åˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221180246.png"></p><h2 id="æµ‹è¯•é…ç½®"><a href="#æµ‹è¯•é…ç½®" class="headerlink" title="æµ‹è¯•é…ç½®"></a>æµ‹è¯•é…ç½®</h2><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200221180443.png"></p><p>ç¨ç­‰ç‰‡åˆ»ï¼Œå³å¯çœ‹åˆ°æ„å»ºæˆåŠŸã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨codingåœ¨çº¿ç¼–è¾‘hexoåšå®¢</title>
      <link href="posts/87a2932/"/>
      <url>posts/87a2932/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨çœ‹è¿™ç¯‡åšå®¢å‰ï¼Œä½ åº”è¯¥å…·å¤‡ä»¥ä¸‹åŸºç¡€ï¼Œå¦‚æœæ˜¯å°ç™½ï¼Œè¯·å‚è€ƒæˆ‘ä¹‹å‰çš„åšæ–‡ã€‚</p><blockquote><ul><li>è‡ªå·±æ­å»ºè¿‡hexoï¼Œå¹¶ä¸”å‘å¸ƒè¿‡æ–‡ç« </li><li>ä½¿ç”¨è¿‡githubå’Œcoding</li><li>ç†Ÿæ‚‰Linuxå‘½ä»¤å’Œgitå‘½ä»¤</li><li>æ‹¥æœ‰è‡ªå·±çš„åšå®¢æºç ä»“åº“</li></ul></blockquote><p>è…¾è®¯å‡ºäº†ä¸€ä¸ªå«<code>cloud studio</code> çš„åœ¨çº¿ç¯å¢ƒï¼Œå¯ä»¥éƒ¨ç½²ubuntuï¼Œhexoç­‰å¼€å‘ç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¹ˆä¸€ä¸ªæ–¹ä¾¿çš„ç¯å¢ƒæ¥åœ¨çº¿ç¼–è¾‘æˆ‘ä»¬çš„åšå®¢ã€‚</p><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><ol><li><p>ç™»å½•ä½ çš„codingè´¦æˆ·ï¼Œè¿›å…¥<code>cloud studio</code><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219204846.png"></p></li><li><p>ç‚¹å‡»è®¾ç½®ï¼Œå°†è¿™ä¸²SSH å…¬é’¥æ·»åŠ åˆ°ä½ çš„æºç ä»“åº“ä¸­<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219205449.png"></p></li></ol><p>æˆ‘çš„æºç æ˜¯åœ¨githubä¸­ï¼Œä¸‹é¢æˆ‘ä»¥githubä¸ºä¾‹ï¼š</p><ul><li><p>åœ¨ä½ çš„æºç ä»“åº“ä¸­ç‚¹å‡»è®¾ç½® -&gt; deploy keys<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219205805.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219205933.png"></p></li><li><p>æ·»åŠ ssh å…¬é’¥ï¼Œæ³¨æ„å‹¾é€‰ä¸‹é¢çš„æƒé™<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219210318.png"></p></li></ul><ol start="3"><li>æ–°å»ºå·¥ä½œç©ºé—´<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219205116.png"></li></ol><ul><li>è®¾ç½®å·¥ä½œç©ºé—´åå­—ï¼Œé€‰æ‹©nodejsçš„ç¯å¢ƒï¼Œè¾“å…¥ä½ æºç ä»“åº“çš„ <strong>SSH åè®®çš„ä»“åº“åœ°å€</strong><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219210700.png"></li></ul><ol start="4"><li><p>è¿›å…¥å·¥ä½œç©ºé—´ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ï¼Œè¿›å…¥åä»–ä¼šè‡ªåŠ¨å…‹éš†ä½ çš„æºç ä»“åº“<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219211153.png"></p></li><li><p>å®‰è£…hexo<br>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">npm install hexo@4.1.1 --save</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219211730.png"></p></li></ol><p>æˆ‘è¿™é‡Œå› ä¸ºæœ‰ä¸ªæ’ä»¶éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„hexoï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šç‰ˆæœ¬,å¦‚æœä¸éœ€è¦ç‰¹å®šç‰ˆæœ¬åªéœ€ <code>npm install hexo --save</code></p><ol start="6"><li>å†™æ–‡ç« </li></ol><p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ<code>hexo new test</code> æµ‹è¯•æˆ‘ä»¬çš„ç¯å¢ƒ<br>ç„¶åå’Œæœ¬åœ°å†™æ–‡ç« ä¸€æ ·ï¼Œç”Ÿæˆæ–‡ç« å‘å¸ƒæ–‡ç« </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219212335.png"></p><p>æ‰§è¡Œå®Œ<code>hexo g</code>ä¹‹åå¯ä»¥çœ‹åˆ°å·²ç»ç”Ÿæˆ<code>public</code>æ–‡ä»¶å¤¹äº†</p><p>åœ¨æ‰§è¡Œ<code>hexo d</code>ä¹‹å‰éœ€è¦è®¾ç½®gitç”¨æˆ·åå’Œé‚®ç®±<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219212605.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä»–æé†’è¾“å…¥ç”¨æˆ·åé‚®ç®±ã€‚<code>.deploy_git</code>æ–‡ä»¶å¤¹ä¹Ÿç”Ÿæˆäº†</p><p>åœ¨æˆ‘ä»¬çš„åšå®¢ä¸­é¡µæœ‰äº†è¿™ä¸ªé¡µé¢<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219213012.png"></p><ol start="7"><li>å°†åˆšæ‰å†™å¥½çš„åšå®¢æºç <code>push</code>åˆ°<code>github</code>ä¸­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;update&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li><li>åœ¨æœ¬åœ°åŒæ­¥<br>ä½ å¯ä»¥ä½¿ç”¨<code>git pull</code>åŒæ­¥ä»“åº“çš„æ–‡ä»¶ï¼ˆå¦‚æœä½ çš„ç”µè„‘ä¸Šæœ‰è¿™ä¸ªæºç ä»“åº“ï¼‰ï¼Œå¦‚æœæ²¡æœ‰æºç ä»“åº“ï¼Œä¹Ÿå¯ä»¥å•ç‹¬cloneä½ çš„æºç ä»“åº“<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200219214052.png"></li></ol><p>å› ä¸ºè¿™ç¯‡åšæ–‡æ˜¯åœ¨æœ¬åœ°ç”µè„‘ä¸Šå†™çš„ï¼Œè¿˜æ²¡å‘å‡ºå»ï¼Œæ‰€ä»¥æˆ‘å…‹éš†åˆ°æœ¬åœ°ä»“åº“ã€‚å¯ä»¥çœ‹åˆ°åˆ›å»ºçš„<code>test.md</code>å·²ç»åœ¨æœ¬åœ°ç”µè„‘ä¸Šäº†</p><blockquote><p>åƒè¿™æ ·åˆ‡æ¢ç¯å¢ƒå†™ä½œï¼Œå†™ä¹‹å‰æœ€å¥½<code>git pull</code>ä¸€ä¸‹ï¼Œå†™å®Œåè®°å¾—pushåˆ°ä»“åº“ä¸­</p></blockquote><p>åŒæ ·çš„ä½ ä¸è¦å®‰è£…æ’ä»¶ï¼Œæ‰§è¡Œ<code>npm install hexo --save</code><br>å†è¿›è¡Œç¼–å†™æ–‡ç« <br>å†™å¥½ä¹‹åéƒ¨ç½²ä½ çš„åšå®¢ï¼Œä»¥åŠpushåˆ°æºç ä»“åº“</p><h1 id="é—®é¢˜æ€»ç»“"><a href="#é—®é¢˜æ€»ç»“" class="headerlink" title="é—®é¢˜æ€»ç»“"></a>é—®é¢˜æ€»ç»“</h1><ol><li>è¿™ä¸ªåœ¨çº¿ç¯å¢ƒæ¯å¤©åªèƒ½ç”¨ä¸¤ä¸ªå°æ—¶ã€‚ã€‚ã€‚</li><li>åœ¨åˆ‡æ¢ç»ˆç«¯æ“ä½œåï¼Œå¯èƒ½æœ‰pushä¸æˆåŠŸçš„ç°è±¡ï¼Œè¿™é‡Œæ¶‰åŠåˆ°gitååŒå·¥ä½œçš„é—®é¢˜äº†ã€‚å› ä¸ºä½ æ²¡æœ‰<code>git pull</code>ä»“åº“é‡Œæ›´æ–°äº†çš„ä»£ç </li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>githubå’Œcodingå®ç°301é‡å®šå‘</title>
      <link href="posts/32baccf/"/>
      <url>posts/32baccf/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä½¿ç”¨ä¸è’œå­è¿›è¡Œç«™ç‚¹è®¿é—®ç»Ÿè®¡çš„æ—¶å€™ï¼Œå‘ç°å¸¦wwwçš„åŸŸåå’Œä¸å¸¦wwwçš„åŸŸåç»Ÿè®¡ä¸ä¸€æ ·ã€‚</p><p>å¸¦wwwå’Œä¸å¸¦wwwçš„æœç´¢å¼•æ“ä¼šè®¤ä¸ºæ˜¯ä¸¤ä¸ªç½‘ç«™ï¼Œä¼šå½±å“seoï¼Œæ‰€ä»¥è¦è¿›è¡Œç»Ÿä¸€ã€‚å°†wwwåŸŸåå®šå‘åˆ°é¡¶çº§åŸŸåï¼Œæˆ–è€…æŠŠé¡¶çº§åŸŸåå®šå‘åˆ°wwwåŸŸå</p><h1 id="githubé‡å®šå‘"><a href="#githubé‡å®šå‘" class="headerlink" title="githubé‡å®šå‘"></a>githubé‡å®šå‘</h1><ol><li>åœ¨ä»“åº“æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªCNAMEæ–‡ä»¶,æ²¡æœ‰åç¼€å,é‡Œé¢å†…å®¹ä¸ºä½ ä¸»æ‰“çš„åŸŸåï¼Œä¾‹å¦‚æˆ‘ä¸»æ‰“é¡¶çº§åŸŸåï¼Œå°±å†™<code>gyhnice.top</code>;</li><li>åŸŸåè§£æé‚£é‡Œï¼Œå°†@å’Œwww CNAMEè®°å½•çš„è®°å½•å€¼åŒæ—¶è®¾ç½®ä¸ºusername.github.ioå³å¯å®Œæˆgithub pages301é‡å®šå‘ï¼Œå°±æ˜¯é‚£ä¹ˆç®€å•ã€‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200215103849.png"></p><h1 id="codingé‡å®šå‘"><a href="#codingé‡å®šå‘" class="headerlink" title="codingé‡å®šå‘"></a>codingé‡å®šå‘</h1><p>æ·»åŠ wwwåŸŸåå’Œé¡¶çº§åŸŸåï¼Œè®¾ç½®ä¸€ä¸ªé¦–é€‰åŸŸåï¼Œåœ¨å¦ä¸€ä¸ªåŸŸååé¢å‹¾é€‰<code>è·³è½¬è‡³é¦–é€‰</code><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200215103538.png"></p><blockquote><p>å¦‚æœsslè¯ä¹¦ç”³è¯·ä¸äº†ï¼Œå…ˆæŠŠgithubçš„åŸŸåè§£æå…ˆæš‚åœ</p></blockquote><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://www.arao.me/website/github-pages-araome-301-www.html">Github Pages301é‡å®šå‘ç®€å•çš„è®©æˆ‘æœ‰ç‚¹æ¥å—å””åˆ°å’¯</a></li><li><a href="https://www.jianshu.com/p/35a6ad08ea44">hexoè®¾ç½®301é‡å®šå‘</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢å¼€å¯pwa</title>
      <link href="posts/805d5d89/"/>
      <url>posts/805d5d89/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><code>Progressive Web App</code>, ç®€ç§°<code> PWA</code>ï¼Œæ˜¯æå‡ Web App çš„ä½“éªŒçš„ä¸€ç§æ–°æ–¹æ³•ï¼Œèƒ½ç»™ç”¨æˆ·åŸç”Ÿåº”ç”¨çš„ä½“éªŒã€‚</p><p><code>PWA</code> èƒ½åšåˆ°åŸç”Ÿåº”ç”¨çš„ä½“éªŒä¸æ˜¯é ç‰¹æŒ‡æŸä¸€é¡¹æŠ€æœ¯ï¼Œè€Œæ˜¯ç»è¿‡åº”ç”¨ä¸€äº›æ–°æŠ€æœ¯è¿›è¡Œæ”¹è¿›ï¼Œåœ¨å®‰å…¨ã€æ€§èƒ½å’Œä½“éªŒä¸‰ä¸ªæ–¹é¢éƒ½æœ‰å¾ˆå¤§æå‡ï¼ŒPWA æœ¬è´¨ä¸Šæ˜¯ Web Appï¼Œå€ŸåŠ©ä¸€äº›æ–°æŠ€æœ¯ä¹Ÿå…·å¤‡äº† Native App çš„ä¸€äº›ç‰¹æ€§ï¼Œå…¼å…· Web App å’Œ Native App çš„ä¼˜ç‚¹ã€‚</p><p>PWA çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ä¸‹é¢ä¸‰ç‚¹ï¼š</p><ul><li>å¯é  - å³ä½¿åœ¨ä¸ç¨³å®šçš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œä¹Ÿèƒ½ç¬é—´åŠ è½½å¹¶å±•ç°</li><li>ä½“éªŒ - å¿«é€Ÿå“åº”ï¼Œå¹¶ä¸”æœ‰å¹³æ»‘çš„åŠ¨ç”»å“åº”ç”¨æˆ·çš„æ“ä½œ</li><li>ç²˜æ€§ - åƒè®¾å¤‡ä¸Šçš„åŸç”Ÿåº”ç”¨ï¼Œå…·æœ‰æ²‰æµ¸å¼çš„ç”¨æˆ·ä½“éªŒï¼Œç”¨æˆ·å¯ä»¥æ·»åŠ åˆ°æ¡Œé¢</li></ul><p>PWA æœ¬èº«å¼ºè°ƒæ¸è¿›å¼ï¼Œå¹¶ä¸è¦æ±‚ä¸€æ¬¡æ€§è¾¾åˆ°å®‰å…¨ã€æ€§èƒ½å’Œä½“éªŒä¸Šçš„æ‰€æœ‰è¦æ±‚ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ PWA Checklist æŸ¥çœ‹ç°æœ‰çš„ç‰¹å¾ã€‚</p><div class="note warning flat"><p>å¼€å§‹pwaä¹‹å‰ï¼Œå…¨ç«™å¿…é¡»æ”¯æŒHTTPS<br>å¼€å§‹pwaä¹‹å‰ï¼Œå…¨ç«™å¿…é¡»æ”¯æŒHTTPS<br>å¼€å§‹pwaä¹‹å‰ï¼Œå…¨ç«™å¿…é¡»æ”¯æŒHTTPS</p></div><h1 id="å®‰è£…pwa"><a href="#å®‰è£…pwa" class="headerlink" title="å®‰è£…pwa"></a>å®‰è£…pwa</h1><p><code>hexo@4.2.0</code> ç›®å‰èµä¸å…¼å®¹ <code>hexo-pwa</code>,ä½¿ç”¨ <code>hexo@4.2.0</code> ç‰ˆæœ¬çš„ç”¨æˆ·æ¨èé™çº§åˆ° <code>hexo@4.1.1</code></p><ol><li>ä½¿ç”¨<code>sudo hexo -version</code> æŸ¥çœ‹ç‰ˆæœ¬</li><li>å®‰è£…æŒ‡å®šç‰ˆæœ¬ <code>sudo npm install hexo@4.1.1 --save</code></li><li>å®‰è£…<code>hexo-pwa</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-pwa --save</span><br></pre></td></tr></table></figure><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1></li></ol><h2 id="æ·»åŠ manifest-json"><a href="#æ·»åŠ manifest-json" class="headerlink" title="æ·»åŠ manifest.json"></a>æ·»åŠ manifest.json</h2><p>åœ¨<code>manifest.json</code><a href="https://app-manifest.firebaseapp.com/">ç”Ÿæˆç½‘ç«™</a>ç”Ÿæˆmanifest.json<br>é¦–å…ˆä½ éœ€è¦å‡†å¤‡ä¸€ä¸ªä½ å–œæ¬¢çš„å›¾æ ‡ï¼Œå¡«å†™é¦™ç›¸å…³é€‰é¡¹ï¼Œå¹¶ä¸Šä¼ å›¾æ ‡ï¼Œå°†ç”Ÿæˆçš„manifest.jsonæ–‡ä»¶ï¼Œæ”¾åˆ° <strong>åšå®¢æ ¹ç›®å½•ä¸‹</strong><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200214153454.png"></p><p>æˆ‘ç”Ÿæˆçš„å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;YH&#39;s Blog&quot;,</span><br><span class="line">  &quot;short_name&quot;: &quot;YH&#39;s Blog&quot;,</span><br><span class="line">  &quot;theme_color&quot;: &quot;#2196f3&quot;,</span><br><span class="line">  &quot;background_color&quot;: &quot;#2196f3&quot;,</span><br><span class="line">  &quot;display&quot;: &quot;standalone&quot;,</span><br><span class="line">  &quot;Scope&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">  &quot;start_url&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">  &quot;icons&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-72x72.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;72x72&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-96x96.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;96x96&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-128x128.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;128x128&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-144x144.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;144x144&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-152x152.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;152x152&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-192x192.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;192x192&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-384x384.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;384x384&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;images&#x2F;icons&#x2F;icon-512x512.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;512x512&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;png&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;splash_pages&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‚æ•°è§£é‡Š</strong></p><ul><li><p>name: {string} åº”ç”¨åç§°ï¼Œç”¨äºå®‰è£…æ¨ªå¹…ã€å¯åŠ¨ç”»é¢æ˜¾ç¤º</p></li><li><p>short_name: {string} åº”ç”¨çŸ­åç§°ï¼Œç”¨äºä¸»å±å¹•æ˜¾ç¤º</p></li><li><p>theme_color: {Color} cssè‰²å€¼theme_color å±æ€§å¯ä»¥æŒ‡å®š PWA çš„ä¸»é¢˜é¢œè‰²ã€‚å¯ä»¥é€šè¿‡è¯¥å±æ€§æ¥æ§åˆ¶æµè§ˆå™¨ UI çš„é¢œè‰²ã€‚æ¯”å¦‚ PWA å¯åŠ¨ç”»é¢ä¸ŠçŠ¶æ€æ ã€å†…å®¹é¡µä¸­çŠ¶æ€æ ã€åœ°å€æ çš„é¢œè‰²ï¼Œä¼šè¢« theme_color æ‰€å½±å“ã€‚</p></li><li><p>background_color: {Color} cssè‰²å€¼ å¯ä»¥æŒ‡å®šå¯åŠ¨ç”»é¢çš„èƒŒæ™¯é¢œè‰²ã€‚</p></li><li><p>display: {string} æ˜¾ç¤ºç±»å‹</p></li><li><p>fullscreen åº”ç”¨çš„æ˜¾ç¤ºç•Œé¢å°†å æ»¡æ•´ä¸ªå±å¹•</p></li><li><p>standalone æµè§ˆå™¨ç›¸å…³UIï¼ˆå¦‚å¯¼èˆªæ ã€å·¥å…·æ ç­‰ï¼‰å°†ä¼šè¢«éšè—</p></li><li><p>minimal-ui æ˜¾ç¤ºå½¢å¼ä¸standaloneç±»ä¼¼ï¼Œæµè§ˆå™¨ç›¸å…³UIä¼šæœ€å°åŒ–ä¸ºä¸€ä¸ªæŒ‰é’®ï¼Œä¸åŒæµè§ˆå™¨åœ¨å®ç°ä¸Šç•¥æœ‰ä¸åŒ</p></li><li><p>browser æµè§ˆå™¨æ¨¡å¼ï¼Œä¸æ™®é€šç½‘é¡µåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€çš„æ˜¾ç¤ºä¸€è‡´</p></li><li><p>scope: {string} ä½œç”¨åŸŸ</p><blockquote><p>scope åº”éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š<br>å¦‚æœæ²¡æœ‰åœ¨ manifest ä¸­è®¾ç½® scopeï¼Œåˆ™é»˜è®¤çš„ä½œç”¨åŸŸä¸º manifest.json æ‰€åœ¨æ–‡ä»¶å¤¹ï¼›<br>scope å¯ä»¥è®¾ç½®ä¸º ../ æˆ–è€…æ›´é«˜å±‚çº§çš„è·¯å¾„æ¥æ‰©å¤§PWAçš„ä½œç”¨åŸŸï¼›</p></blockquote></li><li><p>start_url å¿…é¡»åœ¨ä½œç”¨åŸŸèŒƒå›´å†…ï¼›</p><blockquote><p>å¦‚æœ start_url ä¸ºç›¸å¯¹åœ°å€ï¼Œå…¶æ ¹è·¯å¾„å— scope æ‰€å½±å“ï¼›<br>å¦‚æœ start_url ä¸ºç»å¯¹åœ°å€ï¼ˆä»¥ / å¼€å¤´ï¼‰ï¼Œåˆ™è¯¥åœ°å€å°†æ°¸è¿œä»¥ / ä½œä¸ºæ ¹åœ°å€ï¼›</p></blockquote></li><li><p>start_url: {string} åº”ç”¨å¯åŠ¨åœ°å€</p></li><li><p>icons: {Array.} åº”ç”¨å›¾æ ‡åˆ—è¡¨</p></li><li><p>src: {string} å›¾æ ‡ url</p><blockquote><p>sizes {string} å›¾æ ‡å°ºå¯¸ï¼Œæ ¼å¼ä¸ºwidthxheightï¼Œå®½é«˜æ•°å€¼ä»¥ css çš„ px ä¸ºå•ä½ã€‚å¦‚æœéœ€è¦å¡«å†™å¤šä¸ªå°ºå¯¸ï¼Œåˆ™ä½¿ç”¨ç©ºæ ¼è¿›è¡Œé—´éš”ï¼Œå¦‚â€48x48 96x96 128x128â€<br>type {string} å›¾æ ‡çš„ mime ç±»å‹ï¼Œéå¿…å¡«é¡¹ï¼Œè¯¥å­—æ®µå¯è®©æµè§ˆå™¨å¿«é€Ÿå¿½ç•¥æ‰ä¸æ”¯æŒçš„å›¾æ ‡ç±»å‹</p></blockquote></li></ul><h2 id="æ·»åŠ sw-js"><a href="#æ·»åŠ sw-js" class="headerlink" title="æ·»åŠ sw.js"></a>æ·»åŠ sw.js</h2><p>æ–°å»ºä¸€ä¸ªåä¸ºsw.jsçš„æ–‡ä»¶ï¼Œæ”¾åœ¨<strong>ç«™ç‚¹æ ¹ç›®å½•ä¸‹</strong>ï¼Œåœ¨æ–‡ä»¶é‡Œå¡«å…¥ä¸€ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">importScripts(&#39;https:&#x2F;&#x2F;g.alicdn.com&#x2F;kg&#x2F;workbox&#x2F;3.3.0&#x2F;workbox-sw.js&#39;);</span><br><span class="line">â€‹</span><br><span class="line">if (workbox) &#123;</span><br><span class="line">    workbox.setConfig(&#123; modulePathPrefix: &#39;https:&#x2F;&#x2F;g.alicdn.com&#x2F;kg&#x2F;workbox&#x2F;3.3.0&#x2F;&#39; &#125;);</span><br><span class="line">â€‹</span><br><span class="line">    workbox.precaching.precache([&#39;&#x2F;&#39;, &#39;&#x2F;index.html&#39;]);</span><br><span class="line">â€‹</span><br><span class="line">    workbox.routing.registerRoute(new RegExp(&#39;^https?:&#x2F;&#x2F;gyh.im&#x2F;?$&#39;), workbox.strategies.networkFirst());</span><br><span class="line">â€‹</span><br><span class="line">    workbox.routing.registerRoute(new RegExp(&#39;.*.html&#39;), workbox.strategies.networkFirst());</span><br><span class="line">â€‹</span><br><span class="line">    workbox.routing.registerRoute(new RegExp(&#39;.*.(?:js|css|jpg|png|gif)&#39;), workbox.strategies.staleWhileRevalidate());</span><br><span class="line">â€‹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å°†å…¶ä¸­åŸŸåæ”¹ä¸ºä½ è‡ªå·±ä¸»é¡µçš„åŸŸåï¼š<code>https?://gyh.im/</code> æ”¹ä¸ºä½ çš„åŸŸåï¼Œæ ¼å¼è¦å’Œæˆ‘çš„ä¸€æ ·ã€‚</p></blockquote><h3 id="é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶"><a href="#é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶"></a>é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶</h3><p>é¦–å…ˆå°†ç”Ÿæˆçš„<code>images</code>æ–‡ä»¶å¤åˆ¶åˆ° <code>/source</code> æ–‡ä»¶å¤¹ä¸‹<br>å°†ä¸‹é¢çš„é…ç½®ä»£ç å¤åˆ¶åˆ°ä½ çš„ç«™ç‚¹æ ¹ç›®å½•é…ç½®æ–‡ä»¶ <code>_config.yml</code>ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;lavas-project&#x2F;hexo-pwa</span><br><span class="line">pwa:</span><br><span class="line">  manifest:</span><br><span class="line">    path: &#x2F;manifest.json</span><br><span class="line">    body:</span><br><span class="line">      name: YH&#39;s Blog</span><br><span class="line">      short_name: YH&#39;s Blog</span><br><span class="line">      theme_color: #2196f3</span><br><span class="line">      background_color: #2196f3</span><br><span class="line">      display: standalone</span><br><span class="line">      orientation: portrait</span><br><span class="line">      scope: &#x2F;</span><br><span class="line">      start_url: &#x2F;</span><br><span class="line">      icons:</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-72x72.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 72x72</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-96x96.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 96x96</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-128x128.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 128x128</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-144x144.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 144x144</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-152x152.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 152x152</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-192x192.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 192x192</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-384x384.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 384x384</span><br><span class="line">        - src: &#x2F;images&#x2F;icons&#x2F;icon-512x512.png</span><br><span class="line">          type: image&#x2F;png</span><br><span class="line">          sizes: 512x512</span><br><span class="line">  serviceWorker:</span><br><span class="line">    path: &#x2F;sw.js</span><br><span class="line">    preload:</span><br><span class="line">      urls:</span><br><span class="line">        - &#x2F;</span><br><span class="line">      posts: 12</span><br><span class="line">    opts:</span><br><span class="line">      networkTimeoutSeconds: 30</span><br><span class="line">    routes:</span><br><span class="line">      - pattern: !!js&#x2F;regexp &#x2F;hm.baidu.com&#x2F;</span><br><span class="line">        strategy: networkOnly</span><br><span class="line">      - pattern: !!js&#x2F;regexp &#x2F;www.google-analytics.com&#x2F;</span><br><span class="line">        strategy: networkOnly</span><br><span class="line">      - pattern: !!js&#x2F;regexp &#x2F;.*\.(js|css|jpg|jpeg|png|gif)$&#x2F;</span><br><span class="line">        strategy: cacheFirst</span><br><span class="line">      - pattern: !!js&#x2F;regexp &#x2F;\&#x2F;&#x2F;</span><br><span class="line">        strategy: networkFirst</span><br><span class="line">  priority: 5</span><br></pre></td></tr></table></figure><h1 id="æ£€æŸ¥pwaéƒ¨ç½²æ˜¯å¦æˆåŠŸ"><a href="#æ£€æŸ¥pwaéƒ¨ç½²æ˜¯å¦æˆåŠŸ" class="headerlink" title="æ£€æŸ¥pwaéƒ¨ç½²æ˜¯å¦æˆåŠŸ"></a>æ£€æŸ¥pwaéƒ¨ç½²æ˜¯å¦æˆåŠŸ</h1><p>æ‰§è¡Œ<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code></p><p>ç„¶ååœ¨æµè§ˆå™¨è¾“å…¥localhost:4000ï¼ŒæŸ¥çœ‹æ•ˆæœã€‚</p><p>æŒ‰F12ï¼Œç„¶åé€‰æ‹©<code>Applicationâ€”&gt;Service Workers</code>ï¼ŒæŸ¥çœ‹æ˜¯å¦æˆåŠŸï¼Ÿ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200214154647.png"></p><blockquote><p>æˆåŠŸçŠ¶æ€æç¤ºï¼šStatus #xxx activated and is running</p></blockquote><p><strong>è°·æ­Œæµè§ˆå™¨å®‰è£…PWA</strong></p><p>å‰é¢çš„æ­¥éª¤æ“ä½œæ²¡é”™ï¼Œé…ç½®ä¹Ÿæ²¡é—®é¢˜ï¼Œåˆ™åœ¨æœ¬åœ°è¿è¡Œè¯•ï¼Œæµè§ˆå™¨åœ°å€æ ä¸­ä¼šå‡ºç°ä¸€ä¸ªç±»ä¼¼ â• åŠ å·çš„å›¾æ ‡ï¼Œç‚¹å‡»å®ƒä¼šå‡ºç°ä¸€ä¸ªå¼¹å‡ºæ¡†ï¼Œå°±è¯´æ˜é…ç½®æˆåŠŸï¼Œå½“ç„¶ä½ å¯ä»¥é€‰æ‹©å®‰è£…ï¼Œå®‰è£…è¿‡åæ¡Œé¢ä¼šå‡ºç°ä¸€ä¸ªå›¾æ ‡ï¼Œç‚¹å‡»å°±å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯å¦‚æœä½ æœ¬åœ°æœåŠ¡å…³é—­çš„è¯ï¼Œå†ç‚¹å‡»è¿™ä¸ªå›¾æ ‡ï¼Œæœ‰äº›é¡µé¢å¯ä»¥è®¿é—®ï¼Œä½†æœ‰äº›é¡µé¢è®¿é—®ä¸äº†ã€‚å¦‚æœéœ€è¦å®ƒéƒ½èƒ½å¤Ÿå…¨éƒ¨è®¿é—®çš„è¯ï¼Œä½ éœ€è¦å¼€å¯æœ¬åœ°æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯<code>hexo s</code></p><p>å¦‚æœä½ çš„åœ°å€æ æ²¡æœ‰å‡ºç°è¿™ä¸ªåŠ å·ï¼Œé¦–å…ˆåœ¨æ–°çš„æ ‡ç­¾é¡µä¸Šçš„åœ°å€æ è¾“å…¥<code>Chrome://flags</code>ï¼Œç„¶åå†æœç´¢æ è¾“å…¥<code>PWAS</code>è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¼šå‡ºç°ä¸¤ä¸ªé€‰é¡¹ä¸€ä¸ªä¸º<code>Desktop PWAs local updating</code>ï¼Œå¦ä¸€ä¸ªä¸º<code>Desktop PWAs installable from the omnibox</code>ï¼Œå°†å…¶è®¾ä¸º<code>Enabled</code>ï¼Œç„¶åç‚¹å‡»<code>Relaunch</code>ï¼Œè¿›è¡Œæµè§ˆå™¨çš„é‡å¯ï¼Œå†æŸ¥çœ‹<code>localhost:4000</code>ï¼Œå°±ä¼šå‡ºç°åŠ å·äº†ã€‚</p><h1 id="éƒ¨ç½²åˆ°githubå’Œcoding"><a href="#éƒ¨ç½²åˆ°githubå’Œcoding" class="headerlink" title="éƒ¨ç½²åˆ°githubå’Œcoding"></a>éƒ¨ç½²åˆ°githubå’Œcoding</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo clean</span><br><span class="line">sudo hexo g</span><br><span class="line">sudo hexo d</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://cloud.tencent.com/developer/article/1580238">Hexoæ·»åŠ PWAæ”¯æŒ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> PWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterflyä½¿ç”¨å°æŠ€å·§</title>
      <link href="posts/85f489f0/"/>
      <url>posts/85f489f0/</url>
      
        <content type="html"><![CDATA[<h1 id="å­—ä½“å¤§å°"><a href="#å­—ä½“å¤§å°" class="headerlink" title="å­—ä½“å¤§å°"></a>å­—ä½“å¤§å°</h1><p>ä¿®æ”¹ <code>themes\Butterfly\source\css\var.styl </code> æ‰¾åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Global Variables</span><br><span class="line">$font-size &#x3D; 14px</span><br></pre></td></tr></table></figure><p>æˆ‘ä¿®æ”¹æˆäº†16px</p><h1 id="qqåœ¨çº¿"><a href="#qqåœ¨çº¿" class="headerlink" title="qqåœ¨çº¿"></a>qqåœ¨çº¿</h1><ol><li><p>æ‰“å¼€<a href="https://shang.qq.com/v3/widget.html">æ­¤é“¾æ¥</a></p></li><li><p>ç„¶åç‚¹å‡»ç«‹å³å…è´¹å¼€é€šæœåŠ¡å°±å¥½äº†ï¼Œè¿›å…¥åˆ°ä¸‹é¢çš„ç•Œé¢å¯ä»¥å¤åˆ¶å…¶ä»£ç ç”Ÿæˆå›¾ç‰‡<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200211140211.png"></p></li><li><p>åœ¨ <code>butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  fa fa-github: https:&#x2F;&#x2F;github.com&#x2F;imgyh</span><br><span class="line">  fa fa-envelope: mailto:gyhnice@163.com</span><br><span class="line">  fa fa-qq: https:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;1974355683&amp;site&#x3D;qq&amp;menu&#x3D;yes</span><br><span class="line">  fa fa-rss: &#x2F;atom.xml</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>fa-qq</code> è¿™ä¸€é¡¹ä¸ºä½ è‡ªå·±çš„é“¾æ¥å°±å¯ä»¥äº†</p></li></ol><h1 id="POST-Front-matterå†™æ³•"><a href="#POST-Front-matterå†™æ³•" class="headerlink" title="POST Front_matterå†™æ³•"></a>POST Front_matterå†™æ³•</h1><h2 id="postå’Œpageæ¨¡æ¿"><a href="#postå’Œpageæ¨¡æ¿" class="headerlink" title="postå’Œpageæ¨¡æ¿"></a>postå’Œpageæ¨¡æ¿</h2><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„<code>scaffolds</code>æ–‡ä»¶å¤¹ä¸­ä¿®æ”¹<code>post.md</code>å’Œ<code>page.md</code></p><h3 id="page-mdæ¨¡æ¿"><a href="#page-mdæ¨¡æ¿" class="headerlink" title="page.mdæ¨¡æ¿"></a>page.mdæ¨¡æ¿</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">comments:true</span><br><span class="line">description:</span><br><span class="line">top_img: </span><br><span class="line">katex:true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="post-mdæ¨¡æ¿"><a href="#post-mdæ¨¡æ¿" class="headerlink" title="post.mdæ¨¡æ¿"></a>post.mdæ¨¡æ¿</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">categories: </span><br><span class="line">description: </span><br><span class="line">top_img: </span><br><span class="line">comments: true</span><br><span class="line">cover:</span><br><span class="line">toc: true</span><br><span class="line">toc_number: true</span><br><span class="line">copyright: true</span><br><span class="line">katex: false</span><br><span class="line">top: </span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="tagså†™æ³•"><a href="#tagså†™æ³•" class="headerlink" title="tagså†™æ³•"></a>tagså†™æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">- tags1</span><br><span class="line">- tags2</span><br></pre></td></tr></table></figure><h3 id="categorieså†™æ³•"><a href="#categorieså†™æ³•" class="headerlink" title="categorieså†™æ³•"></a>categorieså†™æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å•ä¸ªåˆ†ç±»ï¼Œäº†è§£ä¸€ä¸‹:</span><br><span class="line">categories:</span><br><span class="line">- Linux</span><br><span class="line">å¹¶åˆ—åˆ†ç±»ï¼Œäº†è§£ä¸€ä¸‹ï¼š</span><br><span class="line">categories:</span><br><span class="line">- [Linux]</span><br><span class="line">- [Tools]</span><br><span class="line"></span><br><span class="line">å¹¶åˆ—+å­åˆ†ç±»([]ä¸­linuxæ˜¯çˆ¶åˆ†ç±»ï¼Œhexoæ˜¯å­åˆ†ç±»)ï¼Œå†äº†è§£ä¸€ä¸‹ï¼š</span><br><span class="line">categories:</span><br><span class="line">- [Linux, Hexo]</span><br><span class="line">- [Tools, PHP]</span><br></pre></td></tr></table></figure><h1 id="è§£å†³ä»£ç å—æ¸²æŸ“é—®é¢˜"><a href="#è§£å†³ä»£ç å—æ¸²æŸ“é—®é¢˜" class="headerlink" title="è§£å†³ä»£ç å—æ¸²æŸ“é—®é¢˜"></a>è§£å†³ä»£ç å—æ¸²æŸ“é—®é¢˜</h1><p>åœ¨ä»£ç å—ä¸­è¾“å…¥htmlä»£ç ï¼Œhexoä¼šæŠŠhtmlä»£ç æ¸²æŸ“å‡ºæ¥ï¼Œè€Œæˆ‘åªæƒ³çœ‹åˆ°ä»£ç æ˜¯ä»€ä¹ˆæ ·å­ã€‚<br>è§£å†³æ–¹æ³•ï¼šåªéœ€è¦å®‰è£… <code>cheerio</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install cheerio@0.22.0 --save</span><br></pre></td></tr></table></figure><h1 id="ä»£ç æ¡†é«˜äº®ï¼Œæ˜¾ç¤ºè¡Œå·"><a href="#ä»£ç æ¡†é«˜äº®ï¼Œæ˜¾ç¤ºè¡Œå·" class="headerlink" title="ä»£ç æ¡†é«˜äº®ï¼Œæ˜¾ç¤ºè¡Œå·"></a>ä»£ç æ¡†é«˜äº®ï¼Œæ˜¾ç¤ºè¡Œå·</h1><p>åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­ä¿®æ”¹è¿™ä¸€é¡¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: true</span><br><span class="line">  tab_replace: &#39;&#39;</span><br><span class="line">  wrap: true</span><br><span class="line">  hljs: false</span><br></pre></td></tr></table></figure><h1 id="coding-ç”³è¯·sslè®¤è¯å¤±è´¥"><a href="#coding-ç”³è¯·sslè®¤è¯å¤±è´¥" class="headerlink" title="coding ç”³è¯·sslè®¤è¯å¤±è´¥"></a>coding ç”³è¯·sslè®¤è¯å¤±è´¥</h1><p>Codingçš„ SSL/TLS è¯ä¹¦æ¯æ¬¡ç”³è¯·åªèƒ½ä½¿ç”¨90å¤©</p><p>ç”³è¯· SSL/TLS è¯ä¹¦æ—¶ï¼Œè¦å°†æŒ‡å‘Codingçš„çº¿è·¯ç±»å‹è®¾ä¸ºä¸ºé»˜è®¤ï¼Œç„¶åæŠŠæŒ‡å‘åˆ°Githubçš„åŸŸåå…³æ‰ï¼Œå°±å¯ä»¥æˆåŠŸç”³è¯·äº†ã€‚</p><p>å› ä¸ºCodingç”³è¯· SSL/TLS è¯ä¹¦éœ€è¦é€šè¿‡ Letâ€™s Encrypt çš„ HTTP æ–¹å¼éªŒè¯åŸŸåæ‰€æœ‰æƒã€‚å› ä¸º Letâ€™s Encryptæ˜¯å›½å¤–ç½‘ç»œï¼Œå¦‚æœä¸æ›´æ”¹åŸŸåè®¾ç½®ï¼ŒéªŒè¯åŸŸåæ‰€æœ‰æƒæ—¶ä¸èƒ½æ­£ç¡®æŒ‡å‘åˆ°Codingè€Œæ˜¯æŒ‡å‘åˆ°Githubï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´ç”³è¯·å¤±è´¥ã€‚</p><h1 id="å¼•ç”¨åŒç«™ç‚¹çš„æ–‡ç« "><a href="#å¼•ç”¨åŒç«™ç‚¹çš„æ–‡ç« " class="headerlink" title="å¼•ç”¨åŒç«™ç‚¹çš„æ–‡ç« "></a>å¼•ç”¨åŒç«™ç‚¹çš„æ–‡ç« </h1><p>åœ¨å†™æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦å¼•ç”¨ç«™å†…çš„å…¶ä»–æ–‡ç« ã€‚å¯ä»¥é€šè¿‡å†…ç½®çš„æ ‡ç­¾æ’ä»¶çš„è¯­æ³•post_linkæ¥å®ç°å¼•ç”¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link æ–‡ç« æ–‡ä»¶åï¼ˆä¸è¦åç¼€ï¼‰ æ–‡ç« æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><p>ä¸¾ä¾‹ å¼•ç”¨ Hello.md</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link Hello %&#125;</span><br><span class="line">æˆ–è€…</span><br><span class="line">&#123;% post_link Hello ä½ å¥½ %&#125;</span><br></pre></td></tr></table></figure><h1 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note (Bootstrap Callout)"></a>Note (Bootstrap Callout)</h1><p>ç”¨æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125; </span><br><span class="line">Any content (support inline tags too.io). </span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">[class] : default | primary | success | info | warning | danger. </span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note default %&#125; </span><br><span class="line">defaultæç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125; </span><br><span class="line">primaryæç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success %&#125; </span><br><span class="line">successæç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info %&#125; </span><br><span class="line">infoæç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning %&#125; </span><br><span class="line">warningæç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger %&#125; </span><br><span class="line">dangeræç¤ºå—æ ‡ç­¾</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><h1 id="Gallery-ç›¸å†Œ"><a href="#Gallery-ç›¸å†Œ" class="headerlink" title="Gallery ç›¸å†Œ"></a>Gallery ç›¸å†Œ</h1><p>å†™æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125; </span><br><span class="line">markdownå›¾ç‰‡æ ¼å¼</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125; </span><br><span class="line">![](https:&#x2F;&#x2F;gratisography.com&#x2F;wp-content&#x2F;uploads&#x2F;2019&#x2F;10&#x2F;gratisography-scary-pumpkin-hand-900x600.jpg) </span><br><span class="line">![](https:&#x2F;&#x2F;gratisography.com &#x2F;wp-content&#x2F;uploads&#x2F;2019&#x2F;10&#x2F;gratisography-fresh-fish-dinner-900x600.jpg) </span><br><span class="line">![](https:&#x2F;&#x2F;gratisography.com&#x2F;wp-content&#x2F;uploads&#x2F;2019&#x2F;10&#x2F;gratisography-mountain-cloud -landscape-900x600.jpg) </span><br><span class="line">![](https:&#x2F;&#x2F;picjumbo.com&#x2F;wp-content&#x2F;uploads&#x2F;iphone-free-stock-photos-2210x3315.jpg) </span><br><span class="line">![](https:&#x2F;&#x2F;picjumbo.com&#x2F;wp -content&#x2F;uploads&#x2F;young-millennial-girl-drinking-lemonade-and-overlooking-the-city-2210x1473.jpg) </span><br><span class="line">![](https:&#x2F;&#x2F;picjumbo.com&#x2F;wp-content&#x2F;uploads&#x2F;modern-graphic-designer -essentials _free_ stock _photos_ picjumbo_HNCK4919-2210x1474.jpg) </span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h1 id="Gallery-ç›¸å†Œå›¾åº“"><a href="#Gallery-ç›¸å†Œå›¾åº“" class="headerlink" title="Gallery ç›¸å†Œå›¾åº“"></a>Gallery ç›¸å†Œå›¾åº“</h1><p>é…åˆ<code>Gallery ç›¸å†Œ</code>ä¸€èµ·ä½¿ç”¨</p><p>å†™æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;gallery-group-main&quot;&gt; </span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125; </span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125; </span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125; </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ul><li>nameï¼šå›¾åº“åå­—</li><li>descriptionï¼šå›¾åº“æè¿°</li><li>linkï¼šè¿æ¥åˆ°å¯¹åº”ç›¸å†Œçš„åœ°å€</li><li>img-urlï¼šå›¾åº“å°é¢çš„åœ°å€</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;gallery-group-main&quot;&gt; </span><br><span class="line">&#123;% galleryGroup &#39;å£çº¸&#39; &#39;æ”¶è—çš„ä¸€äº›å£çº¸&#39; &#39;&#x2F;Gallery&#x2F;wallpaper&#39; https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;10&#x2F;T7Mu8Aod3egmC4Q.png % &#125; </span><br><span class="line">&#123;% galleryGroup &#39;æ¼«å¨&#39; &#39;å…³äºæ¼«å¨çš„å›¾ç‰‡&#39; &#39;&#x2F;Gallery&#x2F;marvel&#39; https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;8t97aVlp4hgyBGu.jpg %&#125; </span><br><span class="line">&#123;% galleryGroup &#39;OH MY GIRL&#39; &#39;å…³äºOH MY GIRLçš„å›¾ç‰‡&#39; &#39;&#x2F;Gallery&#x2F;ohmygirl&#39; https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;hOqbQ3BIwa6KWpo.jpg %&#125; </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h1 id="mermaid"><a href="#mermaid" class="headerlink" title="mermaid"></a>mermaid</h1><p>ä½¿ç”¨mermaidæ ‡ç­¾å¯ä»¥ç»˜åˆ¶Flowchartï¼ˆæµç¨‹å›¾ï¼‰ã€Sequence diagramï¼ˆæ—¶åºå›¾ï¼‰ã€Class Diagramï¼ˆç±»åˆ«å›¾ï¼‰ã€State Diagramï¼ˆçŠ¶æ€å›¾ï¼‰ã€Ganttï¼ˆç”˜ç‰¹å›¾ï¼‰å’ŒPie Chartï¼ˆåœ†å½¢å›¾ï¼‰ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹<a href="https://mermaid-js.github.io/mermaid/#/">mermaidæ–‡æ¡£</a></p><p>å†™æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125; </span><br><span class="line">å†…å®¹</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125; </span><br><span class="line">pie </span><br><span class="line">    title Key elements in Product X </span><br><span class="line">    &quot;Calcium&quot; : 42.96 </span><br><span class="line">    &quot;Potassium&quot; : 50.05 </span><br><span class="line">    &quot;Magnesium&quot; : 10.01 </span><br><span class="line">    &quot;Iron&quot; : 5</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><h1 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line">                Will be used in #id&#39;s as prefix for each tab with their index numbers.</span><br><span class="line">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span><br><span class="line">                Only for current url of post&#x2F;page must be unique!</span><br><span class="line">[index]       : Index number of active tab.</span><br><span class="line">                If not specified, first tab (1) will be selected.</span><br><span class="line">                If index is -1, no tab will be selected. It&#39;s will be something like spoiler.</span><br><span class="line">                Optional parameter.</span><br><span class="line">[Tab caption] : Caption of current tab.</span><br><span class="line">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span><br><span class="line">                If not caption specified, but specified icon, caption will empty.</span><br><span class="line">                Optional parameter.</span><br><span class="line">[@icon]       : FontAwesome icon name (full-name, look like &#39;fas fa-font&#39;)</span><br><span class="line">                Can be specified with or without space; e.g. &#39;Tab caption @icon&#39; similar to &#39;Tab caption@icon&#39;.</span><br><span class="line">                Optional parameter.</span><br></pre></td></tr></table></figure><blockquote><p>Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 2 - é¢„è®¾é€‰æ‹©tabs</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 4 - è‡ªå®šä¹‰Tabå + åªæœ‰icon + iconå’ŒTabå</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;</span><br><span class="line">**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line">**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;</span><br><span class="line">**åå­—+icon**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line"></span><br><span class="line">[url]         : é“¾æ¥</span><br><span class="line">[text]        : æŒ‰é’®æ–‡å­—</span><br><span class="line">[icon]        : [å¯é€‰] å›¾æ ‡</span><br><span class="line">[color]       : [å¯é€‰] æŒ‰é’®èƒŒæ™¯é¡”è‰²(é»˜è®¤styleæ—¶ï¼‰</span><br><span class="line">                      æŒ‰é’®å­—ä½“å’Œè¾¹æ¡†é¡”è‰²(outlineæ—¶)</span><br><span class="line">                      default&#x2F;blue&#x2F;pink&#x2F;red&#x2F;purple&#x2F;orange&#x2F;green</span><br><span class="line">[style]       : [å¯é€‰] æŒ‰é’®æ ·å¼ é»˜è®¤å®å¿ƒ</span><br><span class="line">                      outline&#x2F;ç•™ç©º</span><br><span class="line">[layout]      : [å¯é€‰] æŒ‰é’®ä½ˆå±€ é»˜è®¤ä¸ºline</span><br><span class="line">                      block&#x2F;ç•™ç©º</span><br><span class="line">[position]    : [å¯é€‰] æŒ‰é’®ä½ç½® å‰ææ˜¯è®¾ç½®äº†layoutä¸ºblock é»˜è®¤ä¸ºå·¦è¾¹</span><br><span class="line">                      center&#x2F;right&#x2F;ç•™ç©º</span><br><span class="line">[size]        : [å¯é€‰] æŒ‰é’®å¤§å°</span><br><span class="line">                      larger&#x2F;ç•™ç©º</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢ %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure><p>This is my website, click the button <a class="btn-beautify button--animated " href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><span>å…ƒæ´ªåšå®¢</span></a><br>This is my website, click the button <a class="btn-beautify button--animated " href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><span>å…ƒæ´ªåšå®¢</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><br>This is my website, click the button <a class="btn-beautify button--animated larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,block center larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,block right outline larger %&#125;</span><br></pre></td></tr></table></figure><a class="btn-beautify button--animated block" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated block center larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated block right outline larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,blue larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,pink larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,red larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,purple larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,orange larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,green larger %&#125;</span><br></pre></td></tr></table></figure><a class="btn-beautify button--animated larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated blue larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated pink larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated red larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated purple larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated orange larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated green larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;btn-center&quot;&gt;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline blue larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline pink larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline red larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline purple larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline orange larger %&#125;</span><br><span class="line">&#123;% btn &#39;https:&#x2F;&#x2F;gyh.im&#39;,å…ƒæ´ªåšå®¢,far fa-hand-point-right,outline green larger %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><div class="btn-center"><a class="btn-beautify button--animated outline larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline blue larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline pink larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline red larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline purple larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline orange larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a><a class="btn-beautify button--animated outline green larger" href="https://gyh.im"   title="å…ƒæ´ªåšå®¢"><i class="far fa-hand-point-right fa-fw"></i><span>å…ƒæ´ªåšå®¢</span></a></div>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Valineé…ç½®è¯„è®ºæé†’æœåŠ¡</title>
      <link href="posts/caa4f244/"/>
      <url>posts/caa4f244/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><a href="https://valine.js.org/">Valine</a>æ˜¯ä¸€æ¬¾æ”¯æŒåŒ¿åçš„è¯„è®ºç³»ç»Ÿï¼Œå·²ç»é›†æˆåˆ°äº†hexoä¸Šé¢ã€‚<a href="https://deserts.io/valine-admin-document/">Valine Admin</a>åˆ™æ˜¯å¯¹ Valine è¯„è®ºç³»ç»Ÿçš„æ‹“å±•åº”ç”¨ï¼Œå¯å¢å¼º Valine çš„é‚®ä»¶é€šçŸ¥åŠŸèƒ½ã€‚åŸºäº Leancloud çš„äº‘å¼•æ“ä¸äº‘å‡½æ•°ã€‚å¯ä»¥æä¾›é‚®ä»¶ <code>é€šçŸ¥ç«™é•¿</code> å’Œ <code>@ é€šçŸ¥</code> çš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶é€šçŸ¥æ¨¡æ¿ã€‚</p><h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><ul><li><p>åœ¨è¿™ä¹‹å‰ä½ å·²ç»åœ¨ä½ çš„hexoä¸Šéƒ¨ç½²å¥½äº†Valineï¼Œå¦‚æœæ²¡æœ‰è¯·å‚è€ƒ<a href="https://valine.js.org/quickstart.html">è¿™é‡Œ</a></p></li><li><p>ç„¶åè¿›å…¥ <a href="https://leancloud.cn/dashboard/applist.html#/apps">Leancloud</a> å¯¹åº”çš„ Valine åº”ç”¨ä¸­ã€‚</p></li><li><p>ç‚¹å‡» <code>äº‘å¼•æ“ -&gt; è®¾ç½®</code>å¡«å†™ä»£ç åº“å¹¶ä¿å­˜ï¼š<code>https://github.com/zhaojun1998/Valine-Admin</code><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209231806.png"></p></li><li><p>åœ¨è®¾ç½®é¡µé¢ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ä»¥åŠ Web äºŒçº§åŸŸåã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209231807.png"><br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209231808.png"></p></li></ul><table><thead><tr><th align="center">å˜é‡</th><th align="center">ç¤ºä¾‹</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">SITE_NAME</td><td align="center">Deserts</td><td align="center">å¿…å¡«]åšå®¢åç§°</td></tr><tr><td align="center">SITE_URL</td><td align="center"><a href="https://panjunwen.com/">https://panjunwen.com</a></td><td align="center">[å¿…å¡«]é¦–é¡µåœ°å€</td></tr><tr><td align="center">SMTP_SERVICE</td><td align="center">QQ</td><td align="center">[æ–°ç‰ˆæ”¯æŒ]é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ QQã€163ã€126ã€Gmail ä»¥åŠ æ›´å¤š</td></tr><tr><td align="center">SMTP_USER</td><td align="center"><a href="mailto:&#x78;&#x78;&#120;&#120;&#120;&#x78;&#x40;&#113;&#x71;&#46;&#99;&#x6f;&#109;">&#x78;&#x78;&#120;&#120;&#120;&#x78;&#x40;&#113;&#x71;&#46;&#99;&#x6f;&#109;</a></td><td align="center">[å¿…å¡«]SMTPç™»å½•ç”¨æˆ·</td></tr><tr><td align="center">SMTP_PASS</td><td align="center">ccxxxxxxxxch</td><td align="center">[å¿…å¡«]SMTPç™»å½•å¯†ç (QQé‚®ç®±éœ€è¦è·å–ç‹¬ç«‹å¯†ç )</td></tr><tr><td align="center">SENDER_NAME</td><td align="center">Deserts</td><td align="center">[å¿…å¡«]å‘ä»¶äºº</td></tr><tr><td align="center">SENDER_EMAIL</td><td align="center"><a href="mailto:&#x78;&#x78;&#120;&#120;&#120;&#120;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;">&#x78;&#x78;&#120;&#120;&#120;&#120;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;</a></td><td align="center">[å¿…å¡«]å‘ä»¶é‚®ç®±</td></tr><tr><td align="center">ADMIN_URL</td><td align="center"><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td><td align="center">[å»ºè®®]Webä¸»æœºäºŒçº§åŸŸåï¼Œç”¨äºè‡ªåŠ¨å”¤é†’</td></tr><tr><td align="center">BLOGGER_EMAIL</td><td align="center"><a href="mailto:&#120;&#x78;&#120;&#120;&#120;&#x40;&#x67;&#109;&#97;&#105;&#108;&#x2e;&#99;&#x6f;&#109;">&#120;&#x78;&#120;&#120;&#120;&#x40;&#x67;&#109;&#97;&#105;&#108;&#x2e;&#99;&#x6f;&#109;</a></td><td align="center">[å¯é€‰]åšä¸»é€šçŸ¥æ”¶ä»¶åœ°å€ï¼Œé»˜è®¤ä½¿ç”¨SENDER_EMAIL</td></tr><tr><td align="center">AKISMET_KEY</td><td align="center">xxxxxxxxxxxx</td><td align="center">[å¯é€‰]Akismet Key ç”¨äºåƒåœ¾è¯„è®ºæ£€æµ‹ï¼Œè®¾ä¸ºMANUAL_REVIEWå¼€å¯äººå·¥å®¡æ ¸ï¼Œç•™ç©ºä¸ä½¿ç”¨ååƒåœ¾</td></tr><tr><td align="center">MAIL_SUBJECT</td><td align="center">è§ä¸‹æ–‡</td><td align="center">[å¯é€‰]@é€šçŸ¥é‚®ä»¶ä¸»é¢˜ï¼ˆæ ‡é¢˜ï¼‰æ¨¡æ¿</td></tr><tr><td align="center">MAIL_TEMPLATE</td><td align="center">è§ä¸‹æ–‡</td><td align="center">[å¯é€‰]@é€šçŸ¥é‚®ä»¶å†…å®¹æ¨¡æ¿</td></tr><tr><td align="center">MAIL_SUBJECT_ADMIN</td><td align="center">è§ä¸‹æ–‡</td><td align="center">[å¯é€‰]åšä¸»é‚®ä»¶é€šçŸ¥ä¸»é¢˜æ¨¡æ¿</td></tr><tr><td align="center">MAIL_TEMPLATE_ADMIN</td><td align="center">è§ä¸‹æ–‡</td><td align="center">[å¯é€‰]åšä¸»é‚®ä»¶é€šçŸ¥å†…å®¹æ¨¡æ¿</td></tr></tbody></table><p><strong>å‚æ•°è§£é‡Š</strong></p><hr><ul><li>ADMIN_URLï¼šäºŒçº§åŸŸåç”¨äºè¯„è®ºåå°ç®¡ç†ï¼Œå¦‚<a href="https://xxxx.leanapp.cn/">https://xxxx.leanapp.cn</a> ã€‚<br>Webä¸»æœºäºŒçº§åŸŸåï¼Œç”¨äºè‡ªåŠ¨å”¤é†’ï¼Œä¼šé»˜è®¤åˆ†é…ç»™ä½ ä¸€ä¸ªäºŒçº§åŸŸåï¼ˆ<code>äº‘å¼•æ“ -&gt; è®¾ç½®è·¯å¾„ä¸‹</code>ï¼‰ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç»‘å®šä¸€ä¸ª<strong>å·²å¤‡æ¡ˆ</strong>çš„åŸŸåï¼Œå¦‚å›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209232739.png"></li></ul><p><strong>åƒåœ¾è¯„è®ºæ£€æµ‹</strong></p><blockquote><p>Akismet (Automattic Kismet)æ˜¯åº”ç”¨å¹¿æ³›çš„ä¸€ä¸ªåƒåœ¾ç•™è¨€è¿‡æ»¤ç³»ç»Ÿï¼Œå…¶ä½œè€…æ˜¯å¤§åé¼é¼çš„WordPress åˆ›å§‹äºº Matt Mullenwegï¼ŒAkismetä¹Ÿæ˜¯WordPressé»˜è®¤å®‰è£…çš„æ’ä»¶ï¼Œå…¶ä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œè®¾è®¡ç›®æ ‡ä¾¿æ˜¯å¸®åŠ©åšå®¢ç½‘ç«™æ¥è¿‡æ»¤ç•™è¨€Spamã€‚æœ‰äº†Akismetä¹‹åï¼ŒåŸºæœ¬ä¸Šä¸ç”¨æ‹…å¿ƒåƒåœ¾ç•™è¨€çš„çƒ¦æ¼äº†ã€‚<br>å¯ç”¨Akismetåï¼Œå½“åšå®¢å†æ”¶åˆ°ç•™è¨€ä¼šè‡ªåŠ¨å°†å…¶æäº¤åˆ°Akismetå¹¶ä¸Akismetä¸Šçš„é»‘åå•è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœååˆ—è¯¥é»‘åå•ä¸­ï¼Œåˆ™è¯¥æ¡ç•™è¨€ä¼šè¢«æ ‡è®°ä¸ºåƒåœ¾è¯„è®ºä¸”ä¸ä¼šå‘å¸ƒã€‚</p></blockquote><ul><li>AKISMET_KEYï¼šå¦‚æœè¿˜æ²¡æœ‰Akismet Keyï¼Œä½ å¯ä»¥å» <a href="https://akismet.com/development/">AKISMET FOR DEVELOPERS</a> å…è´¹ç”³è¯·ä¸€ä¸ª,æ­¤æ—¶ä½ ä¼šè·å–ä¸€ä¸²AKISMET APIå¯†é’¥ï¼Œå¡«å…¥å˜é‡å€¼ä¸­ï¼›å½“AKISMET_KEYè®¾ä¸ºMANUAL_REVIEWæ—¶ï¼Œå¼€å¯äººå·¥å®¡æ ¸æ¨¡å¼ï¼›å¦‚æœä½ ä¸éœ€è¦ååƒåœ¾è¯„è®ºï¼ŒAkismet Key ç¯å¢ƒå˜é‡å¯ä»¥å¿½ç•¥ã€‚</li><li>MAIL_SUBJECT: @é€šçŸ¥é‚®ä»¶ä¸»é¢˜æ¨¡æ¿ï¼Œè¯·è®¾ç½®ä¸º: <code>$&#123;PARENT_NICK&#125;ï¼Œæ‚¨åœ¨$&#123;SITE_NAME&#125;ä¸Šçš„è¯„è®ºæ”¶åˆ°äº†å›å¤</code> </li><li>MAIL_TEMPLATEï¼š@é€šçŸ¥é‚®ä»¶å†…å®¹æ¨¡æ¿,è¯·è®¾ç½®ä¸º:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;border-radius: 10px 10px 10px 10px;font-size:13px;    color: #555555;width: 666px;font-family:&#39;Century Gothic&#39;,&#39;Trebuchet MS&#39;,&#39;Hiragino Sans GB&#39;,å¾®è½¯é›…é»‘,&#39;Microsoft Yahei&#39;,Tahoma,Helvetica,Arial,&#39;SimSun&#39;,sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);&quot;&gt;&lt;div style&#x3D;&quot;width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;&quot;&gt;&lt;p style&#x3D;&quot;font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;&quot;&gt;æ‚¨åœ¨&lt;a style&#x3D;&quot;text-decoration:none;color: #ffffff;&quot; href&#x3D;&quot;$&#123;SITE_URL&#125;&quot;&gt; $&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ä¸Šçš„ç•™è¨€æœ‰æ–°å›å¤å•¦ï¼&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&lt;div style&#x3D;&quot;margin:40px auto;width:90%&quot;&gt;&lt;p&gt;$&#123;PARENT_NICK&#125; åŒå­¦ï¼Œæ‚¨æ›¾åœ¨æ–‡ç« ä¸Šå‘è¡¨è¯„è®ºï¼š&lt;&#x2F;p&gt;&lt;div style&#x3D;&quot;background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;&quot;&gt;$&#123;PARENT_COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;$&#123;NICK&#125; ç»™æ‚¨çš„å›å¤å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;&lt;div style&#x3D;&quot;background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;&quot;&gt;$&#123;COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;æ‚¨å¯ä»¥ç‚¹å‡»&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot; href&#x3D;&quot;$&#123;POST_URL&#125;#comments&quot;&gt;æŸ¥çœ‹å›å¤çš„å®Œæ•´å…§å®¹&lt;&#x2F;a&gt;ï¼Œæ¬¢è¿å†æ¬¡å…‰ä¸´&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot;                href&#x3D;&quot;$&#123;SITE_URL&#125;&quot;&gt; $&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;a:link&#123;text-decoration:none&#125;a:visited&#123;text-decoration:none&#125;a:hover&#123;text-decoration:none&#125;a:active&#123;text-decoration:none&#125;&lt;&#x2F;style&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ul><li>MAIL_SUBJECT_ADMIN: åšä¸»é‚®ä»¶é€šçŸ¥ä¸»é¢˜æ¨¡æ¿,è¯·è®¾ç½®ä¸º: <code>$&#123;SITE_NAME&#125;ä¸Šæœ‰æ–°è¯„è®ºäº†</code></li><li>MAIL_TEMPLATE_ADMINï¼šåšä¸»é‚®ä»¶é€šçŸ¥å†…å®¹æ¨¡æ¿,è¯·è®¾ç½®ä¸º:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style&#x3D;&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;æ‚¨åœ¨&lt;a style&#x3D;&quot;text-decoration:none;color: #12ADDB;&quot; href&#x3D;&quot;$&#123;SITE_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ä¸Šçš„æ–‡ç« æœ‰äº†æ–°çš„è¯„è®º&lt;&#x2F;h2&gt;&lt;p&gt;&lt;strong&gt;$&#123;NICK&#125;&lt;&#x2F;strong&gt;å›å¤è¯´ï¼š&lt;&#x2F;p&gt;&lt;div style&#x3D;&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt; $&#123;COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;æ‚¨å¯ä»¥ç‚¹å‡»&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot; href&#x3D;&quot;$&#123;POST_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;æŸ¥çœ‹å›å¤çš„å®Œæ•´å…§å®¹&lt;&#x2F;a&gt;&lt;br&gt;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¿˜æƒ³è‡ªå®šä¹‰é‚®ä»¶é€šçŸ¥æ¨¡æ¿,ä»¥åŠä¸Šé¢å››ä¸ªå‚æ•°çš„å…·ä½“å€¼ï¼ˆè¿™é‡Œçš„ä»£ç å®ƒä¼šè‡ªåŠ¨æ¸²æŸ“ï¼Œçœ‹ä¸åˆ°æºä»£ç ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œå¤§å®¶è¿˜æ˜¯å»çœ‹ä»–çš„åšå®¢æ–‡æ¡£å§ï¼‰  <a href="https://deserts.io/valine-admin-document/#%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5%E6%A8%A1%E6%9D%BF">å‚è€ƒè¿™é‡Œ</a></p><hr><ul><li>åˆ‡æ¢åˆ°éƒ¨ç½²æ ‡ç­¾é¡µï¼Œåˆ†æ”¯ä½¿ç”¨ masterï¼Œç‚¹å‡»éƒ¨ç½²å³å¯:<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209234211.png"></li></ul><p>ç¬¬ä¸€æ¬¡ä¼šå¾ˆæ…¢ï¼Œå¯èƒ½ä¼šå‡ºé”™ã€‚å¦‚æœå‡ºç°ä¾èµ–é”™è¯¯ï¼Œè¯·å‹¾é€‰ <strong>ä¸‹è½½æœ€æ–°ä¾èµ–</strong></p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209234307.png"></p><ul><li>è¯„è®ºç®¡ç†ã€‚è®¿é—®è®¾ç½®çš„äºŒçº§åŸŸåhttps://äºŒçº§åŸŸå.leanapp.cn/sign-upï¼Œæ³¨å†Œç®¡ç†å‘˜ç™»å½•ä¿¡æ¯ï¼Œå¦‚ï¼š<a href="https://xxxx.leanapp.cn/sign-up">https://xxxx.leanapp.cn/sign-up</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209234648.png"></p><p>æ­¤åï¼Œå¯ä»¥é€šè¿‡<code>https://äºŒçº§åŸŸå.leanapp.cn/</code> ç®¡ç†è¯„è®ºã€‚</p><ul><li>å®šæ—¶ä»»åŠ¡è®¾ç½®<br>ç›®å‰å®ç°äº†ä¸¤ç§äº‘å‡½æ•°å®šæ—¶ä»»åŠ¡ï¼š(1)è‡ªåŠ¨å”¤é†’ï¼Œå®šæ—¶è®¿é—®Web APPäºŒçº§åŸŸåé˜²æ­¢äº‘å¼•æ“ä¼‘çœ ï¼›(2)æ¯å¤©å®šæ—¶æ£€æŸ¥24å°æ—¶å†…æ¼å‘çš„é‚®ä»¶é€šçŸ¥ã€‚<strong>ä¸¤ä¸ªéƒ½è¦è®¾ç½®</strong></li></ul><p>è¿›å…¥äº‘å¼•æ“-å®šæ—¶ä»»åŠ¡ä¸­ï¼Œåˆ›å»ºå®šæ—¶å™¨ï¼Œåˆ›å»ºä¸¤ä¸ªå®šæ—¶ä»»åŠ¡ã€‚</p><p>é€‰æ‹©self-wakeäº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼ä¸º<code>0 0/30 7-23 * * ?</code>ï¼Œè¡¨ç¤ºæ¯å¤©æ—©6ç‚¹åˆ°æ™š23ç‚¹æ¯éš”30åˆ†é’Ÿè®¿é—®äº‘å¼•æ“ï¼Œ<code>ADMIN_URL</code>ç¯å¢ƒå˜é‡åŠ¡å¿…è®¾ç½®æ­£ç¡®ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209234835.png"></p><p>é€‰æ‹©resend-mailsäº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼ä¸º <code> 0 0 8 * * ?</code> ï¼Œè¡¨ç¤ºæ¯å¤©æ—©8ç‚¹æ£€æŸ¥è¿‡å»24å°æ—¶å†…æ¼å‘çš„é€šçŸ¥é‚®ä»¶å¹¶è¡¥å‘ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209234935.png"></p><ul><li>æ·»åŠ å®šæ—¶å™¨åè®°å¾—ç‚¹å‡»å¯åŠ¨æ–¹å¯ç”Ÿæ•ˆã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200209235059.png"></p><ul><li>è‡³æ­¤å…¨éƒ¨ç»“æŸï¼Œå¯æ‰“å¼€https://äºŒçº§åŸŸå.leanapp.cn/ç®¡ç†è¯„è®º</li></ul><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://github.com/zhaojun1998/Valine-Admin">Valine Admin æ–‡æ¡£</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
            <tag> Valine </tag>
            
            <tag> LeanCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¸­çš„ä¸€äº›å°æ’ä»¶</title>
      <link href="posts/58a32e43/"/>
      <url>posts/58a32e43/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-abbrlink"><a href="#Hexo-abbrlink" class="headerlink" title="Hexo-abbrlink"></a>Hexo-abbrlink</h1><p>åœ¨åšæ¬¡ä¼˜åŒ–ä¹‹å‰ï¼Œhexoæ–‡ç« é“¾æ¥é»˜è®¤çš„ç”Ÿæˆè§„åˆ™æ˜¯ï¼š:year/:month/:day/:titleï¼Œæ˜¯æŒ‰ç…§å¹´ã€æœˆã€æ—¥ã€æ ‡é¢˜æ¥ç”Ÿæˆçš„ã€‚<br>æ¯”å¦‚ï¼š<code>https://www.xxx.com/2019/08/12/hello-world/</code>è¿™æ ·ï¼Œå¦‚æœæ–‡ç« æ ‡é¢˜æ˜¯ä¸­æ–‡çš„è¯ï¼ŒURLé“¾æ¥æ˜¯ä¹Ÿä¼šæ˜¯ä¸­æ–‡ï¼Œ</p><p>ä¸ºäº†è®©urlåœ°å€ä¸å˜ï¼Œæœ‰äº†æ¥ä¸‹æ¥è¿™ä¸ªæ’ä»¶<code>hexo-abbrlink</code></p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/553fb3c9/" title="Hexo-abbrlinkç”Ÿæˆå”¯ä¸€æ°¸ä¹…æ–‡ç« é“¾æ¥">Hexo-abbrlinkç”Ÿæˆå”¯ä¸€æ°¸ä¹…æ–‡ç« é“¾æ¥</a></p><h1 id="hexo-generator-feed"><a href="#hexo-generator-feed" class="headerlink" title="hexo-generator-feed"></a>hexo-generator-feed</h1><p>è¿™æ˜¯ä¸€æ¬¾ç”Ÿæˆrssè®¢é˜…æ–‡ä»¶çš„æ’ä»¶</p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/b5427f21/" title="åšå®¢SEOä¼˜åŒ–">åšå®¢SEOä¼˜åŒ–</a></p><h1 id="hexo-generator-sitemap-å’Œ-hexo-generator-baidu-sitemap"><a href="#hexo-generator-sitemap-å’Œ-hexo-generator-baidu-sitemap" class="headerlink" title="hexo-generator-sitemap å’Œ hexo-generator-baidu-sitemap"></a>hexo-generator-sitemap å’Œ hexo-generator-baidu-sitemap</h1><p>è¿™æ˜¯ç”Ÿæˆç«™ç‚¹åœ°å›¾çš„æ’ä»¶</p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/b5427f21/" title="åšå®¢SEOä¼˜åŒ–">åšå®¢SEOä¼˜åŒ–</a></p><h1 id="hexo-baidu-url-submit"><a href="#hexo-baidu-url-submit" class="headerlink" title="hexo-baidu-url-submit"></a>hexo-baidu-url-submit</h1><p>ç™¾åº¦è‡ªåŠ¨æäº¤ï¼Œæ¨é€è‡ªå·±ç½‘ç«™çš„æ’ä»¶ï¼Œä½ åœ¨è¾“å…¥ <code>hexo d</code> å°±ä¼šè‡ªåŠ¨æäº¤ä½ çš„url</p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/b5427f21/" title="åšå®¢SEOä¼˜åŒ–">åšå®¢SEOä¼˜åŒ–</a></p><h1 id="hexo-tag-aplayer"><a href="#hexo-tag-aplayer" class="headerlink" title="hexo-tag-aplayer"></a>hexo-tag-aplayer</h1><p>hexo-tag-aplayeræ˜¯å°†aplayåµŒå…¥åšå®¢é¡µé¢çš„hexoæ’ä»¶<br>åŸå…ˆ hexo-tag-aplayer ä¸æ”¯æŒ MetingJSï¼Œä½¿å¾—éœ€è¦å›¾ç‰‡urlï¼ŒéŸ³ä¹urlç­‰ç­‰å‚æ•°ï¼Œæ“ä½œèµ·æ¥éƒ½å¾ˆéº»çƒ¦ï¼Œéœ€è¦å»éŸ³ä¹ç½‘ç«™æ‰’éŸ³ä¹æ’­æ”¾é“¾æ¥æˆ–è€…ä¸‹è½½ä¸‹æ¥å­˜å‚¨åœ¨ä¸ƒç‰›äº‘æˆ–æœ¬åœ°ã€‚but, nowâ€¦</p><p>MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)<br>MetingJS æ˜¯åŸºäºMeting API çš„ APlayer è¡ç”Ÿæ’­æ”¾å™¨ï¼Œå¼•å…¥ MetingJS åï¼Œæ’­æ”¾å™¨å°†æ”¯æŒå¯¹äº QQéŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹ã€è™¾ç±³ã€é…·ç‹—ã€ç™¾åº¦ç­‰å¹³å°çš„éŸ³ä¹æ’­æ”¾ã€‚</p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/6b33fe6/" title="Hexoæ·»åŠ éŸ³ä¹æ’­æ”¾åŠŸèƒ½">Hexoæ·»åŠ éŸ³ä¹æ’­æ”¾åŠŸèƒ½</a></p><h1 id="hexo-helper-live2d"><a href="#hexo-helper-live2d" class="headerlink" title="hexo-helper-live2d"></a>hexo-helper-live2d</h1><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/2805db8d/" title="hexoåšå®¢æ·»åŠ live2dçœ‹æ¿å¨˜">hexoåšå®¢æ·»åŠ live2dçœ‹æ¿å¨˜</a></p><h1 id="hexo-generator-index-pin-top"><a href="#hexo-generator-index-pin-top" class="headerlink" title="hexo-generator-index-pin-top"></a>hexo-generator-index-pin-top</h1><p>è¿™æ˜¯ä¸€æ¬¾æ–‡ç« ç½®é¡¶æ’ä»¶<br>åœ¨butterflyä¸»é¢˜ä¸­ï¼Œä½ éœ€è¦<code>sudo npm uninstall hexo-generator-index --save</code> ç„¶å <code>sudo npm install hexo-generator-index-pin-top --save</code></p><p>ä½ è¦åœ¨æ–‡ç« çš„front-matteråŒºåŸŸé‡Œæ·»åŠ top: Trueå±æ€§æ¥æŠŠè¿™ç¯‡æ–‡ç« ç½®é¡¶ã€‚</p><p>ä½ å¯ä»¥å‚è€ƒ <a href="https://github.com/netcan/hexo-generator-index-pin-top">hexo-generator-index-pin-top</a>è¿™ä¸ªä»“åº“æ¥äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p><h1 id="hexo-neat"><a href="#hexo-neat" class="headerlink" title="hexo-neat"></a>hexo-neat</h1><p>è¿™æ˜¯ä¸€æ¬¾Hexo é¡µé¢é™æ€èµ„æºå‹ç¼©æ’ä»¶<br>æˆ‘ä»¬è‡ªå·±æ·»åŠ çš„ css å’Œ js æ–‡ä»¶ä¸ºäº†å¯è¯»æ€§ï¼Œå¾€å¾€ä¼šæœ‰å¾ˆå¤šæ¢è¡Œå’Œç©ºæ ¼ï¼Œè¿™äº›å¯¹äºæµè§ˆå™¨æ¥è¯´æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œç”šè‡³è¿˜ä¼šé™ä½æ¸²æŸ“é¡µé¢çš„é€Ÿåº¦ã€‚åŒæ—¶ï¼Œç”±äº Markdown è½¬æˆ html çš„ bugï¼Œä¼šå¯¼è‡´é¡µé¢å­˜åœ¨å¤§é‡çš„ç©ºç™½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹é¡µé¢æºä»£ç å‘ç°è¿™äº›å¤§é‡çš„ç©ºç™½ç¬¦ï¼Œè¿™ä¹Ÿä¼šé€ æˆé¡µé¢æ¸²æŸ“çš„æ€§èƒ½é—®é¢˜ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é¡µé¢çš„é™æ€èµ„æºè¿›è¡Œå‹ç¼©ï¼ŒåŒ…æ‹¬ cssã€js å’Œ html ç­‰æ–‡ä»¶ã€‚</p><h2 id="å®‰è£…hexo-neat"><a href="#å®‰è£…hexo-neat" class="headerlink" title="å®‰è£…hexo-neat"></a>å®‰è£…<a href="https://github.com/rozbo/hexo-neat">hexo-neat</a></h2><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¾“å…¥<br><code>sudo npm install hexo-neat --save</code></p><h2 id="ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ç›¸å…³é…ç½®"><a href="#ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ç›¸å…³é…ç½®" class="headerlink" title="ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ç›¸å…³é…ç½®"></a>ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ç›¸å…³é…ç½®</h2><p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code> ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># åšæ–‡å‹ç¼©</span><br><span class="line">neat_enable: true</span><br><span class="line"># å‹ç¼©html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># å‹ç¼©css  </span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.css&#39;</span><br><span class="line"># å‹ç¼©js</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.js&#39;</span><br><span class="line">    - &#39;**&#x2F;jquery.fancybox.pack.js&#39;</span><br><span class="line">    - &#39;**&#x2F;index.js&#39;</span><br><span class="line">    - &#39;**&#x2F;fireworks.js&#39;</span><br><span class="line">    - &#39;**&#x2F;js&#x2F;main.js&#39;</span><br></pre></td></tr></table></figure><h2 id="å‡ ä¸ªå°é—®é¢˜"><a href="#å‡ ä¸ªå°é—®é¢˜" class="headerlink" title="å‡ ä¸ªå°é—®é¢˜"></a>å‡ ä¸ªå°é—®é¢˜</h2><h3 id="è·³è¿‡å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®é…ç½®æ–¹å¼"><a href="#è·³è¿‡å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®é…ç½®æ–¹å¼" class="headerlink" title="è·³è¿‡å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®é…ç½®æ–¹å¼"></a>è·³è¿‡å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®é…ç½®æ–¹å¼</h3><p>å¦‚æœæŒ‰ç…§å®˜æ–¹æ’ä»¶çš„æ–‡æ¡£è¯´æ˜æ¥é…ç½® excludeï¼Œä½ ä¼šå‘ç°å®Œå…¨ä¸èµ·ä½œç”¨ã€‚è¿™æ˜¯å› ä¸ºé…ç½®çš„æ–‡ä»¶è·¯å¾„ä¸å¯¹ï¼Œå‹ç¼©æ—¶æ‰¾ä¸åˆ°ä½ é…ç½®çš„æ–‡ä»¶ï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•è·³è¿‡äº†ã€‚ä½ éœ€è¦ç»™è¿™äº›æ–‡ä»¶æŒ‡å®šæ­£ç¡®çš„è·¯å¾„ï¼Œä¸‡èƒ½çš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.css&#39;</span><br></pre></td></tr></table></figure><h3 id="å‹ç¼©-html-æ—¶ä¸è¦è·³è¿‡-Markdown-æ–‡ä»¶"><a href="#å‹ç¼©-html-æ—¶ä¸è¦è·³è¿‡-Markdown-æ–‡ä»¶" class="headerlink" title="å‹ç¼© html æ—¶ä¸è¦è·³è¿‡ Markdown æ–‡ä»¶"></a>å‹ç¼© html æ—¶ä¸è¦è·³è¿‡ Markdown æ–‡ä»¶</h3><p>å¦‚æœè·³è¿‡å‹ç¼©<code>.md</code> æ–‡ä»¶ï¼Œè€Œä½ åˆåˆšå¥½åœ¨æ–‡ç« ä¸­ä½¿ç”¨åˆ°äº†è‡ªå¸¦çš„ tab æ ‡ç­¾ï¼Œé‚£ä¹ˆå½“ Hexo åœ¨ç”Ÿæˆé™æ€é¡µé¢æ—¶å°±ä¼šå‘ç”Ÿè§£æé”™è¯¯ã€‚è¿™ä¼šå¯¼è‡´ä½¿ç”¨åˆ°äº† tab æ ‡ç­¾çš„é¡µé¢ç”Ÿæˆå¤±è´¥è€Œæ— æ³•è®¿é—®ã€‚</p><h3 id="å‹ç¼©-html-æ—¶ä¸è¦è·³è¿‡-swig-æ–‡ä»¶"><a href="#å‹ç¼©-html-æ—¶ä¸è¦è·³è¿‡-swig-æ–‡ä»¶" class="headerlink" title="å‹ç¼© html æ—¶ä¸è¦è·³è¿‡.swig æ–‡ä»¶"></a>å‹ç¼© html æ—¶ä¸è¦è·³è¿‡.swig æ–‡ä»¶</h3><p><code>.swig</code> æ–‡ä»¶æ˜¯æ¨¡æ¿å¼•æ“æ–‡ä»¶ï¼Œç®€å•çš„è¯´ Hexo å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æ¥ç”Ÿæˆå¯¹åº”çš„é¡µé¢ã€‚å¦‚æœè·³è¿‡è¿™äº›æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°†ä¼šå‘ç°ï¼Œä½ çš„æ‰€æœ‰é¡µé¢å®Œå…¨æ²¡æœ‰èµ·åˆ°å‹ç¼©çš„æ•ˆæœï¼Œé¡µé¢æºä»£ç é‡Œä¾ç„¶å­˜åœ¨ç€ä¸€å¤§å †ç©ºç™½ã€‚</p><h3 id="é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•"><a href="#é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•" class="headerlink" title="é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•"></a>é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•</h3><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸‹é¡µé¢åŠ è½½æ€§èƒ½ã€‚</p><p>Google PageSpeed Insights å¯ç”¨äºå¸®åŠ©åˆ†æç½‘é¡µåŠ è½½é€Ÿåº¦ç“¶é¢ˆï¼Œè¯¥ç½‘ç«™å°†ä¼šé’ˆå¯¹æŒ‡å®šåŸŸåè¿›è¡Œåœ¨çº¿æµ‹è¯•ï¼Œå¹¶æä¾›ä¸€ä»½è¯¦ç»†çš„é¡µé¢åŠ è½½åˆ†ææŠ¥å‘Šï¼ŒæŠ¥å‘Šä¸­è¿˜ä¼šæ ¹æ®é¡µé¢èµ„æºåŠ è½½æƒ…å†µç»™å‡ºåˆç†çš„ä¼˜åŒ–å»ºè®®åŠé¢„æœŸä¼˜åŒ–æ•ˆæœï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥æœ‰çš„æ”¾çŸ¢çš„è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ä¸“é¡¹æ•´æ”¹ã€‚</p><p><a href="https://developers.google.com/speed/pagespeed/insights/">Google PageSpeed Insights</a></p><h1 id="hexo-tag-dplayer"><a href="#hexo-tag-dplayer" class="headerlink" title="hexo-tag-dplayer"></a>hexo-tag-dplayer</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><a href="https://github.com/MoePlayer/hexo-tag-dplayer">hexo-tag-dplayer</a> æ˜¯<a href="https://github.com/MoePlayer/DPlayer"> APlayer</a>æ’­æ”¾å™¨çš„ Hexo æ ‡ç­¾æ’ä»¶ï¼Œå¯ä»¥ååˆ†æ–¹ä¾¿åœ°åœ¨æ–‡ç« å†…æ’å…¥è§†é¢‘æ’­æ”¾å™¨ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å®‰è£… hexo-tag-dplayer æ’ä»¶ååˆ†ç®€å•ï¼Œåªéœ€è¦åœ¨åšå®¢ç›®å½•æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-tag-dplayer -s</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ Hexo çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼Œå¢åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo-tag-dplayer:</span><br><span class="line">  cdn:</span><br><span class="line">    - https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;dplayer&#x2F;dist&#x2F;DPlayer.min.js</span><br><span class="line">    - https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;dplayer&#x2F;dist&#x2F;DPlayer.min.css</span><br><span class="line">  default: </span><br><span class="line">    api: https:&#x2F;&#x2F;api.prprpr.me&#x2F;dplayer&#x2F;</span><br><span class="line">    loop: yes</span><br><span class="line">    screenshot: yes</span><br><span class="line">    autoplay: false</span><br><span class="line">    # åé¢è¿˜å¯ä»¥æ¥ç€å†™å…¶ä»–é»˜è®¤é…ç½®</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä½¿ç”¨ hexo-tag-dplayer éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ MarkDown æ–‡ä»¶ä¸­æ’å…¥æ­£ç¡®çš„æ ‡è®°å°±å¯ä»¥äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url&#x3D;http:&#x2F;&#x2F;blog.gisersqdai.top&#x2F;shanghaiurbandevlopment.mp4&quot; %&#125; </span><br></pre></td></tr></table></figure><p>å¦‚æœè¿˜éœ€è¦å…¶ä»–é…ç½®ï¼Œå°½ç®¡åœ¨ä¸Šé¢å†™å°±å¥½ï¼Œè¯¦æƒ…å¯ä»¥çœ‹<a href="https://github.com/MoePlayer/hexo-tag-dplayer">è¿™é‡Œ</a>ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¯ä»¥çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url&#x3D;http:&#x2F;&#x2F;blog.gisersqdai.top&#x2F;shanghaiurbandevlopment.mp4&quot; &quot;id&#x3D;46190A32F63DFF2CF0A3BB0F3293636C&quot; &quot;addition&#x3D;https:&#x2F;&#x2F;api.prprpr.me&#x2F;dplayer&#x2F;v3&#x2F;bilibili?aid&#x3D;17150441 &quot; %&#125; </span><br></pre></td></tr></table></figure><p>å¯é€‰çš„ä¸€äº›å‚æ•°ï¼š</p><table><thead><tr><th align="center">é€‰é¡¹</th><th align="center">é»˜è®¤å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">url</td><td align="center">å¿…é¡»å€¼</td><td align="center">è§†é¢‘åœ°å€</td></tr><tr><td align="center">loop</td><td align="center">false</td><td align="center">è§†é¢‘å¾ªç¯æ’­æ”¾</td></tr><tr><td align="center">volume</td><td align="center">0.7</td><td align="center">æ’­æ”¾å™¨éŸ³é‡</td></tr><tr><td align="center">hotkey</td><td align="center">true</td><td align="center">å¼€å¯çƒ­é”®</td></tr><tr><td align="center">autoplay</td><td align="center">true</td><td align="center">è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</td></tr><tr><td align="center">logo</td><td align="center">-</td><td align="center">åœ¨å·¦ä¸Šè§’å±•ç¤ºä¸€ä¸ª logoï¼Œä½ å¯ä»¥é€šè¿‡ CSS è°ƒæ•´å®ƒçš„å¤§å°å’Œä½ç½®</td></tr><tr><td align="center">mutex</td><td align="center">true</td><td align="center">è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»–æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</td></tr><tr><td align="center">highlight</td><td align="center">[]</td><td align="center">è‡ªå®šä¹‰è¿›åº¦æ¡æç¤ºç‚¹</td></tr><tr><td align="center">preload</td><td align="center">auto</td><td align="center">è§†é¢‘æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š none, metadata, auto</td></tr><tr><td align="center">theme</td><td align="center">#ad7a86</td><td align="center">æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®</td></tr></tbody></table><h3 id="ä½¿ç”¨å¼¹å¹•"><a href="#ä½¿ç”¨å¼¹å¹•" class="headerlink" title="ä½¿ç”¨å¼¹å¹•"></a>ä½¿ç”¨å¼¹å¹•</h3><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­å·²ç»å†™äº†æ€ä¹ˆä½¿ç”¨å¼¹å¹•äº†ï¼Œä½¿ç”¨å¼¹å¹•é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ª ID ï¼Œå»ºè®®ä½¿ç”¨è§†é¢‘çš„å“ˆå¸Œå€¼ä½œä¸ºIDï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½ä¿è¯ ID å”¯ä¸€ï¼Œé˜²æ­¢é‡å¤ï¼Œæ¥ä¸‹æ¥è¦é…ç½®å¼¹å¹•æ¥å£ï¼Œå®˜æ–¹å…è´¹çš„å¼¹å¹•æ¥å£èƒ½ç”¨ï¼Œä½†æ˜¯ä¸ç¨³å®šï¼Œå¦‚æœæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œæ¨èä¸ªäººè‡ªå·±æ­å»ºå¼¹å¹•æœåŠ¡å™¨ã€‚</p><p>è§£æ BiliBiLi å¼¹å¹•ï¼Œè¿™ä¸ªä¸Šé¢çš„ç¤ºä¾‹ä¹Ÿå·²ç»æœ‰äº†ï¼ŒåŒæ ·ï¼Œå…è´¹çš„æœåŠ¡ä¸ä¸€å®šç¨³å®šï¼Œæœ‰ç‰¹æ®Šéœ€æ±‚çš„è¯·è‡ªå·±æ­å»ºå¼¹å¹•æœåŠ¡å™¨ã€‚</p><p>å¢åŠ å¤–éƒ¨å¼¹å¹•åˆ—è¡¨ï¼ŒåŒè§£æ BiliBiLi å¼¹å¹•ä¸€æ ·ï¼Œåªè¦å°†å¤–éƒ¨å¼¹å¹•çš„åœ°å€å†™è¿›<code>addition</code>å°±å¯ä»¥äº†ã€‚</p><h3 id="ä½¿ç”¨å­—å¹•"><a href="#ä½¿ç”¨å­—å¹•" class="headerlink" title="ä½¿ç”¨å­—å¹•"></a>ä½¿ç”¨å­—å¹•</h3><p>å¢åŠ å‚æ•°<code>&quot;subtitle=å­—å¹•æ–‡ä»¶åœ°å€&quot;</code>å°±å¯ä»¥äº†ï¼Œå¦‚éœ€ä¿®æ”¹å­—å¹•é¢œè‰²æˆ–è€…å­—ä½“å¤§å°ï¼Œä»¿ç…§å…¶ä»–å‚æ•°å†™å°±å¯ä»¥äº†ã€‚</p><h1 id="hexo-pwa"><a href="#hexo-pwa" class="headerlink" title="hexo-pwa"></a>hexo-pwa</h1><p>Progressive Web App, ç®€ç§°PWAï¼Œæ˜¯æå‡ Web App çš„ä½“éªŒçš„ä¸€ç§æ–°æ–¹æ³•ï¼Œèƒ½ç»™ç”¨æˆ·åŸç”Ÿåº”ç”¨çš„ä½“éªŒã€‚</p><p>PWA èƒ½åšåˆ°åŸç”Ÿåº”ç”¨çš„ä½“éªŒä¸æ˜¯é ç‰¹æŒ‡æŸä¸€é¡¹æŠ€æœ¯ï¼Œè€Œæ˜¯ç»è¿‡åº”ç”¨ä¸€äº›æ–°æŠ€æœ¯è¿›è¡Œæ”¹è¿›ï¼Œåœ¨å®‰å…¨ã€æ€§èƒ½å’Œä½“éªŒä¸‰ä¸ªæ–¹é¢éƒ½æœ‰å¾ˆå¤§æå‡ï¼ŒPWA æœ¬è´¨ä¸Šæ˜¯ Web Appï¼Œå€ŸåŠ©ä¸€äº›æ–°æŠ€æœ¯ä¹Ÿå…·å¤‡äº† Native App çš„ä¸€äº›ç‰¹æ€§ï¼Œå…¼å…· Web App å’Œ Native App çš„ä¼˜ç‚¹ã€‚</p><p>è¯¦æƒ…è§è¿™ç¯‡æ–‡ç« <a href="/posts/805d5d89/" title="hexoåšå®¢å¼€å¯pwa">hexoåšå®¢å¼€å¯pwa</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢æ·»åŠ live2dçœ‹æ¿å¨˜</title>
      <link href="posts/2805db8d/"/>
      <url>posts/2805db8d/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h1><p>åœ¨åšå®¢æ ¹ç›®å½•è¾“å…¥<code>npm install --save hexo-helper-live2d</code><br>æ‰“å¼€åšå®¢ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code> æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https:&#x2F;&#x2F;github.com&#x2F;EYHN&#x2F;hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  # enable: false</span><br><span class="line">  scriptFrom: local # é»˜è®¤</span><br><span class="line">  pluginRootPath: live2dw&#x2F; # æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span><br><span class="line">  pluginJsPath: lib&#x2F; # è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span><br><span class="line">  pluginModelPath: assets&#x2F; # æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span><br><span class="line">  # scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg # unpkg CDN</span><br><span class="line">  # scriptFrom: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;live2d-widget@3.x&#x2F;lib&#x2F;L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url</span><br><span class="line">  tagMode: false # æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span><br><span class="line">  debug: false # è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-tororo # ç™½çŒ« # npm-module package name</span><br><span class="line">    #live2d-widget-model-hijiki é»‘çŒ«</span><br><span class="line">    # use: wanko # åšå®¢æ ¹ç›®å½•&#x2F;live2d_models&#x2F; ä¸‹çš„ç›®å½•å</span><br><span class="line">    # use: .&#x2F;wives&#x2F;wanko # ç›¸å¯¹äºåšå®¢æ ¹ç›®å½•çš„è·¯å¾„</span><br><span class="line">    # use: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;live2d-widget-model-wanko@1.0.5&#x2F;assets&#x2F;wanko.model.json # ä½ çš„è‡ªå®šä¹‰ url</span><br><span class="line">    scale: 1</span><br><span class="line">    hHeadPos: 0.5</span><br><span class="line">    vHeadPos: 0.618</span><br><span class="line">  display:</span><br><span class="line">    superSample: 2</span><br><span class="line">    width: 150</span><br><span class="line">    height: 300</span><br><span class="line">    position: right</span><br><span class="line">    hOffset: 0</span><br><span class="line">    vOffset: -50</span><br><span class="line">  mobile:</span><br><span class="line">    show: true</span><br><span class="line">    scale: 0.5</span><br><span class="line">  react:</span><br><span class="line">    opacityDefault: 0.7</span><br><span class="line">    opacityOnHover: 0.2</span><br></pre></td></tr></table></figure><p>ä»£ç å«ä¹‰å…·ä½“å¯å‚è€ƒ<a href="https://github.com/EYHN/hexo-helper-live2d">live2då®˜æ–¹æ–‡æ¡£</a></p><h1 id="æ·»åŠ æ¨¡å‹"><a href="#æ·»åŠ æ¨¡å‹" class="headerlink" title="æ·»åŠ æ¨¡å‹"></a>æ·»åŠ æ¨¡å‹</h1><p>åšå®Œä¸Šé¢é‚£ä¸€æ­¥ä¹‹åï¼Œä½ æ˜¯è§ä¸åˆ°ä½ çš„è€å©†çš„ï¼ˆæ»‘ç¨½ï¼‰<br>è¿˜éœ€è¦ä¸‹è½½æ¨¡å‹</p><p>è¿›å…¥è¿™ä¸ªç½‘å€<a href="https://huaji8.top/post/live2d-plugin-2.0/">é¢„è§ˆ</a> æœ‰å“ªäº›æ¨¡å‹</p><p>ç„¶åå†å®‰è£…æ¨¡å‹<br>å‚è§è¿™ä¸ªç½‘å€å»<a href="https://github.com/xiazeyu/live2d-widget-models">å®‰è£…</a></p><p>enjoy itï¼</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://github.com/EYHN/hexo-helper-live2d">live2då®˜æ–¹æ–‡æ¡£</a><br>2.<a href="https://rickeeyzhou.github.io/2018/04/30/5-HexoLive2d/">5.Hexo_åŸºäºlive2dæ’ä»¶çš„åŠ¨æ€çŒ«çŒ«è®¾ç½®</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> live2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ·»åŠ éŸ³ä¹æ’­æ”¾åŠŸèƒ½</title>
      <link href="posts/6b33fe6/"/>
      <url>posts/6b33fe6/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><a href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayer</a>æ˜¯å°†<a href="https://github.com/MoePlayer/APlayer">aplay</a>åµŒå…¥åšå®¢é¡µé¢çš„hexoæ’ä»¶<br>åŸå…ˆ hexo-tag-aplayer ä¸æ”¯æŒ MetingJSï¼Œä½¿å¾—éœ€è¦å›¾ç‰‡urlï¼ŒéŸ³ä¹urlç­‰ç­‰å‚æ•°ï¼Œæ“ä½œèµ·æ¥éƒ½å¾ˆéº»çƒ¦ï¼Œéœ€è¦å»éŸ³ä¹ç½‘ç«™æ‰’éŸ³ä¹æ’­æ”¾é“¾æ¥æˆ–è€…ä¸‹è½½ä¸‹æ¥å­˜å‚¨åœ¨ä¸ƒç‰›äº‘æˆ–æœ¬åœ°ã€‚but, nowâ€¦</p><p>MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)<br><a href="https://github.com/metowolf/MetingJS">MetingJS</a> æ˜¯åŸºäº<a href="https://github.com/metowolf/Meting">Meting API</a> çš„ APlayer è¡ç”Ÿæ’­æ”¾å™¨ï¼Œå¼•å…¥ MetingJS åï¼Œæ’­æ”¾å™¨å°†æ”¯æŒå¯¹äº QQéŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹ã€è™¾ç±³ã€é…·ç‹—ã€ç™¾åº¦ç­‰å¹³å°çš„éŸ³ä¹æ’­æ”¾ã€‚</p><h1 id="å®‰è£…å’Œé…ç½®"><a href="#å®‰è£…å’Œé…ç½®" class="headerlink" title="å®‰è£…å’Œé…ç½®"></a>å®‰è£…å’Œé…ç½®</h1><p>åœ¨hexoçš„åšå®¢æ ¹ç›®å½•ä¸‹ä½ åªéœ€å†™å…¥ä»¥ä¸‹ä»£ç å°±å¯ä»¥å®‰è£…ä»–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><p>è¦æƒ³ä½¿ç”¨å®ƒä½ éœ€è¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾å‚æ•°"><a href="#æ ‡ç­¾å‚æ•°" class="headerlink" title="æ ‡ç­¾å‚æ•°"></a>æ ‡ç­¾å‚æ•°</h2><ul><li>title : æ›²ç›®æ ‡é¢˜</li><li>author: æ›²ç›®ä½œè€…</li><li>url: éŸ³ä¹æ–‡ä»¶ URL åœ°å€</li><li>picture_url: (å¯é€‰) éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€</li><li>narrow: ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</li><li>autoplay: (å¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</li><li>width:xxx: (å¯é€‰) æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%)</li><li>lrc:xxx: ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€</li></ul><p>å½“å¼€å¯ Hexo çš„ æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ åŠŸèƒ½æ—¶ï¼Œå¯ä»¥å°†å›¾ç‰‡ã€éŸ³ä¹æ–‡ä»¶ã€æ­Œè¯æ–‡ä»¶æ”¾å…¥ä¸æ–‡ç« å¯¹åº”çš„èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åç›´æ¥å¼•ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­Œè¯æ ‡ç­¾"><a href="#æ­Œè¯æ ‡ç­¾" class="headerlink" title="æ­Œè¯æ ‡ç­¾"></a>æ­Œè¯æ ‡ç­¾</h2><p>é™¤äº†ä½¿ç”¨æ ‡ç­¾ lrc é€‰é¡¹æ¥è®¾å®šæ­Œè¯ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ aplayerlrc æ ‡ç­¾æ¥ç›´æ¥æ’å…¥æ­Œè¯æ–‡æœ¬åœ¨åšå®¢ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlrc &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;autoplay&quot; %&#125;</span><br><span class="line">[00:00.00]lrc here</span><br><span class="line">&#123;% endaplayerlrc %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’­æ”¾åˆ—è¡¨"><a href="#æ’­æ”¾åˆ—è¡¨" class="headerlink" title="æ’­æ”¾åˆ—è¡¨"></a>æ’­æ”¾åˆ—è¡¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,                          &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</span><br><span class="line">    &quot;autoplay&quot;: true,                         &#x2F;&#x2F; ï¼ˆå¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,                         &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ›²ç›®å¾ªç¯ç±»å‹ï¼Œæœ‰ &#39;random&#39;ï¼ˆéšæœºæ’­æ”¾ï¼‰, &#39;single&#39; (å•æ›²æ’­æ”¾), &#39;circulation&#39; (å¾ªç¯æ’­æ”¾), &#39;order&#39; (åˆ—è¡¨æ’­æ”¾)ï¼Œ é»˜è®¤ï¼š&#39;circulation&#39; </span><br><span class="line">    &quot;showlrc&quot;: 3,                             &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ˜¾ç¤ºé…ç½®é¡¹ï¼Œå¯é€‰é¡¹æœ‰ï¼š1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,                            &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,                      &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®ï¼Œé»˜è®¤ï¼š#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,                    &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š &#39;none&#39; &#39;metadata&#39; &#39;auto&#39;, é»˜è®¤: &#39;auto&#39;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 &#x2F;&#x2F; (å¯é€‰) è¯¥æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;ã‚¢ã‚¤ãƒ­ãƒ‹&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;é¹¿ä¹ƒ&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><h1 id="MeingJS-æ”¯æŒ-3-0-æ–°åŠŸèƒ½"><a href="#MeingJS-æ”¯æŒ-3-0-æ–°åŠŸèƒ½" class="headerlink" title="MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)"></a>MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)</h1><p>ä¾‹å¦‚æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ç½‘ç«™æ‰¾åˆ°è¿™é¦–<code>coldplay</code>çš„ã€ŠViva la Vidaã€‹ï¼Œå¤åˆ¶ä»–çš„åˆ†äº«é“¾æ¥ï¼Œä»urlä¸­å¯ä»¥å¾—åˆ°å…¶idä¸º3986040ï¼ŒæŒ‰ä¸‹é¢æ ¼å¼å³å¯ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;3986040&quot; &quot;netease&quot; &quot;song&quot; &quot;theme:#555&quot; &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æ­Œå•çš„å†™æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;7334369613&quot; &quot;tencent&quot; &quot;playlist&quot; &quot;theme:#555&quot; &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹è¿™é‡Œé¢çš„å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208224646.png"></p><h1 id="å·²çŸ¥é—®é¢˜"><a href="#å·²çŸ¥é—®é¢˜" class="headerlink" title="å·²çŸ¥é—®é¢˜"></a>å·²çŸ¥é—®é¢˜</h1><ul><li><p>æœ‰äº›éŸ³ä¹ä½¿ç”¨ <code>meting</code> æ— æ³•åŠ è½½å‡ºæ¥</p></li><li><p><code>meting</code> å’Œ <code>aplayer</code> ä¸èƒ½å­˜åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œå¦åˆ™ä¼šå‡ºç° <code>aplayer</code>ä¸ä¼šå‡ºç°çš„æƒ…å†µ</p></li></ul><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://blog.csdn.net/hushhw/article/details/88092728">Hexoä¸»é¢˜æ’å…¥éŸ³ä¹ä¹‹aplayeréŸ³ä¹æ’­æ”¾å™¨</a><br>2.<a href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayeræ–‡æ¡£</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
            <tag> Aplayer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨jsDelivråŠ é€ŸGitHubä»“åº“å›¾ç‰‡</title>
      <link href="posts/dc1f1b6b/"/>
      <url>posts/dc1f1b6b/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>jsDelivr æ˜¯å›½å¤–çš„ä¸€å®¶ä¼˜ç§€çš„å…¬å…± CDN æœåŠ¡æä¾›å•†ï¼Œä¹Ÿæ˜¯é¦–ä¸ªã€Œæ‰“é€šä¸­å›½å¤§é™†ï¼ˆç½‘å®¿å…¬å¸è¿è¥ï¼‰ä¸æµ·å¤–çš„å…è´¹ CDN æœåŠ¡ã€‚jsDelivr æœ‰ä¸€ä¸ªååˆ†å¥½ç”¨çš„åŠŸèƒ½â€”â€”å®ƒå¯ä»¥åŠ é€Ÿ Github ä»“åº“çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥å€Ÿæ­¤æ­å»ºä¸€ä¸ªå…è´¹ã€å…¨çƒè®¿é—®é€Ÿåº¦è¶…å¿«çš„å›¾åºŠã€‚<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208160652.png" alt="å¦‚å›¾"></p><h1 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h1><h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208162726.png" alt="åˆ›å»ºä»“åº“"></p><h2 id="è·å–token"><a href="#è·å–token" class="headerlink" title="è·å–token"></a>è·å–token</h2><p>è®¿é—®<a href="https://github.com/settings/tokens">è¿™é‡Œ</a><br>ç‚¹å‡»åˆ›å»ºtoken<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208163008.png" alt="ç”Ÿæˆtoken"><br>åˆ†é…tokenæƒé™<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208163225.png"><br>æœ€åæ‹‰åˆ°æœ€ä¸‹é¢ï¼Œç”Ÿæˆtokenï¼Œå¹¶å¤åˆ¶</p><h1 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h1><ol><li>ç‚¹å‡»<a href="https://github.com/Molunerfinn/PicGo/releases">æ­¤å¤„</a></li><li>æ‰“å¼€picgoå¹¶é…ç½®ï¼Œç‚¹å›¾åºŠè®¾ç½®-&gt;githubå›¾åºŠ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208163552.png"></li></ol><blockquote><p>è®¾å®šä»“åº“åï¼šå¡«å…¥ä½ ä¸Šé¢åˆ›å»ºçš„ä»“åº“åï¼Œæ ¼å¼ä¸ºï¼šç”¨æˆ·å/ä»“åº“åï¼›<br>è®¾å®šåˆ†æ”¯åï¼šä¸€èˆ¬å¡«å†™ master å°±è¡Œäº†ï¼›<br>è®¾å®š Tokenï¼šå°† Github é…ç½®ä¸­å¾—åˆ°çš„ Token ç²˜è´´è¿›å»ï¼›<br>æŒ‡å®šå­˜å‚¨è·¯å¾„ï¼šä½ æƒ³è¦æŠŠå›¾ç‰‡æ”¾åœ¨ä»“åº“çš„å“ªä¸ªä½ç½®ï¼Œæ¯”å¦‚æˆ‘æ˜¯ï¼š/imgï¼ŒGithub å¯¹åº”çš„æ˜¯ï¼š<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208163835.png"></p></blockquote><h1 id="jsDelivr-é…ç½®"><a href="#jsDelivr-é…ç½®" class="headerlink" title="jsDelivr é…ç½®"></a>jsDelivr é…ç½®</h1><p>æˆ‘è®¾å®šçš„æ˜¯è¿™æ ·<br><code>https://cdn.jsdelivr.net/gh/imgyh/cdn</code></p><blockquote><p>ghè¡¨ç¤ºgithub,ä¸éœ€è¦æ”¹<br>imgyh æ˜¯ä½ è‡ªå·±çš„ç”¨æˆ·å<br>cdnè¡¨ç¤ºè‡ªå·±çš„ä»“åº“</p></blockquote><h1 id="Imagine"><a href="#Imagine" class="headerlink" title="Imagine"></a>Imagine</h1><p><a href="https://github.com/meowtec/Imagine">Imagine</a>æ˜¯ä¸€æ¬¾ç”¨äºå‹ç¼© PNG å’Œ JPEG çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ç°ä»£å‹å¥½çš„ UIã€‚é…åˆä¹‹å‰è®²è¿‡çš„ PicGo æˆ‘çš„å›¾ç‰‡å‹ç¼©ä»¥åŠä¸Šä¼ ç¯èŠ‚å˜å¾—æä¸ºæœ‰æ•ˆç‡ï¼</p><ul><li>å¤šæ ¼å¼ï¼ˆJPEGï¼ŒPNGï¼ŒWebPï¼‰</li><li>æ ¼å¼è½¬æ¢</li><li>è·¨å¹³å°</li><li>GUI</li><li>æ‰¹é‡ä¼˜åŒ–</li><li>å¤šè¯­è¨€æ”¯æŒ</li><li>åŠŸèƒ½ï¼ˆæ”¯æŒæ‰¹é‡æ“ä½œï¼šå¯¼å…¥ã€å¤„ç†ã€ä¿å­˜ï¼‰</li></ul><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200214174405.png"></p><p>æ€»çš„æ¥è¯´å‹ç¼©ç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚</p><h1 id="enjoy-it"><a href="#enjoy-it" class="headerlink" title="enjoy it !"></a>enjoy it !</h1><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://blog.iljw.me/2019/05/jsdelivr-cdn-github.html">ä½¿ç”¨ jsDelivr CDN åŠ é€Ÿ Github ä»“åº“çš„å›¾ç‰‡ï¼Œä»¥ä½œä¸ºåšå®¢çš„å›¾åºŠ</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
            <tag> jsDelivr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢SEOä¼˜åŒ–</title>
      <link href="posts/b5427f21/"/>
      <url>posts/b5427f21/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…RSSæ’ä»¶ç”Ÿæˆatom-xml"><a href="#å®‰è£…RSSæ’ä»¶ç”Ÿæˆatom-xml" class="headerlink" title="å®‰è£…RSSæ’ä»¶ç”Ÿæˆatom.xml"></a>å®‰è£…RSSæ’ä»¶ç”Ÿæˆatom.xml</h1><p>è¿›å…¥æœ¬åœ°hexoç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤:<br><code>sudo npm install hexo-generator-feed</code><br>åœ¨åšå®¢ç›®å½•çš„_config.ymlä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugin:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">    type: atom</span><br><span class="line">    path: atom.xml</span><br><span class="line">    limit: 20</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯butterflyä¸»é¢˜ï¼Œå·²ç»é›†æˆäº†rssåŠŸèƒ½ï¼Œæ‰€ä»¥è®¾ç½®åˆ°è¿™ä¸€æ­¥å°±å¯ä»¥äº†ã€‚å¦‚æœä½ çš„ä¸»é¢˜é‡Œé¢æ²¡æœ‰rssç›¸å…³è®¾ç½®ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><code>rssï¼š /atom.xml</code></p><h1 id="ç™¾åº¦googleæ¨é€"><a href="#ç™¾åº¦googleæ¨é€" class="headerlink" title="ç™¾åº¦googleæ¨é€"></a>ç™¾åº¦googleæ¨é€</h1><h2 id="è®©ç™¾åº¦æ”¶å½•"><a href="#è®©ç™¾åº¦æ”¶å½•" class="headerlink" title="è®©ç™¾åº¦æ”¶å½•"></a>è®©ç™¾åº¦æ”¶å½•</h2><p>æŸ¥çœ‹ç™¾åº¦æ˜¯å¦æ”¶å½•å¯ä»¥åœ¨ç™¾åº¦æœç´¢å¼•æ“ä¸­è¾“å…¥<code>site:ä½ çš„åŸŸå</code>æŸ¥çœ‹</p><h3 id="éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ"><a href="#éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ" class="headerlink" title="éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ"></a>éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ</h3><p>ç™»å½•<a href="https://ziyuan.baidu.com/site/index#/">ç™¾åº¦ç«™é•¿å¹³å°</a>, åªè¦æœ‰ç™¾åº¦æ——ä¸‹çš„è´¦å·å°±å¯ä»¥ç™»å½•ï¼Œç™»å½•æˆåŠŸä¹‹ååœ¨ç«™ç‚¹ç®¡ç†ä¸­ç‚¹å‡»æ·»åŠ ç½‘ç«™ç„¶åè¾“å…¥ä½ çš„ç«™ç‚¹åœ°å€ï¼Œå»ºè®®è¾“å…¥çš„ç½‘ç«™ä¸ºwwwå¼€å¤´çš„ï¼Œä¸è¦è¾“å…¥github.ioçš„ï¼Œå› ä¸ºgithubæ˜¯ä¸å…è®¸ç™¾åº¦çš„spiderçˆ¬å–githubä¸Šçš„å†…å®¹çš„ï¼Œæ‰€ä»¥å¦‚æœæƒ³è®©ä½ çš„ç«™ç‚¹è¢«ç™¾åº¦æ”¶å½•ï¼Œåªèƒ½ä½¿ç”¨è‡ªå·±è´­ä¹°çš„åŸŸå</p><p>åœ¨é€‰æ‹©å®Œç½‘ç«™çš„ç±»å‹ä¹‹åéœ€è¦éªŒè¯ç½‘ç«™çš„æ‰€æœ‰æƒï¼ŒéªŒè¯ç½‘ç«™æ‰€æœ‰æƒçš„æ–¹å¼æœ‰ä¸‰ç§ï¼šæ–‡ä»¶éªŒè¯ã€‚htmlæ ‡ç­¾éªŒè¯å’Œcnameè§£æéªŒè¯ï¼Œä½¿ç”¨å“ªä¸€ç§æ–¹å¼éƒ½å¯ä»¥ï¼Œéƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œä½¿ç”¨æ–‡ä»¶éªŒè¯æ–‡ä»¶å­˜æ”¾çš„ä½ç½®éœ€è¦æ”¾åœ¨sourceæ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœæ˜¯htmlæ–‡ä»¶é‚£ä¹ˆhexoå°±ä¼šå°†å…¶ç¼–è¯‘ï¼Œæ‰€ä»¥å¿…é¡»è¦åŠ ä¸Šçš„layout:falseï¼Œè¿™æ ·å°±ä¸ä¼šè¢«hexoç¼–è¯‘ã€‚ï¼ˆå¦‚æœéªŒè¯æ–‡ä»¶æ˜¯txtæ ¼å¼çš„å°±ä¸éœ€è¦ï¼‰ï¼Œå…¶ä»–ä¸¤ç§æ–¹å¼ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œæˆ‘ä¸ªäººæ¨èæ–‡ä»¶éªŒè¯å’ŒcnameéªŒè¯ï¼ŒcnameéªŒè¯æœ€ä¸ºç®€å•ï¼Œåªéœ€åŠ ä¸€æ¡è§£æå°±å¥½~</p><h3 id="ç”Ÿæˆç½‘ç«™åœ°å›¾"><a href="#ç”Ÿæˆç½‘ç«™åœ°å›¾" class="headerlink" title="ç”Ÿæˆç½‘ç«™åœ°å›¾"></a>ç”Ÿæˆç½‘ç«™åœ°å›¾</h3><p>æˆ‘ä»¬éœ€è¦å®‰è£…æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save     </span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶<br>åœ¨æ ¹ç›®å½•é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹urlä¸ºä½ çš„ç«™ç‚¹åœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &#39;http:&#x2F;&#x2F;yoursite.com&#x2F;child&#39; and root as &#39;&#x2F;child&#x2F;&#39;</span><br><span class="line">url: https:&#x2F;&#x2F;www.gyh.im</span><br><span class="line">root: &#x2F;</span><br><span class="line">permalink: posts&#x2F;:abbrlink.html  # :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;</span><br><span class="line"># abbrlink config</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  #support crc16(default) and crc32</span><br><span class="line">  rep: hex    #support dec(default) and hex</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä¹‹åå°±ä¼šåœ¨ç½‘ç«™æ ¹ç›®å½•ç”Ÿæˆsitemap.xmlæ–‡ä»¶å’Œbaidusitemap.xmlæ–‡ä»¶</p><blockquote><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†æˆ‘ä»¬ç”Ÿæˆçš„sitemapæ–‡ä»¶æäº¤ç»™ç™¾åº¦ï¼Œè¿˜æ˜¯åœ¨ç™¾åº¦ç«™é•¿å¹³å°ï¼Œæ‰¾åˆ°é“¾æ¥æäº¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ç§æäº¤æ–¹å¼ï¼Œè‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ï¼Œè‡ªåŠ¨æäº¤åˆåˆ†ä¸ºä¸»åŠ¨æ¨é€ã€è‡ªåŠ¨æ¨é€å’Œsitemap</p></blockquote><blockquote><p>é€šå¸¸ä¸»åŠ¨æ¨é€&gt;è‡ªåŠ¨æ¨é€&gt;sitemap</p></blockquote><h3 id="ä¸»åŠ¨æ¨é€"><a href="#ä¸»åŠ¨æ¨é€" class="headerlink" title="ä¸»åŠ¨æ¨é€"></a>ä¸»åŠ¨æ¨é€</h3><p>æˆ‘ä»¬è¿™é‡Œä»‹ç»ä¸»åŠ¨æ¨é€<br>å®‰è£…æ’ä»¶<code>sudo npm install hexo-baidu-url-submit --save</code><br>åœ¨æ ¹ç›®å½•_config.ymlä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 100 # æäº¤æœ€æ–°çš„ä¸€ä¸ªé“¾æ¥</span><br><span class="line">  host: gyh.im # åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå</span><br><span class="line">  token:  # è¯·æ³¨æ„è¿™æ˜¯æ‚¨çš„ç§˜é’¥ï¼Œ æ‰€ä»¥è¯·ä¸è¦æŠŠåšå®¢æºä»£ç å‘å¸ƒåœ¨å…¬ä¼—ä»“åº“é‡Œ!</span><br><span class="line">  path: baidu_urls.txt # æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ</span><br></pre></td></tr></table></figure><p>åŠ å…¥æ–°çš„deployï¼Œå°†åŸæ¥çš„deployæ”¹æˆä¸‹é¢è¿™æ ·çš„æ ¼å¼ï¼Œæœ‰ä¸¤ä¸ªtypeæ—¶è¦åœ¨å‰é¢æ·»åŠ <code>-</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git</span><br><span class="line">  repo: </span><br><span class="line">        github: </span><br><span class="line">        coding:</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line">- type: baidu_url_submitter</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¸»åŠ¨æ¨é€ï¼Œè¿™ä¸ªä¸€èˆ¬åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶å¤¹ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#ç™¾åº¦æ¨é€</span><br><span class="line">baidu_push:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰§è¡Œhexo deployçš„æ—¶å€™ï¼Œæ–°çš„é“¾æ¥å°±ä¼šè¢«æ¨é€äº†<br>æ¨é€æˆåŠŸæ—¶,ä¼šæœ‰å¦‚ä¸‹ç»ˆç«¯æç¤º,å„ç§ä¸åŒçš„æ¨é€åé¦ˆå­—æ®µè¯´æ˜åœ¨è¿™é‡ŒæŸ¥çœ‹,ä¸€èˆ¬æ¥è¯´,æ¨é€å¤±è´¥éƒ½æ˜¯åœ°å€ä¸ç›¸ç¬¦é€ æˆçš„,æˆ‘ä»¬åªéœ€å¯¹æ¯”baidu_url_submitåœ¨publicä¸­ç”Ÿæˆçš„baidu_urls.txtçš„åœ°å€<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208171135.png"></p><h3 id="sitemapæäº¤"><a href="#sitemapæäº¤" class="headerlink" title="sitemapæäº¤"></a>sitemapæäº¤</h3><p>å°†æˆ‘ä»¬ä¸Šä¸€æ­¥ç”Ÿæˆçš„sitemapæ–‡ä»¶æäº¤åˆ°ç™¾åº¦å°±å¯ä»¥äº†~</p><h2 id="googleæ”¶å½•"><a href="#googleæ”¶å½•" class="headerlink" title="googleæ”¶å½•"></a>googleæ”¶å½•</h2><p>ç™»å½•<a href="https://www.google.com/webmasters">googleç«™é•¿å¹³å°</a> ç‚¹æ·»åŠ å±æ€§ï¼ŒæŒ‰è¦æ±‚æ·»åŠ å³å¯</p><p>æ·»åŠ  sitemap : è¿›å…¥ Google Search Console - æŠ“å– - ç«™ç‚¹åœ°å›¾,ç‚¹å‡»ã€Œæ·»åŠ /æµ‹è¯•ç«™ç‚¹åœ°å›¾ã€,è¾“å…¥ä½ çš„åšå®¢ç½‘å€. è‹¥æ— æŠ¥é”™åˆ™ç«™ç‚¹åœ°å›¾æäº¤æˆåŠŸ<br>æäº¤ robots.txt:</p><blockquote><p>robots.txt æ˜¯ä¸€ç§å­˜æ”¾äºç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ ASCII ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰æœç´¢å¼•æ“æ­¤ç½‘ç«™ä¸­å“ªäº›å†…å®¹æ˜¯å¯ä»¥è¢«çˆ¬å–çš„ï¼Œå“ªäº›æ˜¯ç¦æ­¢çˆ¬å–çš„ã€‚robots.txt æ”¾åœ¨åšå®¢ç›®å½•ä¸‹çš„ source æ–‡ä»¶å¤¹ä¸­ï¼Œåšå®¢ç”Ÿæˆååœ¨ç«™ç‚¹ç›®å½• /public/ ä¸‹ã€‚<br>å…·ä½“å¯å‚è€ƒä»¥ä¸‹é…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># hexo robots.txt</span><br><span class="line">User-agent: *</span><br><span class="line">Allow: &#x2F;</span><br><span class="line"></span><br><span class="line"># å¯é€‰</span><br><span class="line">###########################</span><br><span class="line">Allow: &#x2F;archives&#x2F;</span><br><span class="line">Allow: &#x2F;categories&#x2F;</span><br><span class="line">Allow: &#x2F;about&#x2F;</span><br><span class="line"></span><br><span class="line">Disallow: &#x2F;vendors&#x2F;</span><br><span class="line">Disallow: &#x2F;js&#x2F;</span><br><span class="line">Disallow: &#x2F;css&#x2F;</span><br><span class="line">Disallow: &#x2F;fonts&#x2F;</span><br><span class="line">Disallow: &#x2F;vendors&#x2F;</span><br><span class="line">Disallow: &#x2F;fancybox&#x2F;</span><br><span class="line">###########################</span><br><span class="line"></span><br><span class="line">Sitemap: https:&#x2F;&#x2F;gyh.im&#x2F;sitemap.xml</span><br><span class="line">Sitemap: https:&#x2F;&#x2F;gyh.im&#x2F;baidusitemap.xml</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p>1.<a href="https://darler.gitee.io/post/livere/">rss</a><br>2.<a href="https://www.jianshu.com/p/efaf72aab32e">Hexo åšå®¢ä»æ­å»ºéƒ¨ç½²åˆ°SEOä¼˜åŒ–ç­‰è¯¦ç»†æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-abbrlinkç”Ÿæˆå”¯ä¸€æ°¸ä¹…æ–‡ç« é“¾æ¥</title>
      <link href="posts/553fb3c9/"/>
      <url>posts/553fb3c9/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨åšæ¬¡ä¼˜åŒ–ä¹‹å‰ï¼Œhexoæ–‡ç« é“¾æ¥é»˜è®¤çš„ç”Ÿæˆè§„åˆ™æ˜¯ï¼š<code>:year/:month/:day/:title</code>ï¼Œæ˜¯æŒ‰ç…§å¹´ã€æœˆã€æ—¥ã€æ ‡é¢˜æ¥ç”Ÿæˆçš„ã€‚<br>æ¯”å¦‚ï¼š<code>https://www.xxx.com/2019/08/12/hello-world/</code> è¿™æ ·ï¼Œå¦‚æœæ–‡ç« æ ‡é¢˜æ˜¯ä¸­æ–‡çš„è¯ï¼ŒURLé“¾æ¥æ˜¯ä¹Ÿä¼šæ˜¯ä¸­æ–‡ï¼Œ</p><p>ä¸ºäº†è®©urlåœ°å€ä¸å˜ï¼Œæœ‰äº†æ¥ä¸‹æ¥è¿™ä¸ªæ’ä»¶<a href="https://github.com/Rozbo/hexo-abbrlink">hexo-abbrlink</a></p><p>æ­¤æ’ä»¶æ ¹æ®æ–‡ç« çš„<code>title</code>é¡¹æ¥å¾—åˆ°æ°¸ä¹…é“¾æ¥çš„ã€‚</p><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶-config-yml"><a href="#ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶-config-yml" class="headerlink" title="ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶_config.yml"></a>ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶_config.yml</h2><p>å®šä½åˆ° <code>permalink: :year/:month/:day/:title/</code><br>æŠŠè¿™è¡Œä»£ç ä¿®æ”¹æˆå¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts&#x2F;:abbrlink&#x2F;</span><br><span class="line"># abbrlink config</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  #support crc16(default) and crc32</span><br><span class="line">  rep: hex    #support dec(default) and hex</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ alg å’Œrepå‚æ•°æœ‰å››ç§ç»„åˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;66c8.html</span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;65535.html</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;8ddf18fb.html</span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;1690090958.html</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://github.com/Rozbo/hexo-abbrlink">hexo-abbrlinkçš„GitHub</a><br>2.<a href="https://www.jianshu.com/p/c7de2ae59975">Hexo-abbrlinkç”Ÿæˆå”¯ä¸€æ°¸ä¹…æ–‡ç« é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåœ¨githubå’Œcodingä¸ŠåŒçº¿éƒ¨ç½²å®ç°ç™¾åº¦æ”¶å½•</title>
      <link href="posts/bdd85b8e/"/>
      <url>posts/bdd85b8e/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ <a href="#">Post not found: githubPageæ­å»ºhexoåšå®¢ githubPageæ­å»ºhexoåšå®¢</a> è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä»‹ç»äº†å¦‚ä½•åˆ©ç”¨githubå’Œhexoéƒ¨ç½²ä¸ªäººåšå®¢ã€‚<br>ä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥ï¼Œgithubåœ¨å›½å†…è®¿é—®é€Ÿåº¦å¾ˆæ…¢ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨codingä¸Šéƒ¨ç½²ä¸€ä¸ªé•œåƒç«™ç‚¹ï¼Œå®ç°åŒçº¿è®¿é—®ã€‚</p><h1 id="codingæ³¨å†Œ"><a href="#codingæ³¨å†Œ" class="headerlink" title="codingæ³¨å†Œ"></a>codingæ³¨å†Œ</h1><p>coding 1æœˆ20å·å¼€å§‹å‡Œæ™¨æ›´æ–°ï¼Œå¥½å¤šåœ°æ–¹å’ŒåŸæ¥ä¸ä¸€æ ·äº†ï¼Œç°åœ¨åªèƒ½æ³¨å†Œå›¢é˜Ÿç”¨æˆ·</p><ol><li>è¿›å…¥<a href="https://coding.net/">codingå®˜ç½‘</a> ç‚¹å‡»å…è´¹æ³¨å†Œ</li><li>åˆ›å»ºé¡¹ç›®ï¼Œé€‰æ‹©DecOpsé¡¹ç›®ã€‚é¡¹ç›®åå’Œé¡¹ç›®æ ‡è¯†ä»¥åŠä»“åº“åä¸€è‡´</li><li>é…ç½®å…¬é’¥ï¼Œä»¥å®ç°éƒ¨ç½²æ—¶å…å¯†ã€‚ä¸githubä¸€æ ·ï¼Œä¸ªäººè®¾ç½®â€“&gt;å¢æ·»å…¬é’¥ï¼Œ<br>ä½†æ˜¯ä½ ç°åœ¨æ²¡æœ‰å…¬é’¥ï¼Œä½¿ç”¨ <code>ssh-keygen -t rsa -C &quot;yourEmail@example.com&quot;</code> ç”Ÿæˆï¼Œåœ¨ç”¨æˆ·ç›®å½•ä¸‹ .ssh ä¸­åˆ°id_rsa.pubæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°æ¡†ä¸­ã€‚</li></ol><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>ssh -T git@e.coding.net&amp;nbsp</code>;æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼Œ</p><p>è‹¥å‡ºç°ä»¥ä¸‹æç¤ºï¼Œåˆ™è¯æ˜é…ç½®æˆåŠŸï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Coding æç¤º: Hello XXX, You&#39;ve connected to Coding.net via SSH. This is a personal key.</span><br><span class="line">XXXï¼Œä½ å¥½ï¼Œä½ å·²ç»é€šè¿‡ SSH åè®®è®¤è¯ Coding.net æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ªäººå…¬é’¥</span><br></pre></td></tr></table></figure><h1 id="é…ç½®æ ¹ç›®å½•ä¸‹çš„-config-yml"><a href="#é…ç½®æ ¹ç›®å½•ä¸‹çš„-config-yml" class="headerlink" title="é…ç½®æ ¹ç›®å½•ä¸‹çš„_config.yml"></a>é…ç½®æ ¹ç›®å½•ä¸‹çš„_config.yml</h1><p>é€šè¿‡ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œå®ç°githubå’Œcodingçš„åŒæ—¶éƒ¨ç½²ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: </span><br><span class="line">        github: https:&#x2F;&#x2F;github.com&#x2F;imgyh&#x2F;imgyh.github.io.git</span><br><span class="line">        coding: https:&#x2F;&#x2F;e.coding.net&#x2F;imgyh&#x2F;imgyh.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥ç”¨SSHçš„é‚£ä¸ªé“¾æ¥ä¹Ÿå°±æ˜¯è¿™ç§çš„<a href="mailto:&#103;&#x69;&#116;&#64;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#99;&#111;&#x6d;">&#103;&#x69;&#116;&#64;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#99;&#111;&#x6d;</a>:imgyh/imgyh.github.io.gitä»¥åŠ<a href="mailto:&#x67;&#105;&#x74;&#64;&#x65;&#x2e;&#99;&#111;&#100;&#105;&#110;&#103;&#x2e;&#x6e;&#x65;&#x74;">&#x67;&#105;&#x74;&#64;&#x65;&#x2e;&#99;&#111;&#100;&#105;&#110;&#103;&#x2e;&#x6e;&#x65;&#x74;</a>:imgyh/imgyh.git<br>è¿™ä¸¤ç§å¥½åƒæ˜¯é…åˆä¸Šé¢çš„å…¬é’¥æ¥ä½¿ç”¨çš„ï¼Œå°±ä¸ç”¨è¾“å¯†ç äº†ï¼Œ<br>ä½†æ˜¯æˆ‘æ²¡æˆåŠŸï¼Œæ‰§è¡Œ<code>sudo hexo d</code>ä¸€ç›´åœ¨æŠ¥<code>Permission denied (publickey). fatal: Could not read from remote repository.</code>è¿™ä¸ªé”™è¯¯<br>åæ¥æˆ‘æ¢æˆHTTPåé—®é¢˜åˆæ¥äº†ï¼ŒHTTPå‘è¿œç«¯æ¨é€æ—¶éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯æ˜¯codingçš„å·²ç»å–æ¶ˆäº†ç”¨æˆ·åè¿™æ ·çš„å”¯ä¸€æ ‡è¯†ï¼ˆgithubç”¨æˆ·åå”¯ä¸€ï¼‰ä»–çš„ç”¨æˆ·åå˜æˆäº†é‚®ç®±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Username for &#39;https:&#x2F;&#x2F;e.coding.net&#39;: xxx@qq.com  </span><br><span class="line">Password for &#39;https:&#x2F;&#x2F;xxx@qq.com@e.coding.net&#39;: </span><br></pre></td></tr></table></figure><p>è§£å†³äº†ä»¥ä¸Šé—®é¢˜åï¼Œå°±å¯ä»¥pushä»£ç äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo clean</span><br><span class="line">sudo hexo g</span><br><span class="line">sudo hexo d</span><br></pre></td></tr></table></figure><h1 id="å¼€å¯coding-pageå’Œaliyunè§£æ"><a href="#å¼€å¯coding-pageå’Œaliyunè§£æ" class="headerlink" title="å¼€å¯coding pageå’Œaliyunè§£æ"></a>å¼€å¯coding pageå’Œaliyunè§£æ</h1><p><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208171438.png"><br>å†å¼€å¯è‡ªå®šä¹‰åŸŸå<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208171507.png"></p><p>é¦–å…ˆè¦æœ‰ä¸€ä¸ªåŸŸåï¼Œå¯ä»¥å»é˜¿é‡Œäº‘ä¹°<a href="https://wanwang.aliyun.com/?spm=5176.12825654.eofdhaal5.9.2e482c4af1gZ19&aly_as=IC99_D7X">åŸŸå</a><br>ç„¶åæ·»åŠ è§£æ<br><img src="https://cdn.jsdelivr.net/gh/imgyh/cdn/img/20200208171947.png"></p><p>githubçš„åŸŸåè§£æçº¿è·¯é€‰æ‹©å¢ƒå¤–ï¼Œcoding_pageåŸŸåè§£æçº¿è·¯é€‰æ‹©é»˜è®¤,ä¹Ÿå¯ä»¥å†æ·»åŠ ä¸€ä¸ªè§£æçº¿è·¯é€‰æ‹©ç™¾åº¦ï¼Œè®©ç™¾åº¦çš„çˆ¬è™«å»çˆ¬</p><h2 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h2><p>ä½¿ç”¨äº†CNAMEéœ€è¦åœ¨hexoæœ¬åœ°åšå®¢çš„<code>source</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºCNAMEæ–‡ä»¶ï¼Œæ— åç¼€ã€‚åœ¨é‡Œé¢å†™å…¥è‡ªå·±çš„åŸŸå</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">hexoå²ä¸Šæœ€å…¨æ­å»ºæ•™ç¨‹</a><br>2.<a href="https://www.cnblogs.com/lfri/p/12260144.html">Hexo åŒçº¿éƒ¨ç½²ä»¥å®ç°ç™¾åº¦æ”¶å½•</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Coding </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuå®‰è£…openVPN</title>
      <link href="posts/66650f51/"/>
      <url>posts/66650f51/</url>
      
        <content type="html"><![CDATA[<h1 id="openVPNæ­å»º"><a href="#openVPNæ­å»º" class="headerlink" title="openVPNæ­å»º"></a>openVPNæ­å»º</h1><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br><span class="line"></span><br><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…openVPN"><a href="#å®‰è£…openVPN" class="headerlink" title="å®‰è£…openVPN"></a>å®‰è£…openVPN</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;Nyr&#x2F;openvpn-install.git</span><br></pre></td></tr></table></figure><h2 id="è¿è¡ŒopenVPN"><a href="#è¿è¡ŒopenVPN" class="headerlink" title="è¿è¡ŒopenVPN"></a>è¿è¡ŒopenVPN</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">cd openvpn-install&#x2F;</span><br><span class="line">ls</span><br><span class="line">chmod +x openvpn-install.sh</span><br><span class="line">sudo .&#x2F;openvpn-install.sh</span><br><span class="line">å°†æ”¶åˆ°ä¸€äº›æç¤ºï¼Œä»¥æ›´æ”¹æˆ–ç¡®è®¤å®‰è£…çš„é»˜è®¤è®¾ç½®ï¼š</span><br><span class="line"></span><br><span class="line">Welcome to this OpenVPN &quot;road warrior&quot; installer!</span><br><span class="line"></span><br><span class="line">I need to ask you a few questions before starting the setup.</span><br><span class="line"></span><br><span class="line">You can leave the default options and just press enter if you are ok with them.</span><br><span class="line"></span><br><span class="line">First, provide the IPv4 address of the network interface you want OpenVPN</span><br><span class="line"></span><br><span class="line">listening to.</span><br><span class="line"></span><br><span class="line">IP address: 192.168.10.2</span><br><span class="line"></span><br><span class="line">Which protocol do you want for OpenVPN connections?</span><br><span class="line"></span><br><span class="line">1) UDP (recommended)</span><br><span class="line"></span><br><span class="line">2) TCP</span><br><span class="line"></span><br><span class="line">Protocol [1-2]: 1</span><br><span class="line"></span><br><span class="line">What port do you want OpenVPN listening to?</span><br><span class="line"></span><br><span class="line">Port: 1194</span><br><span class="line"></span><br><span class="line">Which DNS do you want to use with the VPN?</span><br><span class="line"></span><br><span class="line">1) Current system resolvers</span><br><span class="line"></span><br><span class="line">2) 1.1.1.1</span><br><span class="line"></span><br><span class="line">3) Google</span><br><span class="line"></span><br><span class="line">4) OpenDNS</span><br><span class="line"></span><br><span class="line">5) Verisign</span><br><span class="line"></span><br><span class="line">DNS [1-5]: 1</span><br><span class="line"></span><br><span class="line">Finally, tell me your name for the client certificate.</span><br><span class="line"></span><br><span class="line">Please, use one word only, no special characters.</span><br><span class="line"></span><br><span class="line">Client name: client</span><br><span class="line"></span><br><span class="line">Okay, that was all I needed. We are ready to set up your OpenVPN server now.</span><br><span class="line"></span><br><span class="line">Press any key to continue... &lt;Enter&gt;</span><br></pre></td></tr></table></figure><p>å›ç­”å®Œé—®é¢˜åæŒ‰enterå¼€å§‹å®‰è£…æˆåŠŸåï¼Œæ”¶åˆ°æˆåŠŸæ¶ˆæ¯</p><h2 id="åˆ›å»ºè™šæ‹Ÿæ¥å£"><a href="#åˆ›å»ºè™šæ‹Ÿæ¥å£" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿæ¥å£"></a>åˆ›å»ºè™šæ‹Ÿæ¥å£</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ip ad | grep tun0</span><br><span class="line"></span><br><span class="line">ip route | grep tun0</span><br><span class="line"></span><br><span class="line">æµ‹è¯•è¦å®‰è£…</span><br><span class="line">sudo apt-get install traceroute</span><br><span class="line"></span><br><span class="line">ç„¶å</span><br><span class="line">traceroute 10.8.0.1</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>ç”Ÿæˆé…ç½®æ–‡ä»¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;openvpn-install.sh </span><br></pre></td></tr></table></figure><p>æŠŠé…ç½®æ–‡ä»¶ä¿å­˜åˆ°å®¢æˆ·ç«¯</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenVpn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>51å•ç‰‡æœºä¸­æ–­è¯¦è§£</title>
      <link href="posts/d9d9afd1/"/>
      <url>posts/d9d9afd1/</url>
      
        <content type="html"><![CDATA[<h1 id="51å•ç‰‡æœºä¸­æ–­è¯¦è§£"><a href="#51å•ç‰‡æœºä¸­æ–­è¯¦è§£" class="headerlink" title="51å•ç‰‡æœºä¸­æ–­è¯¦è§£"></a>51å•ç‰‡æœºä¸­æ–­è¯¦è§£</h1><h2 id="å¸¸ç”¨å¯„å­˜å™¨"><a href="#å¸¸ç”¨å¯„å­˜å™¨" class="headerlink" title="å¸¸ç”¨å¯„å­˜å™¨"></a>å¸¸ç”¨å¯„å­˜å™¨</h2><h2 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h2><p><code>EA -â€“ ET2 ES ET1 EX1 ET0 EX0</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨:</span><br><span class="line">EA&#x3D;1,æ‰“å¼€æ€»ä¸­æ–­ã€‚</span><br><span class="line">ES&#x3D;1,æ‰“å¼€ä¸²å£ä¸­æ–­ã€‚</span><br><span class="line">ET0&#x2F;1,æ‰“å¼€å®šæ—¶å™¨0&#x2F;1ä¸­æ–­ã€‚</span><br><span class="line">EX0&#x2F;1,æ‰“å¼€å¤–éƒ¨ä¸­æ–­0&#x2F;1ã€‚</span><br></pre></td></tr></table></figure><p>ä¸­æ–­ä¼˜å…ˆçº§:ä»å³åˆ°å·¦ä¾æ¬¡é€’å‡ã€‚</p><h2 id="TMOD"><a href="#TMOD" class="headerlink" title="TMOD"></a>TMOD</h2><p><code>GATE C/T M1 M0 GATE C/T M1 M0</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨:</span><br><span class="line">é«˜å››ä½æ§åˆ¶å®šæ—¶å™¨1æ¨¡å¼ï¼Œä½å››ä½æ§åˆ¶å®šæ—¶å™¨0ã€‚</span><br><span class="line">GATE&#x3D;0ä»…ç”±TR0&#x2F;1æ§åˆ¶ï¼ŒGATE&#x3D;1ç”±TR0&#x2F;1å’Œå¤–éƒ¨ä¸­æ–­å¼•è„šæ§åˆ¶ã€‚</span><br><span class="line">C&#x2F;T&#x3D;0å®šæ—¶æ¨¡å¼ã€‚C&#x2F;T&#x3D;1è®¡æ•°æ¨¡å¼ã€‚</span><br><span class="line">M1 M0 ä¸ºï¼š</span><br><span class="line">00 æ–¹å¼0ï¼Œ13ä½å®šæ—¶&#x2F;è®¡æ•°å™¨</span><br><span class="line">01 æ–¹å¼1ï¼Œ16ä½å®šæ—¶&#x2F;è®¡æ•°å™¨</span><br><span class="line">10 æ–¹å¼2ï¼Œ8ä½åˆå€¼è‡ªåŠ¨é‡è£…åˆå€¼çš„8ä½å®šæ—¶&#x2F;è®¡æ•°å™¨</span><br><span class="line">11 æ–¹å¼3ï¼Œä»…T0,åˆ†æˆä¸¤ä¸ª8ä½å®šæ—¶&#x2F;è®¡æ•°å™¨ï¼ŒT1åœæ­¢</span><br></pre></td></tr></table></figure><h2 id="TCON"><a href="#TCON" class="headerlink" title="TCON"></a>TCON</h2><p><code>TF1 TR1 TF0 TR0 IE1 IT1 IE0 IT0</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TFï¼Œå®šæ—¶å™¨æº¢å‡ºæ ‡å¿—ä½ï¼Œæ— éœ€æ“ä½œï¼Œç¡¬ä»¶æ§åˆ¶ã€‚</span><br><span class="line">TRï¼Œå®šæ—¶å™¨è¿è¡Œæ§åˆ¶ä½ã€‚</span><br><span class="line">IE,å¤–éƒ¨ä¸­æ–­æº¢å‡ºæ ‡å¿—ä½ã€‚</span><br><span class="line">IT,å¤–éƒ¨ä¸­æ–­å…è®¸ã€‚IT&#x3D;1ï¼Œä¸‹é™æ²¿è§¦å‘ï¼ŒIT&#x3D;0ï¼Œä½ç”µå¹³è§¦å‘ã€‚</span><br></pre></td></tr></table></figure><h2 id="PCON"><a href="#PCON" class="headerlink" title="PCON"></a>PCON</h2><p>8ä½å¯„å­˜å™¨ï¼Œæœ€é«˜ä½ä¸ºSMOD=1ä¸²è¡Œæ–¹å¼123æ³¢ç‰¹ç‡åŠ å€ã€‚SMOD=0ä¸²è¡Œæ–¹å¼123æ­£å¸¸æ³¢ç‰¹ç‡ã€‚</p><p>ä¸Šç”µååˆå§‹åŒ–PCON=0X00</p><h2 id="SCON"><a href="#SCON" class="headerlink" title="SCON"></a>SCON</h2><p><code>SM0 SM1 SM2 REN TB8 RB8 TI RI</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">SM0 SM1ä¸ºï¼š</span><br><span class="line">00 æ–¹å¼0ï¼ŒåŒæ­¥ç§»ä½å¯„å­˜æ–¹å¼ï¼Œé€šå¸¸ç”¨äºæ‰©å±•I&#x2F;O</span><br><span class="line">01 æ–¹å¼1ï¼Œ10ä½å¼‚æ­¥é¦–å‘(8ä½æ•°æ®)ï¼Œæ³¢ç‰¹ç‡å¯è°ƒ(ç”±å®šæ—¶å™¨1æº¢å‡ºç‡æ§åˆ¶)ã€‚</span><br><span class="line">10 æ–¹å¼2ï¼Œ11ä½å¼‚æ­¥æ”¶å‘(9ä½æ•°æ®)ï¼Œæ³¢ç‰¹ç‡å›ºå®šã€‚</span><br><span class="line">11 æ–¹å¼3ï¼Œ11ä½å¼‚æ­¥æ”¶å‘(9ä½æ•°æ®)ï¼Œæ³¢ç‰¹ç‡å¯è°ƒ(ç”±å®šæ—¶å™¨1æº¢å‡ºç‡æ§åˆ¶)</span><br><span class="line"></span><br><span class="line">SM2 å¤šæœºé€šä¿¡æ§åˆ¶ä½ï¼Œç”¨äºæ–¹å¼2ï¼Œ3</span><br><span class="line"></span><br><span class="line">REN&#x3D;1ï¼Œå…è®¸ä¸²è¡Œæ¥å—æ•°æ®</span><br><span class="line"></span><br><span class="line">REN&#x3D;0,ç¦æ­¢ä¸²è¡Œæ¥å—æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">TB8ï¼Œæ–¹å¼2ï¼Œ3å‘é€ç¬¬ä¹ä½æ•°æ®</span><br><span class="line"></span><br><span class="line">RB0, æ–¹å¼2ï¼Œ3æ¥å—ç¬¬ä¹ä½æ•°æ®</span><br><span class="line"></span><br><span class="line">TI,å‘é€æ•°æ®ä¸­æ–­æ ‡å¿—ä½ï¼Œç”±ç¡¬ä»¶ç½®1ï¼Œå‘é€ä¸­æ–­ï¼Œéœ€è¦è½¯ä»¶æ¸…é›¶ï¼Œè§£é™¤ä¸­æ–­ã€‚</span><br><span class="line"></span><br><span class="line">RI æ¥å—æ•°æ®ä¸­æ–­æ ‡å¿—ä½ï¼Œç”±ç¡¬ä»¶ç½®1ï¼Œå‘é€ä¸­æ–­ï¼Œéœ€è¦è½¯ä»¶æ¸…é›¶ï¼Œè§£é™¤ä¸­æ–­ã€‚</span><br></pre></td></tr></table></figure><h2 id="ä¸­æ–­æ§åˆ¶å†™æ³•"><a href="#ä¸­æ–­æ§åˆ¶å†™æ³•" class="headerlink" title="ä¸­æ–­æ§åˆ¶å†™æ³•"></a>ä¸­æ–­æ§åˆ¶å†™æ³•</h2><h2 id="å¤–éƒ¨ä¸­æ–­0-1ï¼š"><a href="#å¤–éƒ¨ä¸­æ–­0-1ï¼š" class="headerlink" title="å¤–éƒ¨ä¸­æ–­0/1ï¼š"></a>å¤–éƒ¨ä¸­æ–­0/1ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EX0&#x2F;1&#x3D;1;  &#x2F;&#x2F;æ‰“å¼€ä¸­æ–­</span><br><span class="line">IT0&#x2F;1&#x3D;0&#x2F;1;   &#x2F;&#x2F;ä¸º0ä½ç”µå¹³è§¦å‘ï¼Œä¸º1ä¸‹é™æ²¿è§¦å‘</span><br><span class="line">EA&#x3D;1;   &#x2F;&#x2F;æ‰“å¼€æ€»ä¸­æ–­</span><br></pre></td></tr></table></figure><h2 id="å®šæ—¶å™¨0æ–¹å¼1"><a href="#å®šæ—¶å™¨0æ–¹å¼1" class="headerlink" title="å®šæ—¶å™¨0æ–¹å¼1"></a>å®šæ—¶å™¨0æ–¹å¼1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TMOD&#x3D;0x01; &#x2F;&#x2F;ç¡®å®šå®šæ—¶å™¨å·¥ä½œæ–¹å¼å’Œä½¿ç”¨å“ªä¸ªå®šæ—¶å™¨ã€‚</span><br><span class="line">TH0&#x3D;(65536-N)&#x2F;256; &#x2F;&#x2F;èµ‹åˆå€¼</span><br><span class="line">TL0&#x3D;(65536-N)%256;</span><br><span class="line">EA&#x3D;1;  &#x2F;&#x2F;æ‰“å¼€æ€»ä¸­æ–­</span><br><span class="line">ET0&#x3D;1;   &#x2F;&#x2F;æ‰“å¼€å®šæ—¶å™¨0ä¸­æ–­</span><br><span class="line">TR0&#x3D;1;  &#x2F;&#x2F;å¯åŠ¨å®šæ—¶å™¨</span><br></pre></td></tr></table></figure><h2 id="ä¸²å£é€šä¿¡æ–¹å¼1"><a href="#ä¸²å£é€šä¿¡æ–¹å¼1" class="headerlink" title="ä¸²å£é€šä¿¡æ–¹å¼1"></a>ä¸²å£é€šä¿¡æ–¹å¼1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TMOD&#x3D;0x20;  &#x2F;&#x2F;å®šæ—¶å™¨1æ–¹å¼2</span><br><span class="line">TH1&#x3D; ;  &#x2F;&#x2F;æ ¹æ®æ³¢ç‰¹ç‡è®¡ç®—</span><br><span class="line">TL1&#x3D;;</span><br><span class="line">TR1&#x3D;1; &#x2F;&#x2F;å¯åŠ¨å®šæ—¶å™¨1ï¼Œä¸éœ€è¦ET1&#x3D;1,ä¸ç”¨æ‰“å¼€ä¸­æ–­</span><br><span class="line">SCON&#x3D;0x50;  &#x2F;&#x2F;ç¡®å®šä¸²è¡Œæ–¹å¼1æ‰“å¼€RENå…è®¸ä½ï¼Œè¿™é‡Œè¦å¯¹SCONæ“ä½œï¼Œä¸è¦å¯¹SM1 SM0 RENèµ‹å€¼ï¼Œæœ‰æ—¶ä¼šå‡ºé”™ã€‚</span><br><span class="line">EA&#x3D;1;  &#x2F;&#x2F;æ‰“å¼€æ€»ä¸­æ–­</span><br><span class="line">ES&#x3D;1;  &#x2F;&#x2F;æ‰“å¼€ä¸²å£ä¸­æ–­</span><br></pre></td></tr></table></figure><h2 id="æ³¢ç‰¹ç‡è®¡ç®—"><a href="#æ³¢ç‰¹ç‡è®¡ç®—" class="headerlink" title="æ³¢ç‰¹ç‡è®¡ç®—"></a>æ³¢ç‰¹ç‡è®¡ç®—</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ–¹å¼0æ³¢ç‰¹ç‡&#x3D;f&#x2F;12</span><br><span class="line">æ–¹å¼1æ³¢ç‰¹ç‡&#x3D;(2^SMOD&#x2F;32)Ã—T1æº¢å‡ºç‡</span><br><span class="line">æ–¹å¼2æ³¢ç‰¹ç‡&#x3D;(2^SMOD&#x2F;64)Ã—f</span><br><span class="line">æ–¹å¼3æ³¢ç‰¹ç‡&#x3D;(2^SMOD&#x2F;32)Ã—T1æº¢å‡ºç‡</span><br><span class="line"></span><br><span class="line">fä¸ºæ™¶æŒ¯é¢‘ç‡ï¼ŒSMODä¸ºPCONæœ€é«˜ä½</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
          <category> Embedded </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Embedded </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GithubPageæ­å»ºHexoåšå®¢</title>
      <link href="posts/dadde4c0/"/>
      <url>posts/dadde4c0/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…nodejs-npmå’Œhexo"><a href="#å®‰è£…nodejs-npmå’Œhexo" class="headerlink" title="å®‰è£…nodejs,npmå’Œhexo"></a>å®‰è£…nodejs,npmå’Œhexo</h1><h2 id="å®‰è£…nvmï¼Œnpm"><a href="#å®‰è£…nvmï¼Œnpm" class="headerlink" title="å®‰è£…nvmï¼Œnpm"></a>å®‰è£…nvmï¼Œnpm</h2><blockquote><p>nvm å…¨ç§° <code>Node Version Manager</code> æ˜¯ Nodejs ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½æ–¹ä¾¿çš„å¯¹ Nodejs çš„ç‰ˆæœ¬è¿›è¡Œåˆ‡æ¢ã€‚å¯ä»¥åœ¨ä»–çš„<a href="https://github.com/nvm-sh/nvm">githubä»“åº“</a>ä¸­æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p></blockquote><p>å®‰è£…ä¾èµ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update  </span><br><span class="line">sudo apt-get install build-essential libssl-dev</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯å®‰è£…nvm,å®‰è£…æ—¶ä¼šè‡ªåŠ¨å®‰è£…npmæ¨¡å—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…nodejs"><a href="#å®‰è£…nodejs" class="headerlink" title="å®‰è£…nodejs"></a>å®‰è£…nodejs</h2><p>å®‰è£…å¥½nvmåå°±å¯ä»¥ä½¿ç”¨nvmå®‰è£…nodejsäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nvm ls-remote         <span class="comment">#æŸ¥çœ‹è¿œç«¯ä»“åº“ä¸­çš„nodejsç‰ˆæœ¬ </span></span><br><span class="line">nvm ls                <span class="comment">#æŸ¥çœ‹æœ¬åœ°å®‰è£…çš„nodejsç‰ˆæœ¬</span></span><br><span class="line">nvm install [version] <span class="comment">#å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„nodejs</span></span><br><span class="line">nvm install latest    <span class="comment">#å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„node</span></span><br><span class="line">nvm use [version]     <span class="comment">#åˆ‡æ¢åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œå¦‚nvm use v5.3.0</span></span><br><span class="line">nvm uninstall [version] <span class="comment">#å¸è½½node</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹nodejsæœ‰å¾ˆå¤šç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯<code>nvm install v12.16.1</code></p><h2 id="å®‰è£…hexo"><a href="#å®‰è£…hexo" class="headerlink" title="å®‰è£…hexo"></a>å®‰è£…hexo</h2><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><blockquote><p>æ›´è¯¦ç»†å®‰è£…æ•™ç¨‹è¯·æŸ¥çœ‹<a href="https://hexo.io/zh-cn/docs/">hexoæ–‡æ¡£</a></p></blockquote><h1 id="å®‰è£…gitå¹¶é…ç½®"><a href="#å®‰è£…gitå¹¶é…ç½®" class="headerlink" title="å®‰è£…gitå¹¶é…ç½®"></a>å®‰è£…gitå¹¶é…ç½®</h1><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><h2 id="githubæ–°å»ºä»“åº“"><a href="#githubæ–°å»ºä»“åº“" class="headerlink" title="githubæ–°å»ºä»“åº“"></a>githubæ–°å»ºä»“åº“</h2><p>åˆ›å»ºä¸ªäººä»“åº“æ ¼å¼<a href="https://github.com/imgyh/imgyh.github.io">username.github.io</a></p><h2 id="ç”ŸæˆSSHæ·»åŠ åˆ°github"><a href="#ç”ŸæˆSSHæ·»åŠ åˆ°github" class="headerlink" title="ç”ŸæˆSSHæ·»åŠ åˆ°github"></a>ç”ŸæˆSSHæ·»åŠ åˆ°github</h2><blockquote><p>sshæ˜¯éå¿…é¡»çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨httpçš„æ–¹å¼æ¥æ¨é€ä»£ç ï¼Œåªæ˜¯æ¨é€ä»£ç æ—¶éœ€è¦è¾“å…¥å¯†ç </p></blockquote><p>å›åˆ°bashä¸­,é…ç½®gitè´¦æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;yourname&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;youremail&quot;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºSSH,ä¸€è·¯å›è½¦</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;youremail&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™å®ƒä¼šå‘Šè¯‰ä½ å·²ç»ç”Ÿæˆäº†.sshçš„æ–‡ä»¶å¤¹ã€‚åœ¨ä½ çš„ç”µè„‘ä¸­æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>sshï¼Œç®€å•æ¥è®²ï¼Œå°±æ˜¯ä¸€ä¸ªç§˜é’¥ï¼Œå…¶ä¸­ï¼Œid_rsaæ˜¯ä½ è¿™å°ç”µè„‘çš„ç§äººç§˜é’¥ï¼Œä¸èƒ½ç»™åˆ«äººçœ‹çš„ï¼Œ<br>id_rsa.pubæ˜¯å…¬å…±ç§˜é’¥ï¼Œå¯ä»¥éšä¾¿ç»™åˆ«äººçœ‹ã€‚æŠŠè¿™ä¸ªå…¬é’¥æ”¾åœ¨GitHubä¸Šï¼Œ<br>è¿™æ ·å½“ä½ é“¾æ¥GitHubè‡ªå·±çš„è´¦æˆ·æ—¶ï¼Œå®ƒå°±ä¼šæ ¹æ®å…¬é’¥åŒ¹é…ä½ çš„ç§é’¥ï¼Œå½“èƒ½å¤Ÿç›¸äº’åŒ¹é…æ—¶ï¼Œ<br>æ‰èƒ½å¤Ÿé¡ºåˆ©çš„é€šè¿‡gitä¸Šä¼ ä½ çš„æ–‡ä»¶åˆ°GitHubä¸Šã€‚</p><p>è€Œååœ¨GitHubçš„settingä¸­ï¼Œæ‰¾åˆ°SSH keysçš„è®¾ç½®é€‰é¡¹ï¼Œç‚¹å‡»New SSH key<br>æŠŠä½ çš„id_rsa.pubé‡Œé¢çš„ä¿¡æ¯å¤åˆ¶è¿›å»ã€‚</p><h1 id="éƒ¨ç½²hexoåˆ°github"><a href="#éƒ¨ç½²hexoåˆ°github" class="headerlink" title="éƒ¨ç½²hexoåˆ°github"></a>éƒ¨ç½²hexoåˆ°github</h1><h2 id="åˆå§‹åŒ–æœ¬åœ°blog"><a href="#åˆå§‹åŒ–æœ¬åœ°blog" class="headerlink" title="åˆå§‹åŒ–æœ¬åœ°blog"></a>åˆå§‹åŒ–æœ¬åœ°blog</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo init myblog</span><br><span class="line"><span class="built_in">cd</span> myblog //è¿›å…¥è¿™ä¸ªmyblogæ–‡ä»¶å¤¹</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹ç›®å½•ä¸‹æœ‰ï¼š</p><p>node_modules: ä¾èµ–åŒ…<br>publicï¼šå­˜æ”¾ç”Ÿæˆçš„é¡µé¢<br>scaffoldsï¼šç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿<br>sourceï¼šç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« <br>themesï¼šä¸»é¢˜<br>_config.yml: åšå®¢çš„é…ç½®æ–‡ä»¶</p><p>æ‰“å¼€hexoçš„æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥localhost:4000å°±å¯ä»¥çœ‹åˆ°ä½ ç”Ÿæˆçš„åšå®¢äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo g </span><br><span class="line">sudo hexo s</span><br></pre></td></tr></table></figure><h2 id="éƒ¨ç½²åˆ°github"><a href="#éƒ¨ç½²åˆ°github" class="headerlink" title="éƒ¨ç½²åˆ°github"></a>éƒ¨ç½²åˆ°github</h2><p>è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†hexoå’ŒGitHubå…³è”èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯å°†hexoç”Ÿæˆçš„æ–‡ç« éƒ¨ç½²åˆ°GitHubä¸Šï¼Œæ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œç¿»åˆ°æœ€åï¼Œä¿®æ”¹ä¸º<br>YourgithubNameå°±æ˜¯ä½ çš„GitHubè´¦æˆ·</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/YourgithubName/YourgithubName.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™éœ€è¦å…ˆå®‰è£…deploy-git ï¼Œä¹Ÿå°±æ˜¯éƒ¨ç½²çš„å‘½ä»¤,è¿™æ ·ä½ æ‰èƒ½ç”¨å‘½ä»¤éƒ¨ç½²åˆ°GitHubã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç„¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ hexo cleanæ¸…é™¤äº†ä½ ä¹‹å‰ç”Ÿæˆçš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ã€‚<br>hexo generate é¡¾åæ€ä¹‰ï¼Œç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨ hexo gç¼©å†™<br>hexo deploy éƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨hexo dç¼©å†™</p><p>æ³¨æ„deployæ—¶å¯èƒ½è¦ä½ è¾“å…¥usernameå’Œpasswordã€‚</p><p>è¿‡ä¸€ä¼šå„¿å°±å¯ä»¥åœ¨<a href="http://yourname.github.io/">http://yourname.github.io</a> è¿™ä¸ªç½‘ç«™çœ‹åˆ°ä½ çš„åšå®¢äº†ï¼ï¼</p><h1 id="hexoåŸºæœ¬é…ç½®"><a href="#hexoåŸºæœ¬é…ç½®" class="headerlink" title="hexoåŸºæœ¬é…ç½®"></a>hexoåŸºæœ¬é…ç½®</h1><p>åœ¨æ–‡ä»¶æ ¹ç›®å½•ä¸‹çš„_config.ymlï¼Œå°±æ˜¯æ•´ä¸ªhexoæ¡†æ¶çš„é…ç½®æ–‡ä»¶äº†ã€‚å¯ä»¥åœ¨é‡Œé¢ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚è¯¦ç»†å¯å‚è€ƒ<a href="https://hexo.io/zh-cn/docs/configuration">å®˜æ–¹</a>çš„é…ç½®æè¿°ã€‚</p><h2 id="æ–°å»ºæ–‡ç« post"><a href="#æ–°å»ºæ–‡ç« post" class="headerlink" title="æ–°å»ºæ–‡ç« post"></a>æ–°å»ºæ–‡ç« post</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo new paper_name</span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºpage"><a href="#æ–°å»ºpage" class="headerlink" title="æ–°å»ºpage"></a>æ–°å»ºpage</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo new page page_name</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿä¼šè‡ªåŠ¨ç»™ä½ åœ¨sourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªpage_nameæ–‡ä»¶å¤¹ï¼Œä»¥åŠpage_nameæ–‡ä»¶å¤¹ä¸­çš„index.mdï¼Œè¿™æ ·ä½ è®¿é—®çš„page_nameå¯¹åº”çš„é“¾æ¥å°±æ˜¯<a href="http://xxx.xxx/page_name">http://xxx.xxx/page_name</a></p><h2 id="æ–°å»ºè‰ç¨¿draft"><a href="#æ–°å»ºè‰ç¨¿draft" class="headerlink" title="æ–°å»ºè‰ç¨¿draft"></a>æ–°å»ºè‰ç¨¿draft</h2><p>draftæ˜¯è‰ç¨¿çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ä½ å¦‚æœæƒ³å†™æ–‡ç« ï¼Œåˆä¸å¸Œæœ›è¢«çœ‹åˆ°ï¼Œé‚£ä¹ˆå¯ä»¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft newpage</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¼šåœ¨source/_draftä¸­æ–°å»ºä¸€ä¸ªnewpage.mdæ–‡ä»¶ï¼Œå¦‚æœä½ çš„è‰ç¨¿æ–‡ä»¶å†™çš„è¿‡ç¨‹ä¸­ï¼Œæƒ³è¦é¢„è§ˆä¸€ä¸‹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server --draft</span><br></pre></td></tr></table></figure><p>åœ¨æœ¬åœ°ç«¯å£ä¸­å¼€å¯æœåŠ¡é¢„è§ˆã€‚</p><p>å¦‚æœä½ çš„è‰ç¨¿æ–‡ä»¶å†™å®Œäº†ï¼Œæƒ³è¦å‘è¡¨åˆ°postä¸­ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish draft newpage</span><br></pre></td></tr></table></figure><p>å°±ä¼šè‡ªåŠ¨æŠŠnewpage.mdå‘é€åˆ°postä¸­ã€‚</p><h1 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h1><p>åˆ°è¿™ä¸€æ­¥ï¼Œå¦‚æœä½ è§‰å¾—é»˜è®¤çš„landscapeä¸»é¢˜ä¸å¥½çœ‹ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨å®˜ç½‘çš„ä¸»é¢˜ä¸­ï¼Œé€‰æ‹©ä½ å–œæ¬¢çš„ä¸€ä¸ªä¸»é¢˜è¿›è¡Œä¿®æ”¹å°±å¯ä»¥å•¦ã€‚ç‚¹<a href="https://hexo.io/themes/">è¿™é‡Œ</a><br>ä¸ªäººè§‰å¾—å¥½çœ‹çš„ä¸»é¢˜<br>1.<a href="https://github.com/theme-next/hexo-theme-next">next</a><br>2.<a href="https://github.com/blinkfox/hexo-theme-matery">matery</a><br>3.<a href="https://jerryc.me/">butterfly</a><br>4.<a href="https://github.com/honjun/hexo-theme-sakura">sakura</a><br>å…·ä½“é…ç½®å‚è§å„ä¸»é¢˜readmeï¼Œæˆ‘ç”¨çš„<a href="https://jerryc.me/">butterfly</a>è¿™ä¸ªä¸»é¢˜ï¼Œæ–‡æ¡£ç‚¹<a href="https://jerryc.me/posts/21cfbf15/">è¿™é‡Œ</a></p><h1 id="æºä»£ç å‚¨å­˜"><a href="#æºä»£ç å‚¨å­˜" class="headerlink" title="æºä»£ç å‚¨å­˜"></a>æºä»£ç å‚¨å­˜</h1><h2 id="gitå¤šåˆ†æ”¯"><a href="#gitå¤šåˆ†æ”¯" class="headerlink" title="gitå¤šåˆ†æ”¯"></a>gitå¤šåˆ†æ”¯</h2><p>é—®é¢˜æ¥äº†ï¼Œå¦‚æœä½ ç°åœ¨åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ä¸Šå†™çš„åšå®¢ï¼Œéƒ¨ç½²åœ¨äº†ç½‘ç«™ä¸Šï¼Œé‚£ä¹ˆä½ åœ¨å®¶é‡Œç”¨å°å¼æœºï¼Œæˆ–è€…å®éªŒå®¤çš„å°å¼æœºï¼Œå‘ç°ä½ ç”µè„‘é‡Œé¢æ²¡æœ‰åšå®¢çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æ¢ç”µè„‘äº†ï¼Œæœ€åä¸çŸ¥é“æ€ä¹ˆç§»åŠ¨æ–‡ä»¶ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨gitçš„åˆ†æ”¯ç³»ç»Ÿè¿›è¡Œå¤šç»ˆç«¯å·¥ä½œäº†ï¼Œè¿™æ ·æ¯æ¬¡æ‰“å¼€ä¸ä¸€æ ·çš„ç”µè„‘ï¼Œåªéœ€è¦è¿›è¡Œç®€å•çš„é…ç½®å’Œåœ¨githubä¸ŠæŠŠæ–‡ä»¶åŒæ­¥ä¸‹æ¥ï¼Œå°±å¯ä»¥æ— ç¼æ“ä½œäº†ã€‚</p><p>æœºåˆ¶æ˜¯è¿™æ ·çš„ï¼Œç”±äºhexo dä¸Šä¼ éƒ¨ç½²åˆ°githubçš„å…¶å®æ˜¯hexoç¼–è¯‘åçš„æ–‡ä»¶ï¼Œæ˜¯ç”¨æ¥ç”Ÿæˆç½‘é¡µçš„ï¼Œä¸åŒ…å«æºæ–‡ä»¶ã€‚<br>ä¹Ÿå°±æ˜¯ä¸Šä¼ çš„æ˜¯åœ¨æœ¬åœ°ç›®å½•é‡Œè‡ªåŠ¨ç”Ÿæˆçš„.deploy_gité‡Œé¢ã€‚</p><p>å…¶ä»–æ–‡ä»¶ ï¼ŒåŒ…æ‹¬æˆ‘ä»¬å†™åœ¨source é‡Œé¢çš„ï¼Œå’Œé…ç½®æ–‡ä»¶ï¼Œä¸»é¢˜æ–‡ä»¶ï¼Œéƒ½æ²¡æœ‰ä¸Šä¼ åˆ°github</p><p>æ‰€ä»¥å¯ä»¥åˆ©ç”¨gitçš„åˆ†æ”¯ç®¡ç†ï¼Œå°†æºæ–‡ä»¶ä¸Šä¼ åˆ°githubçš„å¦ä¸€ä¸ªåˆ†æ”¯å³å¯ã€‚</p><p>é¦–å…ˆï¼Œå…ˆåœ¨githubä¸Šæ–°å»ºä¸€ä¸ªhexoåˆ†æ”¯ï¼Œ<br>ç„¶ååœ¨æœ¬åœ°çš„ä»»æ„ç›®å½•ä¸‹ï¼Œæ‰“å¼€git bashï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:username/username.github.io.git</span><br></pre></td></tr></table></figure><p>å°†å…¶å…‹éš†åˆ°æœ¬åœ°ï¼Œå› ä¸ºé»˜è®¤åˆ†æ”¯å·²ç»è®¾æˆäº†hexoï¼Œæ‰€ä»¥cloneæ—¶åªcloneäº†hexoã€‚</p><p>æ¥ä¸‹æ¥åœ¨å…‹éš†åˆ°æœ¬åœ°çš„username.github.ioä¸­ï¼ŒæŠŠé™¤äº†.git æ–‡ä»¶å¤¹å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ æ‰</p><p>æŠŠä¹‹å‰æˆ‘ä»¬å†™çš„åšå®¢æºæ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿‡æ¥ï¼Œé™¤äº†.deploy_gitã€‚è¿™é‡Œåº”è¯¥è¯´ä¸€å¥ï¼Œå¤åˆ¶è¿‡æ¥çš„æºæ–‡ä»¶åº”è¯¥æœ‰ä¸€ä¸ª.gitignoreï¼Œç”¨æ¥å¿½ç•¥ä¸€äº›ä¸éœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè‡ªå·±æ–°å»ºä¸€ä¸ªï¼Œåœ¨é‡Œé¢å†™ä¸Šå¦‚ä¸‹ï¼Œè¡¨ç¤ºè¿™äº›ç±»å‹æ–‡ä»¶ä¸éœ€è¦gitï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules&#x2F;</span><br><span class="line">public&#x2F;</span><br><span class="line">.deploy*&#x2F;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¦‚æœä½ ä¹‹å‰å…‹éš†è¿‡themeä¸­çš„ä¸»é¢˜æ–‡ä»¶ï¼Œé‚£ä¹ˆåº”è¯¥æŠŠä¸»é¢˜æ–‡ä»¶ä¸­çš„.gitæ–‡ä»¶å¤¹åˆ æ‰ï¼Œå› ä¸ºgitä¸èƒ½åµŒå¥—ä¸Šä¼ ï¼Œæœ€å¥½æ˜¯æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Œæ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰ï¼Œå¦åˆ™ä¸Šä¼ çš„æ—¶å€™ä¼šå‡ºé”™ï¼Œå¯¼è‡´ä½ çš„ä¸»é¢˜æ–‡ä»¶æ— æ³•ä¸Šä¼ ï¼Œè¿™æ ·ä½ çš„é…ç½®åœ¨åˆ«çš„ç”µè„‘ä¸Šå°±ç”¨ä¸äº†äº†ã€‚</p><p>è€Œå</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit â€“m &quot;add branch&quot;</span><br><span class="line">git push </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¸Šä¼ å®Œäº†ï¼Œå¯ä»¥å»ä½ çš„githubä¸Šçœ‹ä¸€çœ‹hexoåˆ†æ”¯æœ‰æ²¡æœ‰ä¸Šä¼ ä¸Šå»ï¼Œå…¶ä¸­node_modulesã€publicã€db.jsonå·²ç»è¢«å¿½ç•¥æ‰äº†ï¼Œæ²¡æœ‰å…³ç³»ï¼Œä¸éœ€è¦ä¸Šä¼ çš„ï¼Œå› ä¸ºåœ¨åˆ«çš„ç”µè„‘ä¸Šéœ€è¦é‡æ–°è¾“å…¥å‘½ä»¤å®‰è£… ã€‚</p><h2 id="å»ºç«‹ç§æœ‰ä»“åº“"><a href="#å»ºç«‹ç§æœ‰ä»“åº“" class="headerlink" title="å»ºç«‹ç§æœ‰ä»“åº“"></a>å»ºç«‹ç§æœ‰ä»“åº“</h2><p>å¦‚æœè§‰å¾—å¤šåˆ†æ”¯ç®¡ç†å¯¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code> çš„éšç§ä¿æŠ¤ä¸æ˜¯å¾ˆå¥½ï¼Œå¯ä»¥è€ƒè™‘æ–°å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œå…¶ä»–æ“ä½œæ­¥éª¤åŒä¸Š</p><h1 id="æ›´æ¢ç”µè„‘æ“ä½œ"><a href="#æ›´æ¢ç”µè„‘æ“ä½œ" class="headerlink" title="æ›´æ¢ç”µè„‘æ“ä½œ"></a>æ›´æ¢ç”µè„‘æ“ä½œ</h1><p>å’Œä¹‹å‰ä¸€æ ·ï¼Œå®‰è£…gitï¼Œnodejsï¼Œnpmï¼Œhexoï¼Œè®¾ç½®sshkey<br>åœ¨ä»»æ„æ–‡ä»¶å¤¹ä¸‹å…‹éš†hexoåˆ†æ”¯<br>ç„¶åè¿›å…¥å…‹éš†åˆ°çš„æ–‡ä»¶å¤¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> xxx.github.io</span><br><span class="line">sudo npm install</span><br><span class="line">sudo npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆï¼Œéƒ¨ç½²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo generate</span><br><span class="line">sudo hexo d</span><br></pre></td></tr></table></figure><p>æœ€å¥½ä¸Šä¼ ä¸€ä¸‹æºæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit â€“m <span class="string">&quot;xxxx&quot;</span></span><br><span class="line">git push </span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯åœ¨å·²ç»ç¼–è¾‘è¿‡çš„ç”µè„‘ä¸Šï¼Œå·²ç»æœ‰cloneæ–‡ä»¶å¤¹äº†ï¼Œé‚£ä¹ˆï¼Œæ¯æ¬¡åªè¦å’Œè¿œç«¯åŒæ­¥ä¸€ä¸‹å°±è¡Œäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">hexoå²ä¸Šæœ€å…¨æ­å»ºæ•™ç¨‹</a><br>2.<a href="https://jerryc.me/posts/21cfbf15/">hexo-theme-butterflyå®‰è£…æ–‡æ¡£</a><br>3.<a href="https://hexo.io/zh-cn/docs/configuration">hexoå®˜æ–¹æ–‡æ¡£</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
